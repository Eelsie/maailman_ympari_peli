if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
var BBUI;(function(f){var j=f.console,a=new RegExp("[.*+?|()\\[\\]{}\\\\\\$\\^]","g"),e=f.encodeURIComponent,h="string";function c(){}function d(o,t,p,m,q,l,n){var v,s;n=n||{};s=n.scope||this;function u(w,x){if(q){q.call(s,w,x)}}function r(y,z){var w;if(l){try{w=JSON.parse(y.responseText)}catch(x){w={message:BBUI.resources.ResourceManager.getString("Service_UnknownRequestError")}}l.call(s,y,w,z)}}v={async:n.async,cache:n.cache,cancelCallback:n.cancelCallback,data:m,failureCallback:r,httpHeaders:o.httpHeaders,responseFormat:"object",scope:s,state:n.state,successCallback:u};return BBUI.xhr(t,p,v)}function k(){var m;try{m=new f.ActiveXObject("Msxml2.XMLHTTP.6.0");return m}catch(l){}m=new f.ActiveXObject("Msxml2.XMLHTTP.3.0");return m}function i(){var m,o,l;try{if(f.XMLHttpRequest){m=new XMLHttpRequest()}else{if(f.ActiveXObject){m=k()}}}catch(n){o=n}if(!m){l="XMLHTTP requests are disabled by your web browser, or your web browser does not support them.";if(o&&o.message){l+="  The following error was returned by the web browser: "+o.message}throw new Error(l)}return m}function b(n,o,m){var l;l=n[o];if(typeof l==="undefined"){return m}return l}function g(m,n,l){if(m===n){return true}if(l&&typeof m===h&&typeof n===h){return m.toUpperCase()===n.toUpperCase()}return false}BBUI={emptyGuid:"00000000-0000-0000-0000-000000000000",is:function(l){return typeof l!=="undefined"&&l!==null},xhr:function(E,y,A){var p,l,r,m,z,t,n,w,C,D,x,v,q,s;function o(G){var F;switch(G.status){case 0:break;case 200:if(s){switch(v){case"JSON":F=G.responseText;break;case"OBJECT":F=JSON.parse(G.responseText);break;default:F=G.responseXML;break}s.call(q,F,A.state)}break;default:if(t){t.call(q,G,A.state)}}}function B(){D.abort();if(r){r.call(q,A.state)}}function u(){if(D.readyState===4){D.onreadystatechange=c;o(D)}}A=A||{};p=b(A,"async",true);l=!!A.cache;z=b(A,"data",null);s=A.successCallback;t=A.failureCallback;r=A.cancelCallback;q=b(A,"scope",this);C=A.httpHeaders;x=A.requestFormat;v=A.responseFormat;n=!!(s||t);if(!l){y+=(y.indexOf("?")<0?"?":"&")+"_ts="+new Date().getTime()}if(x&&v){x=x.toUpperCase();v=v.toUpperCase()}else{if(x&&!v){v=x=x.toUpperCase()}else{if(!x&&v){x=v=v.toUpperCase()}else{x=v="XML"}}}D=i();D.open(E,y,p);if(p&&n){D.onreadystatechange=u}switch(x){case"JSON":case"OBJECT":m="application/json";if(x==="OBJECT"){if(z===""){z=""}z=JSON.stringify(z)}break;case"CSV":m="text/csv";break;default:m="text/xml";break}D.setRequestHeader("Content-type",m);if(C){for(w in C){if(C.hasOwnProperty(w)){D.setRequestHeader(w,C[w])}}}if(z||(typeof navigator!=="undefined"&&navigator.userAgent.match(/Gecko/))){D.send(z)}else{D.send()}if(!p&&n){o(D)}return{xhr:D,cancel:B}},doGet:function(n,l,m,o,p){return d(n,"GET",l,null,m,o,p)},doPost:function(o,p,m,q,l,n){return d(o,"POST",p,m,q,l,n)},findByProp:function(r,p,l,n,q){var m,s,o;if(r){m=r.length||0;while(m--){s=r[m];if(s){o=BBUI.getPropValue(s,p,n);if(g(o,l,q)){return s}}}}return null},getPropValue:function(r,n,l,q){var m,o;if(r&&n){if(typeof r[n]!=="undefined"){return r[n]}if(l){o=n.toUpperCase();for(m in r){if(m.toUpperCase()===o){return r[m]}}}}return q},clone:function(m){var l,n;if(typeof m!=="undefined"){if(m===null){return null}l={};for(n in m){if(m.hasOwnProperty(n)){l[n]=m[n]}}}return l},copyProps:function(l,m){var n;if(m){for(n in m){if(m.hasOwnProperty(n)){l[n]=m[n]}}}},guidEquals:function(m,o,l,n){if(typeof m!==h||typeof o!==h){return false}if(!l){m=m.toUpperCase()}if(!n){o=o.toUpperCase()}return m===o},getObjByName:function(m){var l,p,r,q,o;q=m.split(".");r=f;for(l=0,p=q.length;l<p;l++){o=q[l];if(!(l===0&&o==="window")){r=r[o];if(typeof r==="undefined"&&l<p-1){return null}}}return r},ns:function(q){var l,o,r,p,m;p=q.split(".");r=f;for(l=0,o=p.length;l<o;l++){m=p[l];if(!(l===0&&m==="window")){if(typeof r[m]==="undefined"){r[m]={}}r=r[m]}}return r},urlConcat:function(m){var n,o,q,l,p;o=arguments.length;if(o){if(!BBUI.is(m)){return null}p=m.toString();for(l=1;l<o;l++){q=arguments[l];if(!BBUI.is(q)){return null}n=q.toString();if(p.charAt(p.length-1)!=="/"&&n.charAt(0)!=="/"){p+="/"}p+=n}return p}return null},argsToArray:function(m,l){return Array.prototype.slice.call(m,l||0)},arrayToQueryString:function(r,p,m){var l,t,o,q;q="";if(r&&r.length){p=p||"";for(l=0,o=r.length;l<o;l++){t=r[l];if(l>0||m){q+="&"}q+=p+e(t.id||t.name)+"="+e(t.value)}}return q},getAbsoluteBaseUrl:function(o){var l,m,n;if(!o){return o}n=o.split("/").length;l=location.href.split("?")[0];for(m=0;m<n+1;m++){l=l.substr(0,l.lastIndexOf("/"))}return l},endsWith:function(m,n){var l;if(typeof m===h&&typeof n===h){l=m.length-n.length;return l>=0&&m.lastIndexOf(n)===l}return false},override:function(l,o){var n,m,q;n={};for(q in o){if(o.hasOwnProperty(q)){m=l[q];if(m){n[q]=m}l[q]=o[q]}}return n},escapeRegExp:function(l){if(typeof l===h){return l.replace(a,"\\$&")}return null},console:{hasConsole:false,log:c,debug:c,info:c,warn:c,error:c,assert:c,dirxml:c,trace:c,group:c,groupEnd:c,time:c,timeEnd:c,dir:c,profile:c,profileEnd:c,count:c},globals:{},forms:{},pages:{lists:{}},query:{},resources:{},uiwidgets:{},exportdefinition:{}}}(this));
window.undefined=window.undefined;Ext={version:"3.4.0",versionDetail:{major:3,minor:4,patch:0}};Ext.apply=function(g,h,f){if(f){Ext.apply(g,f)}if(g&&h&&typeof h=="object"){for(var c in h){g[c]=h[c]}}return g};(function(){var af=0,P=Object.prototype.toString,Q=navigator.userAgent.toLowerCase(),e=function(a){return a.test(Q)},T=document,Y=T.documentMode,W=T.compatMode=="CSS1Compat",F=e(/opera/),S=e(/\bchrome\b/),R=e(/webkit/),J=!S&&e(/safari/),ae=J&&e(/applewebkit\/4/),ab=J&&e(/version\/3/),G=J&&e(/version\/4/),O=!F&&e(/msie/),M=O&&(e(/msie 7/)||Y==7),L=O&&(e(/msie 8/)&&Y!=7),K=O&&e(/msie 9/),N=O&&!M&&!L&&!K,Z=!R&&e(/gecko/),ad=Z&&e(/rv:1\.8/),aa=Z&&e(/rv:1\.9/),H=O&&!W,E=e(/windows|win32/),V=e(/macintosh|mac os x/),U=e(/adobeair/),X=e(/linux/),ac=/^https/i.test(window.location.protocol);if(N){try{T.execCommand("BackgroundImageCache",false,true)}catch(I){}}Ext.apply(Ext,{SSL_SECURE_URL:ac&&O?'javascript:""':"about:blank",isStrict:W,isSecure:ac,isReady:false,enableForcedBoxModel:false,enableGarbageCollector:true,enableListenerCollection:false,enableNestedListenerRemoval:false,USE_NATIVE_JSON:false,applyIf:function(a,b){if(a){for(var c in b){if(!Ext.isDefined(a[c])){a[c]=b[c]}}}return a},id:function(a,b){a=Ext.getDom(a,true)||{};if(!a.id){a.id=(b||"ext-gen")+(++af)}return a.id},extend:function(){var b=function(d){for(var c in d){this[c]=d[c]}};var a=Object.prototype.constructor;return function(i,f,h){if(typeof f=="object"){h=f;f=i;i=h.constructor!=a?h.constructor:function(){f.apply(this,arguments)}}var d=function(){},g,c=f.prototype;d.prototype=c;g=i.prototype=new d();g.constructor=i;i.superclass=c;if(c.constructor==a){c.constructor=f}i.override=function(j){Ext.override(i,j)};g.superclass=g.supr=(function(){return c});g.override=b;Ext.override(i,h);i.extend=function(j){return Ext.extend(i,j)};return i}}(),override:function(c,b){if(b){var a=c.prototype;Ext.apply(a,b);if(Ext.isIE&&b.hasOwnProperty("toString")){a.toString=b.toString}}},namespace:function(){var a=arguments.length,b=0,h,i,g,d,c,f;for(;b<a;++b){g=arguments[b];d=arguments[b].split(".");f=window[d[0]];if(f===undefined){f=window[d[0]]={}}c=d.slice(1);h=c.length;for(i=0;i<h;++i){f=f[c[i]]=f[c[i]]||{}}}return f},urlEncode:function(c,b){var d,a=[],f=encodeURIComponent;Ext.iterate(c,function(h,g){d=Ext.isEmpty(g);Ext.each(d?h:g,function(i){a.push("&",f(h),"=",(!Ext.isEmpty(i)&&(i!=h||!d))?(Ext.isDate(i)?Ext.encode(i).replace(/"/g,""):f(i)):"")})});if(!b){a.shift();b=""}return b+a.join("")},urlDecode:function(h,g){if(Ext.isEmpty(h)){return{}}var c={},b=h.split("&"),d=decodeURIComponent,f,a;Ext.each(b,function(i){i=i.split("=");f=d(i[0]);a=d(i[1]);c[f]=g||!c[f]?a:[].concat(c[f]).concat(a)});return c},urlAppend:function(a,b){if(!Ext.isEmpty(b)){return a+(a.indexOf("?")===-1?"?":"&")+b}return a},toArray:function(){return O?function(g,c,a,b){b=[];for(var f=0,d=g.length;f<d;f++){b.push(g[f])}return b.slice(c||0,a||b.length)}:function(c,b,a){return Array.prototype.slice.call(c,b||0,a||c.length)}}(),isIterable:function(a){if(Ext.isArray(a)||a.callee){return true}if(/NodeList|HTMLCollection/.test(P.call(a))){return true}return((typeof a.nextNode!="undefined"||a.item)&&Ext.isNumber(a.length))},each:function(b,c,d){if(Ext.isEmpty(b,true)){return}if(!Ext.isIterable(b)||Ext.isPrimitive(b)){b=[b]}for(var a=0,f=b.length;a<f;a++){if(c.call(d||b[a],b[a],a,b)===false){return a}}},iterate:function(b,a,d){if(Ext.isEmpty(b)){return}if(Ext.isIterable(b)){Ext.each(b,a,d);return}else{if(typeof b=="object"){for(var c in b){if(b.hasOwnProperty(c)){if(a.call(d||b,c,b[c],b)===false){return}}}}}},getDom:function(b,a){if(!b||!T){return null}if(b.dom){return b.dom}else{if(typeof b=="string"){var c=T.getElementById(b);if(c&&O&&a){if(b==c.getAttribute("id")){return c}else{return null}}return c}else{return b}}},getBody:function(){return Ext.get(T.body||T.documentElement)},getHead:function(){var a;return function(){if(a==undefined){a=Ext.get(T.getElementsByTagName("head")[0])}return a}}(),removeNode:O&&!L?function(){var a;return function(b){if(b&&b.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(b,true):Ext.EventManager.removeAll(b);a=a||T.createElement("div");a.appendChild(b);a.innerHTML="";delete Ext.elCache[b.id]}}}():function(a){if(a&&a.parentNode&&a.tagName!="BODY"){(Ext.enableNestedListenerRemoval)?Ext.EventManager.purgeElement(a,true):Ext.EventManager.removeAll(a);a.parentNode.removeChild(a);delete Ext.elCache[a.id]}},isEmpty:function(b,a){return b===null||b===undefined||((Ext.isArray(b)&&!b.length))||(!a?b==="":false)},isArray:function(a){return P.apply(a)==="[object Array]"},isDate:function(a){return P.apply(a)==="[object Date]"},isObject:function(a){return !!a&&Object.prototype.toString.call(a)==="[object Object]"},isPrimitive:function(a){return Ext.isString(a)||Ext.isNumber(a)||Ext.isBoolean(a)},isFunction:function(a){return P.apply(a)==="[object Function]"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isElement:function(a){return a?!!a.tagName:false},isDefined:function(a){return typeof a!=="undefined"},isOpera:F,isWebKit:R,isChrome:S,isSafari:J,isSafari3:ab,isSafari4:G,isSafari2:ae,isIE:O,isIE6:N,isIE7:M,isIE8:L,isIE9:K,isGecko:Z,isGecko2:ad,isGecko3:aa,isBorderBox:H,isLinux:X,isWindows:E,isMac:V,isAir:U});Ext.ns=Ext.namespace})();Ext.ns("Ext.util","Ext.lib","Ext.data","Ext.supports");Ext.elCache={};Ext.apply(Function.prototype,{createInterceptor:function(e,d){var f=this;return !Ext.isFunction(e)?this:function(){var b=this,a=arguments;e.target=b;e.method=f;return(e.apply(d||b||window,a)!==false)?f.apply(b||window,a):null}},createCallback:function(){var c=arguments,d=this;return function(){return d.apply(window,c)}},createDelegate:function(g,f,e){var h=this;return function(){var b=f||arguments;if(e===true){b=Array.prototype.slice.call(arguments,0);b=b.concat(f)}else{if(Ext.isNumber(e)){b=Array.prototype.slice.call(arguments,0);var a=[e,0].concat(f);Array.prototype.splice.apply(b,a)}}return h.apply(g||window,b)}},defer:function(h,j,g,f){var i=this.createDelegate(j,g,f);if(h>0){return setTimeout(i,h)}i();return 0}});Ext.applyIf(String,{format:function(d){var c=Ext.toArray(arguments,1);return d.replace(/\{(\d+)\}/g,function(b,a){return c[a]})}});Ext.applyIf(Array.prototype,{indexOf:function(e,f){var d=this.length;f=f||0;f+=(f<0)?d:0;for(;f<d;++f){if(this[f]===e){return f}}return -1},remove:function(d){var c=this.indexOf(d);if(c!=-1){this.splice(c,1)}return this}});Ext.util.TaskRunner=function(p){p=p||10;var q=[],l=[],m=0,r=false,o=function(){r=false;clearInterval(m);m=0},j=function(){if(!r){r=true;m=setInterval(k,p)}},n=function(a){l.push(a);if(a.onStop){a.onStop.apply(a.scope||a)}},k=function(){var c=l.length,e=new Date().getTime();if(c>0){for(var g=0;g<c;g++){q.remove(l[g])}l=[];if(q.length<1){o();return}}for(var g=0,f,b,d,a=q.length;g<a;++g){f=q[g];b=e-f.taskRunTime;if(f.interval<=b){d=f.run.apply(f.scope||f,f.args||[++f.taskRunCount]);f.taskRunTime=e;if(d===false||f.taskRunCount===f.repeat){n(f);return}}if(f.duration&&f.duration<=(e-f.taskStartTime)){n(f)}}};this.start=function(a){q.push(a);a.taskStartTime=new Date().getTime();a.taskRunTime=0;a.taskRunCount=0;j();return a};this.stop=function(a){n(a);return a};this.stopAll=function(){o();for(var a=0,b=q.length;a<b;a++){if(q[a].onStop){q[a].onStop()}}q=[];l=[]}};Ext.TaskMgr=new Ext.util.TaskRunner();if(typeof jQuery=="undefined"){throw"Unable to load Ext, jQuery not found."}(function(){var e;Ext.lib.Dom={getViewWidth:function(a){return a?Math.max(jQuery(document).width(),jQuery(window).width()):jQuery(window).width()},getViewHeight:function(a){return a?Math.max(jQuery(document).height(),jQuery(window).height()):jQuery(window).height()},isAncestor:function(c,a){var b=false;c=Ext.getDom(c);a=Ext.getDom(a);if(c&&a){if(c.contains){return c.contains(a)}else{if(c.compareDocumentPosition){return !!(c.compareDocumentPosition(a)&16)}else{while(a=a.parentNode){b=a==c||b}}}}return b},getRegion:function(a){return Ext.lib.Region.getRegion(a)},getY:function(a){return this.getXY(a)[1]},getX:function(a){return this.getXY(a)[0]},getXY:function(w){var v,c,q,r,b=(document.body||document.documentElement);w=Ext.getDom(w);if(w==b){return[0,0]}if(w.getBoundingClientRect){q=w.getBoundingClientRect();r=f(document).getScroll();return[Math.round(q.left+r.left),Math.round(q.top+r.top)]}var s=0,p=0;v=w;var u=f(w).getStyle("position")=="absolute";while(v){s+=v.offsetLeft;p+=v.offsetTop;if(!u&&f(v).getStyle("position")=="absolute"){u=true}if(Ext.isGecko){c=f(v);var t=parseInt(c.getStyle("borderTopWidth"),10)||0;var x=parseInt(c.getStyle("borderLeftWidth"),10)||0;s+=x;p+=t;if(v!=w&&c.getStyle("overflow")!="visible"){s+=x;p+=t}}v=v.offsetParent}if(Ext.isSafari&&u){s-=b.offsetLeft;p-=b.offsetTop}if(Ext.isGecko&&!u){var a=f(b);s+=parseInt(a.getStyle("borderLeftWidth"),10)||0;p+=parseInt(a.getStyle("borderTopWidth"),10)||0}v=w.parentNode;while(v&&v!=b){if(!Ext.isOpera||(v.tagName!="TR"&&f(v).getStyle("display")!="inline")){s-=v.scrollLeft;p-=v.scrollTop}v=v.parentNode}return[s,p]},setXY:function(b,c){b=Ext.fly(b,"_setXY");b.position();var a=b.translatePoints(c);if(c[0]!==false){b.dom.style.left=a.left+"px"}if(c[1]!==false){b.dom.style.top=a.top+"px"}},setX:function(b,a){this.setXY(b,[a,false])},setY:function(a,b){this.setXY(a,[false,b])}};function f(a){if(!e){e=new Ext.Element.Flyweight()}e.dom=a;return e}Ext.lib.Event={getPageX:function(a){a=a.browserEvent||a;return a.pageX},getPageY:function(a){a=a.browserEvent||a;return a.pageY},getXY:function(a){a=a.browserEvent||a;return[a.pageX,a.pageY]},getTarget:function(a){return a.target},on:function(a,i,b,j,c){jQuery(a).bind(i,b)},un:function(a,b,c){jQuery(a).unbind(b,c)},purgeElement:function(a){jQuery(a).unbind()},preventDefault:function(a){a=a.browserEvent||a;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}},stopPropagation:function(a){a=a.browserEvent||a;if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}},stopEvent:function(a){this.preventDefault(a);this.stopPropagation(a)},onAvailable:function(c,l,k){var b=new Date();var m=function(){if(b.getElapsed()>10000){clearInterval(a)}var g=document.getElementById(c);if(g){clearInterval(a);l.call(k||window,g)}};var a=setInterval(m,50)},resolveTextNode:Ext.isGecko?function(b){if(!b){return}var a=HTMLElement.prototype.toString.call(b);if(a=="[xpconnect wrapped native prototype]"||a=="[object XULElement]"){return}return b.nodeType==3?b.parentNode:b}:function(a){return a&&a.nodeType==3?a.parentNode:a},getRelatedTarget:function(b){b=b.browserEvent||b;var a=b.relatedTarget;if(!a){if(b.type=="mouseout"){a=b.toElement}else{if(b.type=="mouseover"){a=b.fromElement}}}return this.resolveTextNode(a)}};Ext.lib.Ajax=function(){var a=function(c){return function(i,j){if((j=="error"||j=="timeout")&&c.failure){c.failure.call(c.scope||window,b(c,i))}else{if(c.success){c.success.call(c.scope||window,b(c,i))}}}};var b=function(q,p){var c={},n,r,m;try{n=p.getAllResponseHeaders();Ext.each(n.replace(/\r\n/g,"\n").split("\n"),function(g){r=g.indexOf(":");if(r>=0){m=g.substr(0,r).toLowerCase();if(g.charAt(r+1)==" "){++r}c[m]=g.substr(r+1)}})}catch(o){}return{responseText:p.responseText,responseXML:p.responseXML,argument:q.argument,status:p.status,statusText:p.statusText,getResponseHeader:function(g){return c[g.toLowerCase()]},getAllResponseHeaders:function(){return n}}};return{request:function(p,m,q,n,r){var o={type:p,url:m,data:n,timeout:q.timeout,complete:a(q)};if(r){var c=r.headers;if(r.xmlData){o.data=r.xmlData;o.processData=false;o.type=(p?p:(r.method?r.method:"POST"));if(!c||!c["Content-Type"]){o.contentType="text/xml"}}else{if(r.jsonData){o.data=typeof r.jsonData=="object"?Ext.encode(r.jsonData):r.jsonData;o.processData=false;o.type=(p?p:(r.method?r.method:"POST"));if(!c||!c["Content-Type"]){o.contentType="application/json"}}}if(c){o.beforeSend=function(g){for(var h in c){if(c.hasOwnProperty(h)){g.setRequestHeader(h,c[h])}}}}}jQuery.ajax(o)},formRequest:function(m,l,p,n,o,c){jQuery.ajax({type:Ext.getDom(m).method||"POST",url:l,data:jQuery(m).serialize()+(n?"&"+n:""),timeout:p.timeout,complete:a(p)})},isCallInProgress:function(c){return false},abort:function(c){return false},serializeForm:function(c){return jQuery(c.dom||c).serialize()}}}();Ext.lib.Anim=function(){var a=function(h,b){var c=true;return{stop:function(g){},isAnimated:function(){return c},proxyCallback:function(){c=false;Ext.callback(h,b)}}};return{scroll:function(b,o,l,m,n,p){var c=a(n,p);b=Ext.getDom(b);if(typeof o.scroll.to[0]=="number"){b.scrollLeft=o.scroll.to[0]}if(typeof o.scroll.to[1]=="number"){b.scrollTop=o.scroll.to[1]}c.proxyCallback();return c},motion:function(b,m,c,k,l,n){return this.run(b,m,c,k,l,n)},color:function(b,o,l,m,n,p){var c=a(n,p);c.proxyCallback();return c},run:function(E,c,z,b,x,o,k){var A=a(x,o),B=Ext.fly(E,"_animrun");var D={};for(var y in c){switch(y){case"points":var C,w;B.position();if(C=c.points.by){var v=B.getXY();w=B.translatePoints([v[0]+C[0],v[1]+C[1]])}else{w=B.translatePoints(c.points.to)}D.left=w.left;D.top=w.top;if(!parseInt(B.getStyle("left"),10)){B.setLeft(0)}if(!parseInt(B.getStyle("top"),10)){B.setTop(0)}if(c.points.from){B.setXY(c.points.from)}break;case"width":D.width=c.width.to;if(c.width.from){B.setWidth(c.width.from)}break;case"height":D.height=c.height.to;if(c.height.from){B.setHeight(c.height.from)}break;case"opacity":D.opacity=c.opacity.to;if(c.opacity.from){B.setOpacity(c.opacity.from)}break;case"left":D.left=c.left.to;if(c.left.from){B.setLeft(c.left.from)}break;case"top":D.top=c.top.to;if(c.top.from){B.setTop(c.top.from)}break;case"callback":case"scope":case"xy":break;default:D[y]=c[y].to;if(c[y].from){B.setStyle(y,c[y].from)}break}}jQuery(E).animate(D,z*1000,undefined,A.proxyCallback);return A}}}();Ext.lib.Region=function(a,b,c,h){this.top=a;this[1]=a;this.right=b;this.bottom=c;this.left=h;this[0]=h};Ext.lib.Region.prototype={contains:function(a){return(a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom)},getArea:function(){return((this.bottom-this.top)*(this.right-this.left))},intersect:function(c){var a=Math.max(this.top,c.top);var b=Math.min(this.right,c.right);var i=Math.min(this.bottom,c.bottom);var j=Math.max(this.left,c.left);if(i>=a&&b>=j){return new Ext.lib.Region(a,b,i,j)}else{return null}},union:function(c){var a=Math.min(this.top,c.top);var b=Math.max(this.right,c.right);var i=Math.max(this.bottom,c.bottom);var j=Math.min(this.left,c.left);return new Ext.lib.Region(a,b,i,j)},constrainTo:function(a){this.top=this.top.constrain(a.top,a.bottom);this.bottom=this.bottom.constrain(a.top,a.bottom);this.left=this.left.constrain(a.left,a.right);this.right=this.right.constrain(a.left,a.right);return this},adjust:function(a,h,c,b){this.top+=a;this.left+=h;this.right+=b;this.bottom+=c;return this}};Ext.lib.Region.getRegion=function(l){var b=Ext.lib.Dom.getXY(l);var k=b[1];var a=b[0]+l.offsetWidth;var c=b[1]+l.offsetHeight;var j=b[0];return new Ext.lib.Region(k,a,c,j)};Ext.lib.Point=function(a,b){if(Ext.isArray(a)){b=a[1];a=a[0]}this.x=this.right=this.left=this[0]=a;this.y=this.top=this.bottom=this[1]=b};Ext.lib.Point.prototype=new Ext.lib.Region();if(Ext.isIE){function d(){var a=Function.prototype;delete a.createSequence;delete a.defer;delete a.createDelegate;delete a.createCallback;delete a.createInterceptor;window.detachEvent("onunload",d)}window.attachEvent("onunload",d)}})();
(function(){var d,b,c;function a(f,e){var g;g="isIE"+f;if(typeof Ext[g]!=="undefined"){Ext[g]=e}}if(Ext.isIE&&typeof document.documentMode!=="undefined"){for(b=6;b<document.documentMode;b++){a(b,false)}d=document.documentMode;a(d,true)}}());
(function(){var k=Ext.util,m=Ext.each,s=true,l=false;k.Observable=function(){var a=this,b=a.events;if(a.listeners){a.on(a.listeners);delete a.listeners}a.events=b||{}};k.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var a=Array.prototype.slice.call(arguments,0),c=a[0].toLowerCase(),d=this,b=s,g=d.events[c],i,e,h;if(d.eventsSuspended===s){if(e=d.eventQueue){e.push(a)}}else{if(typeof g=="object"){if(g.bubble){if(g.fire.apply(g,a.slice(1))===l){return l}h=d.getBubbleTarget&&d.getBubbleTarget();if(h&&h.enableBubble){i=h.events[c];if(!i||typeof i!="object"||!i.bubble){h.enableBubble(c)}return h.fireEvent.apply(h,a)}}else{a.shift();b=g.fire.apply(g,a)}}}return b},addListener:function(a,c,b,h){var d=this,g,i,e;if(typeof a=="object"){h=a;for(g in h){i=h[g];if(!d.filterOptRe.test(g)){d.addListener(g,i.fn||i,i.scope||h.scope,i.fn?i:h)}}}else{a=a.toLowerCase();e=d.events[a]||s;if(typeof e=="boolean"){d.events[a]=e=new k.Event(d,a)}e.addListener(c,b,typeof h=="object"?h:{})}},removeListener:function(a,c,b){var d=this.events[a.toLowerCase()];if(typeof d=="object"){d.removeListener(c,b)}},purgeListeners:function(){var c=this.events,a,b;for(b in c){a=c[b];if(typeof a=="object"){a.clearListeners()}}},addEvents:function(d){var c=this;c.events=c.events||{};if(typeof d=="string"){var a=arguments,b=a.length;while(b--){c.events[a[b]]=c.events[a[b]]||s}}else{Ext.applyIf(c.events,d)}},hasListener:function(a){var b=this.events[a.toLowerCase()];return typeof b=="object"&&b.listeners.length>0},suspendEvents:function(a){this.eventsSuspended=s;if(a&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var a=this,b=a.eventQueue||[];a.eventsSuspended=l;delete a.eventQueue;m(b,function(c){a.fireEvent.apply(a,c)})}};var q=k.Observable.prototype;q.on=q.addListener;q.un=q.removeListener;k.Observable.releaseCapture=function(a){a.fireEvent=q.fireEvent};function r(b,c,a){return function(){if(c.target==arguments[0]){b.apply(a,Array.prototype.slice.call(arguments,0))}}}function o(a,d,b,c){b.task=new k.DelayedTask();return function(){b.task.delay(d.buffer,a,c,Array.prototype.slice.call(arguments,0))}}function p(c,d,b,a){return function(){d.removeListener(b,a);return c.apply(a,arguments)}}function n(a,d,b,c){return function(){var e=new k.DelayedTask(),g=Array.prototype.slice.call(arguments,0);if(!b.tasks){b.tasks=[]}b.tasks.push(e);e.delay(d.delay||10,function(){b.tasks.remove(e);a.apply(c,g)},c)}}k.Event=function(b,a){this.name=a;this.obj=b;this.listeners=[]};k.Event.prototype={addListener:function(a,e,d){var c=this,b;e=e||c.obj;if(!c.isListening(a,e)){b=c.createListener(a,e,d);if(c.firing){c.listeners=c.listeners.slice(0)}c.listeners.push(b)}},createListener:function(e,b,a){a=a||{};b=b||this.obj;var c={fn:e,scope:b,options:a},d=e;if(a.target){d=r(d,a,b)}if(a.delay){d=n(d,a,c,b)}if(a.single){d=p(d,this,e,b)}if(a.buffer){d=o(d,a,c,b)}c.fireFn=d;return c},findListener:function(a,e){var c=this.listeners,d=c.length,b;e=e||this.obj;while(d--){b=c[d];if(b){if(b.fn==a&&b.scope==e){return d}}}return -1},isListening:function(b,a){return this.findListener(b,a)!=-1},removeListener:function(g,e){var d,a,b,h=this,c=l;if((d=h.findListener(g,e))!=-1){if(h.firing){h.listeners=h.listeners.slice(0)}a=h.listeners[d];if(a.task){a.task.cancel();delete a.task}b=a.tasks&&a.tasks.length;if(b){while(b--){a.tasks[b].cancel()}delete a.tasks}h.listeners.splice(d,1);c=s}return c},clearListeners:function(){var c=this,a=c.listeners,b=a.length;while(b--){c.removeListener(a[b].fn,a[b].scope)}},fire:function(){var g=this,e=g.listeners,a=e.length,d=0,b;if(a>0){g.firing=s;var c=Array.prototype.slice.call(arguments,0);for(;d<a;d++){b=e[d];if(b&&b.fireFn.apply(b.scope||g.obj||window,c)===l){return(g.firing=l)}}}g.firing=l;return s}}})();Ext.DomHelper=function(){var y=null,K=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,M=/^table|tbody|tr|td$/i,S=/tag|children|cn|html$/i,D=/td|tr|tbody/i,O=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,F=/end/i,B,N="afterbegin",z="afterend",R="beforebegin",A="beforeend",P="<table>",I="</table>",Q=P+"<tbody>",J="</tbody>"+I,L=Q+"<tr>",G="</tr>"+J;function H(d,g,e,h,c,a){var b=B.insertHtml(h,Ext.getDom(d),E(g));return e?Ext.get(b,true):b}function E(g){var b="",a,e,d,h;if(typeof g=="string"){b=g}else{if(Ext.isArray(g)){for(var c=0;c<g.length;c++){if(g[c]){b+=E(g[c])}}}else{b+="<"+(g.tag=g.tag||"div");for(a in g){e=g[a];if(!S.test(a)){if(typeof e=="object"){b+=" "+a+'="';for(d in e){b+=d+":"+e[d]+";"}b+='"'}else{b+=" "+({cls:"class",htmlFor:"for"}[a]||a)+'="'+e+'"'}}}if(K.test(g.tag)){b+="/>"}else{b+=">";if((h=g.children||g.cn)){b+=E(h)}else{if(g.html){b+=g.html}}b+="</"+g.tag+">"}}}return b}function U(i,e,d,g){y.innerHTML=[e,d,g].join("");var a=-1,c=y,b;while(++a<i){c=c.firstChild}if(b=c.nextSibling){var h=document.createDocumentFragment();while(c){b=c.nextSibling;h.appendChild(c);c=b}c=h}return c}function T(a,b,d,c){var e,g;y=y||document.createElement("div");if(a=="td"&&(b==N||b==A)||!D.test(a)&&(b==R||b==z)){return}g=b==R?d:b==z?d.nextSibling:b==N?d.firstChild:null;if(b==R||b==z){d=d.parentNode}if(a=="td"||(a=="tr"&&(b==A||b==N))){e=U(4,L,c,G)}else{if((a=="tbody"&&(b==A||b==N))||(a=="tr"&&(b==R||b==z))){e=U(3,Q,c,J)}else{e=U(2,P,c,I)}}d.insertBefore(e,g);return e}function C(c){var g=document.createElement("div"),a=document.createDocumentFragment(),b=0,d,e;g.innerHTML=c;e=g.childNodes;d=e.length;for(;b<d;b++){a.appendChild(e[b].cloneNode(true))}return a}B={markup:function(a){return E(a)},applyStyles:function(c,a){if(a){var b;c=Ext.fly(c);if(typeof a=="function"){a=a.call()}if(typeof a=="string"){O.lastIndex=0;while((b=O.exec(a))){c.setStyle(b[1],b[2])}}else{if(typeof a=="object"){c.setStyle(a)}}}},insertHtml:function(i,b,j){var g={},e,k,h,a,d,c;i=i.toLowerCase();g[R]=["BeforeBegin","previousSibling"];g[z]=["AfterEnd","nextSibling"];if(b.insertAdjacentHTML){if(M.test(b.tagName)&&(c=T(b.tagName.toLowerCase(),i,b,j))){return c}g[N]=["AfterBegin","firstChild"];g[A]=["BeforeEnd","lastChild"];if((e=g[i])){b.insertAdjacentHTML(e[0],j);return b[e[1]]}}else{k=b.ownerDocument.createRange();a="setStart"+(F.test(i)?"After":"Before");if(g[i]){k[a](b);if(!k.createContextualFragment){d=C(j)}else{d=k.createContextualFragment(j)}b.parentNode.insertBefore(d,i==R?b:b.nextSibling);return b[(i==R?"previous":"next")+"Sibling"]}else{h=(i==N?"first":"last")+"Child";if(b.firstChild){k[a](b[h]);if(!k.createContextualFragment){d=C(j)}else{d=k.createContextualFragment(j)}if(i==N){b.insertBefore(d,b.firstChild)}else{b.appendChild(d)}}else{b.innerHTML=j}return b[h]}}throw'Illegal insertion point -> "'+i+'"'},insertBefore:function(c,b,a){return H(c,b,a,R)},insertAfter:function(c,b,a){return H(c,b,a,z,"nextSibling")},insertFirst:function(c,b,a){return H(c,b,a,N,"firstChild")},append:function(c,b,a){return H(c,b,a,A,"",true)},overwrite:function(c,b,a){c=Ext.getDom(c);c.innerHTML=E(b);return a?Ext.get(c.firstChild):c.firstChild},createHtml:E};return B}();Ext.Template=function(a){var i=this,l=arguments,n=[],m;if(Ext.isArray(a)){a=a.join("")}else{if(l.length>1){for(var o=0,k=l.length;o<k;o++){m=l[o];if(typeof m=="object"){Ext.apply(i,m)}else{n.push(m)}}a=n.join("")}}i.html=a;if(i.compiled){i.compile()}};Ext.Template.prototype={re:/\{([\w\-]+)\}/g,applyTemplate:function(c){var d=this;return d.compiled?d.compiled(c):d.html.replace(d.re,function(b,a){return c[a]!==undefined?c[a]:""})},set:function(d,g){var e=this;e.html=d;e.compiled=null;return g?e.compile():e},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(e,d,g){return this.doInsert("afterBegin",e,d,g)},insertBefore:function(e,d,g){return this.doInsert("beforeBegin",e,d,g)},insertAfter:function(e,d,g){return this.doInsert("afterEnd",e,d,g)},append:function(e,d,g){return this.doInsert("beforeEnd",e,d,g)},doInsert:function(i,k,h,g){k=Ext.getDom(k);var j=Ext.DomHelper.insertHtml(i,k,this.applyTemplate(h));return g?Ext.get(j,true):j},overwrite:function(e,d,g){e=Ext.getDom(e);e.innerHTML=this.applyTemplate(d);return g?Ext.get(e.firstChild,true):e.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(d,c){d=Ext.getDom(d);return new Ext.Template(d.value||d.innerHTML,c||"")};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,xml,hasXml;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}if(!hasXml){xml=Ext.DomQuery.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?(["']?)(.*?)\4)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{5}", "{3}", "{1}");'},{re:/^#([\w\-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(k,j,h){var l=this,m,i=function(){clearInterval(m);m=null;k.apply(j,h||[])};l.delay=function(b,d,c,a){l.cancel();k=d||k;j=c||j;h=a||h;m=setInterval(i,b)};l.cancel=function(){if(m){clearInterval(m);m=null}}};(function(){var l=document;Ext.Element=function(b,c){var d=typeof b=="string"?l.getElementById(b):b,a;if(!d){return null}a=d.id;if(!c&&a&&Ext.elCache[a]){return Ext.elCache[a].el}this.dom=d;this.id=a||Ext.id(d)};var s=Ext.DomHelper,t=Ext.Element,p=Ext.elCache;t.prototype={set:function(a,d){var e=this.dom,c,b,d=(d!==false)&&!!e.setAttribute;for(c in a){if(a.hasOwnProperty(c)){b=a[c];if(c=="style"){s.applyStyles(e,b)}else{if(c=="cls"){e.className=b}else{if(d){e.setAttribute(c,b)}else{e[c]=b}}}}}return this},defaultUnit:"px",is:function(a){return Ext.DomQuery.is(this.dom,a)},focus:function(a,d){var b=this,d=d||b.dom;try{if(Number(a)){b.focus.defer(a,null,[null,d])}else{d.focus()}}catch(c){}return b},blur:function(){try{this.dom.blur()}catch(a){}return this},getValue:function(a){var b=this.dom.value;return a?parseInt(b,10):b},addListener:function(b,a,d,c){Ext.EventManager.on(this.dom,b,a,d||this,c);return this},removeListener:function(a,c,b){Ext.EventManager.removeListener(this.dom,a,c,b||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(a){if(a===""||a=="auto"||a===undefined){a=a||""}else{if(!isNaN(a)||!m.test(a)){a=a+(this.defaultUnit||"px")}}return a},load:function(b,c,a){Ext.Ajax.request(Ext.apply({params:c,url:b.url||b,callback:a,el:this.dom,indicatorText:b.indicatorText||""},Ext.isObject(b)?b:{}));return this},isBorderBox:function(){return Ext.isBorderBox||Ext.isForcedBorderBox||u[(this.dom.tagName||"").toLowerCase()]},remove:function(){var a=this,b=a.dom;if(b){delete a.dom;Ext.removeNode(b)}},hover:function(d,c,a,e){var b=this;b.on("mouseenter",d,a||b.dom,e);b.on("mouseleave",c,a||b.dom,e);return b},contains:function(a){return !a?false:Ext.lib.Dom.isAncestor(this.dom,a.dom?a.dom:a)},getAttributeNS:function(b,a){return this.getAttribute(a,b)},getAttribute:(function(){var e=document.createElement("table"),a=false,d="getAttribute" in e,c=/undefined|unknown/;if(d){try{e.getAttribute("ext:qtip")}catch(b){a=true}return function(g,i){var h=this.dom,j;if(h.getAttributeNS){j=h.getAttributeNS(i,g)||null}if(j==null){if(i){if(a&&h.tagName.toUpperCase()=="TABLE"){try{j=h.getAttribute(i+":"+g)}catch(k){j=""}}else{j=h.getAttribute(i+":"+g)}}else{j=h.getAttribute(g)||h[g]}}return j||""}}else{return function(g,i){var h=this.om,k,j;if(i){j=h[i+":"+g];k=c.test(typeof j)?undefined:j}else{k=h[g]}return k||""}}e=null})(),update:function(a){if(this.dom){this.dom.innerHTML=a}return this}};var o=t.prototype;t.addMethods=function(a){Ext.apply(o,a)};o.on=o.addListener;o.un=o.removeListener;o.autoBoxAdjust=true;var m=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,r;t.get=function(d){var c,e,a;if(!d){return null}if(typeof d=="string"){if(!(e=l.getElementById(d))){return null}if(p[d]&&p[d].el){c=p[d].el;c.dom=e}else{c=t.addToCache(new t(e))}return c}else{if(d.tagName){if(!(a=d.id)){a=Ext.id(d)}if(p[a]&&p[a].el){c=p[a].el;c.dom=d}else{c=t.addToCache(new t(d))}return c}else{if(d instanceof t){if(d!=r){if(Ext.isIE&&(d.id==undefined||d.id=="")){d.dom=d.dom}else{d.dom=l.getElementById(d.id)||d.dom}}return d}else{if(d.isComposite){return d}else{if(Ext.isArray(d)){return t.select(d)}else{if(d==l){if(!r){var b=function(){};b.prototype=t.prototype;r=new b();r.dom=l}return r}}}}}}return null};t.addToCache=function(a,b){b=b||a.id;p[b]={el:a,data:{},events:{}};return a};t.data=function(c,b,d){c=t.get(c);if(!c){return null}var a=p[c.id].data;if(arguments.length==2){return a[b]}else{return(a[b]=d)}};function n(){if(!Ext.enableGarbageCollector){clearInterval(t.collectorThreadId)}else{var c,e,a,b;for(c in p){b=p[c];if(b.skipGC){continue}e=b.el;a=e.dom;if(!a||!a.parentNode||(!a.offsetParent&&!l.getElementById(c))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(a)}delete p[c]}}if(Ext.isIE){var d={};for(c in p){d[c]=p[c]}p=Ext.elCache=d}}}t.collectorThreadId=setInterval(n,30000);var q=function(){};q.prototype=t.prototype;t.Flyweight=function(a){this.dom=a};t.Flyweight.prototype=new q();t.Flyweight.prototype.isFlyweight=true;t._flyweights={};t.fly=function(c,a){var b=null;a=a||"_global";if(c=Ext.getDom(c)){(t._flyweights[a]=t._flyweights[a]||new t.Flyweight()).dom=c;b=t._flyweights[a]}return b};Ext.get=t.get;Ext.fly=t.fly;var u=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){u.button=1}})();Ext.Element.addMethods(function(){var j="parentNode",h="nextSibling",i="previousSibling",k=Ext.DomQuery,g=Ext.get;return{findParent:function(n,e,a){var c=this.dom,o=document.body,d=0,b;if(Ext.isGecko&&Object.prototype.toString.call(c)=="[object XULElement]"){return null}e=e||50;if(isNaN(e)){b=Ext.getDom(e);e=Number.MAX_VALUE}while(c&&c.nodeType==1&&d<e&&c!=o&&c!=b){if(k.is(c,n)){return a?g(c):c}d++;c=c.parentNode}return null},findParentNode:function(c,b,d){var a=Ext.fly(this.dom.parentNode,"_internal");return a?a.findParent(c,b,d):null},up:function(a,b){return this.findParentNode(a,b,true)},select:function(a){return Ext.Element.select(a,this.dom)},query:function(a){return k.select(a,this.dom)},child:function(b,a){var c=k.selectNode(b,this.dom);return a?c:g(c)},down:function(b,a){var c=k.selectNode(" > "+b,this.dom);return a?c:g(c)},parent:function(a,b){return this.matchNode(j,j,a,b)},next:function(a,b){return this.matchNode(h,h,a,b)},prev:function(a,b){return this.matchNode(i,i,a,b)},first:function(a,b){return this.matchNode(h,"firstChild",a,b)},last:function(a,b){return this.matchNode(i,"lastChild",a,b)},matchNode:function(a,d,b,c){var e=this.dom[d];while(e){if(e.nodeType==1&&(!b||k.is(e,b))){return !c?g(e):e}e=e[a]}return null}}}());Ext.Element.addMethods(function(){var g=Ext.getDom,d=Ext.get,e=Ext.DomHelper;return{appendChild:function(a){return d(a).appendTo(this)},appendTo:function(a){g(a).appendChild(this.dom);return this},insertBefore:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a);return this},insertAfter:function(a){(a=g(a)).parentNode.insertBefore(this.dom,a.nextSibling);return this},insertFirst:function(b,a){b=b||{};if(b.nodeType||b.dom||typeof b=="string"){b=g(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?d(b):b}else{return this.createChild(b,this.dom.firstChild,a)}},replace:function(a){a=d(a);this.insertBefore(a);a.remove();return this},replaceWith:function(a){var b=this;if(a.nodeType||a.dom||typeof a=="string"){a=g(a);b.dom.parentNode.insertBefore(a,b.dom)}else{a=e.insertBefore(b.dom,a)}delete Ext.elCache[b.id];Ext.removeNode(b.dom);b.id=Ext.id(b.dom=a);Ext.Element.addToCache(b.isFlyweight?new Ext.Element(b.dom):b);return b},createChild:function(c,b,a){c=c||{tag:"div"};return b?e.insertBefore(b,c,a!==true):e[!this.dom.firstChild?"overwrite":"append"](this.dom,c,a!==true)},wrap:function(b,c){var a=e.insertBefore(this.dom,b||{tag:"div"},!c);a.dom?a.dom.appendChild(this.dom):a.appendChild(this.dom);return a},insertHtml:function(i,b,c){var a=e.insertHtml(i,this.dom,b);return c?Ext.get(a):a}}}());Ext.Element.addMethods(function(){var F=Ext.supports,V={},K=/(-[a-z])/gi,Q=document.defaultView,I=/alpha\(opacity=(.*)\)/i,Z=/^\s+|\s+$/g,G=Ext.Element,S=/\s+/,ae=/\w/g,ag="padding",af="margin",L="border",R="-left",O="-right",U="-top",ac="-bottom",X="-width",P=Math,M="hidden",ah="isClipped",Y="overflow",ab="overflow-x",aa="overflow-y",H="originalClip",W={l:L+R+X,r:L+O+X,t:L+U+X,b:L+ac+X},ai={l:ag+R,r:ag+O,t:ag+U,b:ag+ac},ad={l:af+R,r:af+O,t:af+U,b:af+ac},J=Ext.Element.data;function N(a,b){return b.charAt(1).toUpperCase()}function T(a){return V[a]||(V[a]=a=="float"?(F.cssFloat?"cssFloat":"styleFloat"):a.replace(K,N))}return{adjustWidth:function(b){var c=this;var a=(typeof b=="number");if(a&&c.autoBoxAdjust&&!c.isBorderBox()){b-=(c.getBorderWidth("lr")+c.getPadding("lr"))}return(a&&b<0)?0:b},adjustHeight:function(b){var c=this;var a=(typeof b=="number");if(a&&c.autoBoxAdjust&&!c.isBorderBox()){b-=(c.getBorderWidth("tb")+c.getPadding("tb"))}return(a&&b<0)?0:b},addClass:function(d){var e=this,c,g,b,a=[];if(!Ext.isArray(d)){if(typeof d=="string"&&!this.hasClass(d)){e.dom.className+=" "+d}}else{for(c=0,g=d.length;c<g;c++){b=d[c];if(typeof b=="string"&&(" "+e.dom.className+" ").indexOf(" "+b+" ")==-1){a.push(b)}}if(a.length){e.dom.className+=" "+a.join(" ")}}return e},removeClass:function(e){var g=this,d,a,h,c,b;if(!Ext.isArray(e)){e=[e]}if(g.dom&&g.dom.className){b=g.dom.className.replace(Z,"").split(S);for(d=0,h=e.length;d<h;d++){c=e[d];if(typeof c=="string"){c=c.replace(Z,"");a=b.indexOf(c);if(a!=-1){b.splice(a,1)}}}g.dom.className=b.join(" ")}return g},radioClass:function(c){var d=this.dom.parentNode.childNodes,e,b,a;c=Ext.isArray(c)?c:[c];for(b=0,a=d.length;b<a;b++){e=d[b];if(e&&e.nodeType==1){Ext.fly(e,"_internal").removeClass(c)}}return this.addClass(c)},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},hasClass:function(a){return a&&(" "+this.dom.className+" ").indexOf(" "+a+" ")!=-1},replaceClass:function(b,a){return this.removeClass(b).addClass(a)},isStyle:function(a,b){return this.getStyle(a)==b},getStyle:function(){return Q&&Q.getComputedStyle?function(e){var c=this.dom,g,b,a,d;if(c==document){return null}e=T(e);a=(g=c.style[e])?g:(b=Q.getComputedStyle(c,""))?b[e]:null;if(e=="marginRight"&&a!="0px"&&!F.correctRightMargin){d=c.style.display;c.style.display="inline-block";a=Q.getComputedStyle(c,"").marginRight;c.style.display=d}if(e=="backgroundColor"&&a=="rgba(0, 0, 0, 0)"&&!F.correctTransparentColor){a="transparent"}return a}:function(d){var b=this.dom,a,c;if(b==document){return null}if(d=="opacity"){if(b.style.filter.match){if(a=b.style.filter.match(I)){var e=parseFloat(a[1]);if(!isNaN(e)){return e?e/100:0}}}return 1}d=T(d);return b.style[d]||((c=b.currentStyle)?c[d]:null)}}(),getColor:function(g,a,e){var c=this.getStyle(g),b=(typeof e!="undefined")?e:"#",d;if(!c||(/transparent|inherit/.test(c))){return a}if(/^r/.test(c)){Ext.each(c.slice(4,c.length-1).split(","),function(h){d=parseInt(h,10);b+=(d<16?"0":"")+d.toString(16)})}else{c=c.replace("#","");b+=c.length==3?c.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):c}return(b.length>5?b.toLowerCase():a)},setStyle:function(b,a){var c,d;if(typeof b!="object"){c={};c[b]=a;b=c}for(d in b){a=b[d];d=="opacity"?this.setOpacity(a):this.dom.style[T(d)]=a}return this},setOpacity:function(a,g){var d=this,b=d.dom.style;if(!g||!d.anim){if(Ext.isIE){var c=a<1?"alpha(opacity="+a*100+")":"",e=b.filter.replace(I,"").replace(Z,"");b.zoom=1;b.filter=e+(e.length>0?" ":"")+c}else{b.opacity=a}}else{d.anim({opacity:{to:a}},d.preanim(arguments,1),null,0.35,"easeIn")}return d},clearOpacity:function(){var a=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(a.filter)){a.filter=a.filter.replace(I,"").replace(Z,"")}}else{a.opacity=a["-moz-opacity"]=a["-khtml-opacity"]=""}return this},getHeight:function(c){var d=this,e=d.dom,a=Ext.isIE&&d.isStyle("display","none"),b=P.max(e.offsetHeight,a?0:e.clientHeight)||0;b=!c?b:b-d.getBorderWidth("tb")-d.getPadding("tb");return b<0?0:b},getWidth:function(d){var c=this,e=c.dom,a=Ext.isIE&&c.isStyle("display","none"),b=P.max(e.offsetWidth,a?0:e.clientWidth)||0;b=!d?b:b-c.getBorderWidth("lr")-c.getPadding("lr");return b<0?0:b},setWidth:function(c,b){var a=this;c=a.adjustWidth(c);!b||!a.anim?a.dom.style.width=a.addUnits(c):a.anim({width:{to:c}},a.preanim(arguments,1));return a},setHeight:function(b,c){var a=this;b=a.adjustHeight(b);!c||!a.anim?a.dom.style.height=a.addUnits(b):a.anim({height:{to:b}},a.preanim(arguments,1));return a},getBorderWidth:function(a){return this.addStyles(a,W)},getPadding:function(a){return this.addStyles(a,ai)},clip:function(){var a=this,b=a.dom;if(!J(b,ah)){J(b,ah,true);J(b,H,{o:a.getStyle(Y),x:a.getStyle(ab),y:a.getStyle(aa)});a.setStyle(Y,M);a.setStyle(ab,M);a.setStyle(aa,M)}return a},unclip:function(){var c=this,a=c.dom;if(J(a,ah)){J(a,ah,false);var b=J(a,H);if(b.o){c.setStyle(Y,b.o)}if(b.x){c.setStyle(ab,b.x)}if(b.y){c.setStyle(aa,b.y)}}return c},addStyles:function(h,g){var d=0,e=h.match(ae),c,b,a,i=e.length;for(a=0;a<i;a++){c=e[a];b=c&&parseInt(this.getStyle(g[c]),10);if(b){d+=P.abs(b)}}return d},margins:ad}}());(function(){var p=Ext.lib.Dom,q="left",u="right",s="top",m="bottom",l="position",r="static",t="relative",n="auto",o="z-index";Ext.Element.addMethods({getX:function(){return p.getX(this.dom)},getY:function(){return p.getY(this.dom)},getXY:function(){return p.getXY(this.dom)},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a,"_internal").getXY();return[c[0]-b[0],c[1]-b[1]]},setX:function(a,b){return this.setXY([a,this.getY()],this.animTest(arguments,b,1))},setY:function(b,a){return this.setXY([this.getX(),b],this.animTest(arguments,a,1))},setLeft:function(a){this.setStyle(q,this.addUnits(a));return this},setTop:function(a){this.setStyle(s,this.addUnits(a));return this},setRight:function(a){this.setStyle(u,this.addUnits(a));return this},setBottom:function(a){this.setStyle(m,this.addUnits(a));return this},setXY:function(c,a){var b=this;if(!a||!b.anim){p.setXY(b.dom,c)}else{b.anim({points:{to:c}},b.preanim(arguments,1),"motion")}return b},setLocation:function(a,c,b){return this.setXY([a,c],this.animTest(arguments,b,2))},moveTo:function(a,c,b){return this.setXY([a,c],this.animTest(arguments,b,2))},getLeft:function(a){return !a?this.getX():parseInt(this.getStyle(q),10)||0},getRight:function(a){var b=this;return !a?b.getX()+b.getWidth():(b.getLeft(true)+b.getWidth())||0},getTop:function(a){return !a?this.getY():parseInt(this.getStyle(s),10)||0},getBottom:function(a){var b=this;return !a?b.getY()+b.getHeight():(b.getTop(true)+b.getHeight())||0},position:function(e,a,c,b){var d=this;if(!e&&d.isStyle(l,r)){d.setStyle(l,t)}else{if(e){d.setStyle(l,e)}}if(a){d.setStyle(o,a)}if(c||b){d.setXY([c||false,b||false])}},clearPositioning:function(a){a=a||"";this.setStyle({left:a,right:a,top:a,bottom:a,"z-index":"",position:r});return this},getPositioning:function(){var b=this.getStyle(q);var a=this.getStyle(s);return{position:this.getStyle(l),left:b,right:b?"":this.getStyle(u),top:a,bottom:a?"":this.getStyle(m),"z-index":this.getStyle(o)}},setPositioning:function(a){var c=this,b=c.dom.style;c.setStyle(a);if(a.right==n){b.right=""}if(a.bottom==n){b.bottom=""}return c},translatePoints:function(a,h){h=isNaN(a[1])?h:a[1];a=isNaN(a[0])?a:a[0];var d=this,e=d.isStyle(l,t),g=d.getXY(),b=parseInt(d.getStyle(q),10),c=parseInt(d.getStyle(s),10);b=!isNaN(b)?b:(e?0:d.dom.offsetLeft);c=!isNaN(c)?c:(e?0:d.dom.offsetTop);return{left:(a-g[0]+b),top:(h-g[1]+c)}},animTest:function(b,a,c){return !!a&&this.preanim?this.preanim(b,c):false}})})();Ext.Element.addMethods({isScrollable:function(){var b=this.dom;return b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth},scrollTo:function(c,d){this.dom["scroll"+(/top/i.test(c)?"Top":"Left")]=d;return this},getScroll:function(){var j=this.dom,d=document,k=d.body,m=d.documentElement,l,o,n;if(j==d||j==k){if(Ext.isIE&&Ext.isStrict){l=m.scrollLeft;o=m.scrollTop}else{l=window.pageXOffset;o=window.pageYOffset}n={left:l||(k?k.scrollLeft:0),top:o||(k?k.scrollTop:0)}}else{n={left:j.scrollLeft,top:j.scrollTop}}return n}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls="x-hide-nosize";Ext.Element.addMethods(function(){var D=Ext.Element,q="opacity",t="visibility",E="display",C="hidden",x="offsets",u="asclass",w="none",z="nosize",A="originalDisplay",B="visibilityMode",r="isVisible",s=D.data,v=function(a){var b=s(a,A);if(b===undefined){s(a,A,b="")}return b},y=function(a){var b=s(a,B);if(b===undefined){s(a,B,b=1)}return b};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(a){s(this.dom,B,a);return this},animate:function(b,d,c,e,a){this.anim(b,{duration:d,callback:c,easing:e},a);return this},anim:function(e,g,c,i,d,b){c=c||"run";g=g||{};var h=this,a=Ext.lib.Anim[c](h.dom,e,(g.duration||i)||0.35,(g.easing||d)||"easeOut",function(){if(b){b.call(h)}if(g.callback){g.callback.call(g.scope||h,h,g)}},h);g.anim=a;return a},preanim:function(b,a){return !b[a]?false:(typeof b[a]=="object"?b[a]:{duration:b[a+1],callback:b[a+2],easing:b[a+3]})},isVisible:function(){var a=this,c=a.dom,b=s(c,r);if(typeof b=="boolean"){return b}b=!a.isStyle(t,C)&&!a.isStyle(E,w)&&!((y(c)==D.ASCLASS)&&a.hasClass(a.visibilityCls||D.visibilityCls));s(c,r,b);return b},setVisible:function(g,c){var j=this,d,b,a,i,h=j.dom,e=y(h);if(typeof c=="string"){switch(c){case E:e=D.DISPLAY;break;case t:e=D.VISIBILITY;break;case x:e=D.OFFSETS;break;case z:case u:e=D.ASCLASS;break}j.setVisibilityMode(e);c=false}if(!c||!j.anim){if(e==D.ASCLASS){j[g?"removeClass":"addClass"](j.visibilityCls||D.visibilityCls)}else{if(e==D.DISPLAY){return j.setDisplayed(g)}else{if(e==D.OFFSETS){if(!g){j.hideModeStyles={position:j.getStyle("position"),top:j.getStyle("top"),left:j.getStyle("left")};j.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{j.applyStyles(j.hideModeStyles||{position:"",top:"",left:""});delete j.hideModeStyles}}else{j.fixDisplay();h.style.visibility=g?"visible":C}}}}else{if(g){j.setOpacity(0.01);j.setVisible(true)}j.anim({opacity:{to:(g?1:0)}},j.preanim(arguments,1),null,0.35,"easeIn",function(){g||j.setVisible(false).setOpacity(1)})}s(h,r,g);return j},hasMetrics:function(){var a=this.dom;return this.isVisible()||(y(a)==D.VISIBILITY)},toggle:function(b){var a=this;a.setVisible(!a.isVisible(),a.preanim(arguments,0));return a},setDisplayed:function(a){if(typeof a=="boolean"){a=a?v(this.dom):w}this.setStyle(E,a);return this},fixDisplay:function(){var a=this;if(a.isStyle(E,w)){a.setStyle(t,C);a.setStyle(E,v(this.dom));if(a.isStyle(E,w)){a.setStyle(E,"block")}}},hide:function(a){if(typeof a=="string"){this.setVisible(false,a);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(a){if(typeof a=="string"){this.setVisible(true,a);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());(function(){var C=null,Z=undefined,P=true,I=false,O="setX",M="setY",U="setXY",S="left",Q="bottom",H="top",R="right",F="height",aa="width",N="points",L="hidden",D="absolute",J="visible",Y="motion",T="position",G="easeOut",X=new Ext.Element.Flyweight(),K={},B=function(a){return a||{}},E=function(a){X.dom=a;X.id=Ext.id(a);return X},W=function(a){if(!K[a]){K[a]=[]}return K[a]},V=function(a,b){K[a]=b};Ext.enableFx=P;Ext.Fx={switchStatements:function(a,b,c){return b.apply(this,c[a])},slideIn:function(b,n){n=B(n);var d=this,a=d.dom,h=a.style,j,k,g,m,l,h,c,i,e,o;b=b||"t";d.queueFx(n,function(){j=E(a).getXY();E(a).fixDisplay();k=E(a).getFxRestore();g={x:j[0],y:j[1],0:j[0],1:j[1],width:a.offsetWidth,height:a.offsetHeight};g.right=g.x+g.width;g.bottom=g.y+g.height;E(a).setWidth(g.width).setHeight(g.height);m=E(a).fxWrap(k.pos,n,L);h.visibility=J;h.position=D;function q(){E(a).fxUnwrap(m,k.pos,n);h.width=k.width;h.height=k.height;E(a).afterFx(n)}i={to:[g.x,g.y]};e={to:g.width};o={to:g.height};function p(ac,z,r,A,u,w,t,s,y,v,ab){var x={};E(ac).setWidth(r).setHeight(A);if(E(ac)[u]){E(ac)[u](w)}z[t]=z[s]="0";if(y){x.width=y}if(v){x.height=v}if(ab){x.points=ab}return x}c=E(a).switchStatements(b.toLowerCase(),p,{t:[m,h,g.width,0,C,C,S,Q,C,o,C],l:[m,h,0,g.height,C,C,R,H,e,C,C],r:[m,h,g.width,g.height,O,g.right,S,H,C,C,i],b:[m,h,g.width,g.height,M,g.bottom,S,H,C,o,i],tl:[m,h,0,0,C,C,R,Q,e,o,i],bl:[m,h,0,0,M,g.y+g.height,R,H,e,o,i],br:[m,h,0,0,U,[g.right,g.bottom],S,H,e,o,i],tr:[m,h,0,0,O,g.x+g.width,S,Q,e,o,i]});h.visibility=J;E(m).show();arguments.callee.anim=E(m).fxanim(c,n,Y,0.5,G,q)});return d},slideOut:function(l,j){j=B(j);var b=this,k=b.dom,e=k.style,g=b.getXY(),i,h,c,d,a={to:0};l=l||"t";b.queueFx(j,function(){h=E(k).getFxRestore();c={x:g[0],y:g[1],0:g[0],1:g[1],width:k.offsetWidth,height:k.offsetHeight};c.right=c.x+c.width;c.bottom=c.y+c.height;E(k).setWidth(c.width).setHeight(c.height);i=E(k).fxWrap(h.pos,j,J);e.visibility=J;e.position=D;E(i).setWidth(c.width).setHeight(c.height);function m(){j.useDisplay?E(k).setDisplayed(I):E(k).hide();E(k).fxUnwrap(i,h.pos,j);e.width=h.width;e.height=h.height;E(k).afterFx(j)}function n(r,p,x,q,v,o,u,w,t){var s={};r[p]=r[x]="0";s[q]=v;if(o){s[o]=u}if(w){s[w]=t}return s}d=E(k).switchStatements(l.toLowerCase(),n,{t:[e,S,Q,F,a],l:[e,R,H,aa,a],r:[e,S,H,aa,a,N,{to:[c.right,c.y]}],b:[e,S,H,F,a,N,{to:[c.x,c.bottom]}],tl:[e,R,Q,aa,a,F,a],bl:[e,R,H,aa,a,F,a,N,{to:[c.x,c.bottom]}],br:[e,S,H,aa,a,F,a,N,{to:[c.x+c.width,c.bottom]}],tr:[e,S,Q,aa,a,F,a,N,{to:[c.right,c.y]}]});arguments.callee.anim=E(i).fxanim(d,j,Y,0.5,G,m)});return b},puff:function(b){b=B(b);var h=this,a=h.dom,d=a.style,e,c,g;h.queueFx(b,function(){e=E(a).getWidth();c=E(a).getHeight();E(a).clearOpacity();E(a).show();g=E(a).getFxRestore();function i(){b.useDisplay?E(a).setDisplayed(I):E(a).hide();E(a).clearOpacity();E(a).setPositioning(g.pos);d.width=g.width;d.height=g.height;d.fontSize="";E(a).afterFx(b)}arguments.callee.anim=E(a).fxanim({width:{to:E(a).adjustWidth(e*2)},height:{to:E(a).adjustHeight(c*2)},points:{by:[-e*0.5,-c*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},b,Y,0.5,G,i)});return h},switchOff:function(d){d=B(d);var b=this,c=b.dom,e=c.style,a;b.queueFx(d,function(){E(c).clearOpacity();E(c).clip();a=E(c).getFxRestore();function g(){d.useDisplay?E(c).setDisplayed(I):E(c).hide();E(c).clearOpacity();E(c).setPositioning(a.pos);e.width=a.width;e.height=a.height;E(c).afterFx(d)}E(c).fxanim({opacity:{to:0.3}},C,C,0.1,C,function(){E(c).clearOpacity();(function(){E(c).fxanim({height:{to:1},points:{by:[0,E(c).getHeight()*0.5]}},d,Y,0.3,"easeIn",g)}).defer(100)})});return b},highlight:function(e,b){b=B(b);var h=this,a=h.dom,c=b.attr||"backgroundColor",d={},g;h.queueFx(b,function(){E(a).clearOpacity();E(a).show();function i(){a.style[c]=g;E(a).afterFx(b)}g=a.style[c];d[c]={from:e||"ffff9c",to:b.endColor||E(a).getColor(c)||"ffffff"};arguments.callee.anim=E(a).fxanim(d,b,"color",1,"easeIn",i)});return h},frame:function(c,g,b){b=B(b);var e=this,a=e.dom,d,h;e.queueFx(b,function(){c=c||"#C3DAF9";if(c.length==6){c="#"+c}g=g||1;E(a).show();var i=E(a).getXY(),k={x:i[0],y:i[1],0:i[0],1:i[1],width:a.offsetWidth,height:a.offsetHeight},j=function(){d=E(document.body||document.documentElement).createChild({style:{position:D,"z-index":35000,border:"0px solid "+c}});return d.queueFx({},l)};arguments.callee.anim={isAnimated:true,stop:function(){g=0;d.stopFx()}};function l(){var m=Ext.isBorderBox?2:1;h=d.anim({top:{from:k.y,to:k.y-20},left:{from:k.x,to:k.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:k.height,to:k.height+20*m},width:{from:k.width,to:k.width+20*m}},{duration:b.duration||1,callback:function(){d.remove();--g>0?j():E(a).afterFx(b)}});arguments.callee.anim={isAnimated:true,stop:function(){h.stop()}}}j()});return e},pause:function(b){var a=this.dom,c;this.queueFx({},function(){c=setTimeout(function(){E(a).afterFx({})},b*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(c);E(a).afterFx({})}}});return this},fadeIn:function(b){b=B(b);var d=this,a=d.dom,c=b.endOpacity||1;d.queueFx(b,function(){E(a).setOpacity(0);E(a).fixDisplay();a.style.visibility=J;arguments.callee.anim=E(a).fxanim({opacity:{to:c}},b,C,0.5,G,function(){if(c==1){E(a).clearOpacity()}E(a).afterFx(b)})});return d},fadeOut:function(c){c=B(c);var a=this,b=a.dom,e=b.style,d=c.endOpacity||0;a.queueFx(c,function(){arguments.callee.anim=E(b).fxanim({opacity:{to:d}},c,C,0.5,G,function(){if(d==0){Ext.Element.data(b,"visibilityMode")==Ext.Element.DISPLAY||c.useDisplay?e.display="none":e.visibility=L;E(b).clearOpacity()}E(b).afterFx(c)})});return a},scale:function(c,a,b){this.shift(Ext.apply({},b,{width:c,height:a}));return this},shift:function(b){b=B(b);var a=this.dom,c={};this.queueFx(b,function(){for(var d in b){if(b[d]!=Z){c[d]={to:b[d]}}}c.width?c.width.to=E(a).adjustWidth(b.width):c;c.height?c.height.to=E(a).adjustWidth(b.height):c;if(c.x||c.y||c.xy){c.points=c.xy||{to:[c.x?c.x.to:E(a).getX(),c.y?c.y.to:E(a).getY()]}}arguments.callee.anim=E(a).fxanim(c,b,Y,0.35,G,function(){E(a).afterFx(b)})});return this},ghost:function(j,h){h=B(h);var a=this,i=a.dom,d=i.style,b={opacity:{to:0},points:{}},e=b.points,g,c,k;j=j||"b";a.queueFx(h,function(){g=E(i).getFxRestore();c=E(i).getWidth();k=E(i).getHeight();function l(){h.useDisplay?E(i).setDisplayed(I):E(i).hide();E(i).clearOpacity();E(i).setPositioning(g.pos);d.width=g.width;d.height=g.height;E(i).afterFx(h)}e.by=E(i).switchStatements(j.toLowerCase(),function(n,m){return[n,m]},{t:[0,-k],l:[-c,0],r:[c,0],b:[0,k],tl:[-c,-k],bl:[-c,k],br:[c,k],tr:[c,-k]});arguments.callee.anim=E(i).fxanim(b,h,Y,0.5,G,l)});return a},syncFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:I,concurrent:P,stopFx:I});return a},sequenceFx:function(){var a=this;a.fxDefaults=Ext.apply(a.fxDefaults||{},{block:I,concurrent:I,stopFx:I});return a},nextFx:function(){var a=W(this.dom.id)[0];if(a){a.call(this)}},hasActiveFx:function(){return W(this.dom.id)[0]},stopFx:function(d){var a=this,c=a.dom.id;if(a.hasActiveFx()){var b=W(c)[0];if(b&&b.anim){if(b.anim.isAnimated){V(c,[b]);b.anim.stop(d!==undefined?d:P)}else{V(c,[])}}}return a},beforeFx:function(a){if(this.hasActiveFx()&&!a.concurrent){if(a.stopFx){this.stopFx();return P}return I}return P},hasFxBlock:function(){var a=W(this.dom.id);return a&&a[0]&&a[0].block},queueFx:function(c,d){var a=E(this.dom);if(!a.hasFxBlock()){Ext.applyIf(c,a.fxDefaults);if(!c.concurrent){var b=a.beforeFx(c);d.block=c.block;W(a.dom.id).push(d);if(b){a.nextFx()}}else{d.call(a)}}return a},fxWrap:function(b,h,e){var g=this.dom,d,c;if(!h.wrap||!(d=Ext.getDom(h.wrap))){if(h.fixPosition){c=E(g).getXY()}var a=document.createElement("div");a.style.visibility=e;d=g.parentNode.insertBefore(a,g);E(d).setPositioning(b);if(E(d).isStyle(T,"static")){E(d).position("relative")}E(g).clearPositioning("auto");E(d).clip();d.appendChild(g);if(c){E(d).setXY(c)}}return d},fxUnwrap:function(a,d,c){var b=this.dom;E(b).clearPositioning();E(b).setPositioning(d);if(!c.wrap){var e=E(a).dom.parentNode;e.insertBefore(b,a);E(a).remove()}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height}},afterFx:function(a){var c=this.dom,b=c.id;if(a.afterStyle){E(c).setStyle(a.afterStyle)}if(a.afterCls){E(c).addClass(a.afterCls)}if(a.remove==P){E(c).remove()}if(a.callback){a.callback.call(a.scope,E(c))}if(!a.concurrent){W(b).shift();E(c).nextFx()}},fxanim:function(g,h,d,a,e,c){d=d||"run";h=h||{};var b=Ext.lib.Anim[d](this.dom,g,(h.duration||a)||0.35,(h.easing||e)||G,c,this);h.anim=b;return b}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();Ext.CompositeElementLite=function(d,c){this.elements=[];this.add(d,c);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(c){var d=this.el;d.dom=c;d.id=c.id;return d},transformElement:function(b){return Ext.getDom(b)},getCount:function(){return this.elements.length},add:function(k,i){var l=this,m=l.elements;if(!k){return this}if(typeof k=="string"){k=Ext.Element.selectorFunction(k,i)}else{if(k.isComposite){k=k.elements}else{if(!Ext.isIterable(k)){k=[k]}}}for(var j=0,h=k.length;j<h;++j){m.push(l.transformElement(k[j]))}return l},invoke:function(o,l){var e=this,n=e.elements,k=n.length,i,m;for(m=0;m<k;m++){i=n[m];if(i){Ext.Element.prototype[o].apply(e.getElement(i),l)}}return e},item:function(g){var i=this,h=i.elements[g],e=null;if(h){e=i.getElement(h)}return e},addListener:function(n,i,e,q){var p=this.elements,m=p.length,o,l;for(o=0;o<m;o++){l=p[o];if(l){Ext.EventManager.on(l,n,i,e||l,q)}}return this},each:function(o,n){var e=this,m=e.elements,k=m.length,l,i;for(l=0;l<k;l++){i=m[l];if(i){i=this.getElement(i);if(o.call(n||i,i,e,l)===false){break}}}return e},fill:function(c){var d=this;d.elements=[];d.add(c);return d},filter:function(e){var g=[],i=this,h=Ext.isFunction(e)?e:function(a){return a.is(e)};i.each(function(a,c,b){if(h(a,b)!==false){g[g.length]=i.transformElement(a)}});i.elements=g;return i},indexOf:function(b){return this.elements.indexOf(this.transformElement(b))},replaceElement:function(k,j,h){var i=!isNaN(k)?k:this.indexOf(k),d;if(i>-1){j=Ext.getDom(j);if(h){d=this.elements[i];d.parentNode.insertBefore(j,d);Ext.removeNode(d)}this.elements.splice(i,1,j)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;Ext.CompositeElementLite.importElementMethods=function(){var g,e=Ext.Element.prototype,d=Ext.CompositeElementLite.prototype;for(g in e){if(typeof e[g]=="function"){(function(a){d[a]=d[a]||function(){return this.invoke(a,arguments)}}).call(d,g)}}};Ext.CompositeElementLite.importElementMethods();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(d,e){var g;if(typeof d=="string"){g=Ext.Element.selectorFunction(d,e)}else{if(d.length!==undefined){g=d}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(g)};Ext.select=Ext.Element.select;(function(){var m="beforerequest",p="requestcomplete",o="requestexception",j=undefined,n="load",k="POST",l="GET",q=window;Ext.data.Connection=function(a){Ext.apply(this,a);this.addEvents(m,p,o);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(e){var i=this;if(i.fireEvent(m,i,e)){if(e.el){if(!Ext.isEmpty(e.indicatorText)){i.indicatorText='<div class="loading-indicator">'+e.indicatorText+"</div>"}if(i.indicatorText){Ext.getDom(e.el).innerHTML=i.indicatorText}e.success=(Ext.isFunction(e.success)?e.success:function(){}).createInterceptor(function(r){Ext.getDom(e.el).innerHTML=r.responseText})}var c=e.params,b=e.url||i.url,a,g={success:i.handleResponse,failure:i.handleFailure,scope:i,argument:{options:e},timeout:Ext.num(e.timeout,i.timeout)},d,u;if(Ext.isFunction(c)){c=c.call(e.scope||q,e)}c=Ext.urlEncode(i.extraParams,Ext.isObject(c)?Ext.urlEncode(c):c);if(Ext.isFunction(b)){b=b.call(e.scope||q,e)}if((d=Ext.getDom(e.form))){b=b||d.action;if(e.isUpload||(/multipart\/form-data/i.test(d.getAttribute("enctype")))){return i.doFormUpload.call(i,e,c,b)}u=Ext.lib.Ajax.serializeForm(d);c=c?(c+"&"+u):u}a=e.method||i.method||((c||e.xmlData||e.jsonData)?k:l);if(a===l&&(i.disableCaching&&e.disableCaching!==false)||e.disableCaching===true){var h=e.disableCachingParam||i.disableCachingParam;b=Ext.urlAppend(b,h+"="+(new Date().getTime()))}e.headers=Ext.applyIf(e.headers||{},i.defaultHeaders||{});if(e.autoAbort===true||i.autoAbort){i.abort()}if((a==l||e.xmlData||e.jsonData)&&c){b=Ext.urlAppend(b,c);c=""}return(i.transId=Ext.lib.Ajax.request(a,b,g,c,e))}else{return e.callback?e.callback.apply(e.scope,[e,j,j]):null}},isLoading:function(a){return a?Ext.lib.Ajax.isCallInProgress(a):!!this.transId},abort:function(a){if(a||this.isLoading()){Ext.lib.Ajax.abort(a||this.transId)}},handleResponse:function(b){this.transId=false;var a=b.argument.options;b.argument=a?a.argument:null;this.fireEvent(p,this,b,a);if(a.success){a.success.call(a.scope,b,a)}if(a.callback){a.callback.call(a.scope,a,true,b)}},handleFailure:function(a,c){this.transId=false;var b=a.argument.options;a.argument=b?b.argument:null;this.fireEvent(o,this,a,b,c);if(b.failure){b.failure.call(b.scope,a,b)}if(b.callback){b.callback.call(b.scope,b,false,a)}},doFormUpload:function(h,a,b){var c=Ext.id(),z=document,i=z.createElement("iframe"),d=Ext.getDom(h.form),y=[],x,g="multipart/form-data",e={target:d.target,method:d.method,encoding:d.encoding,enctype:d.enctype,action:d.action};Ext.fly(i).set({id:c,name:c,cls:"x-hidden",src:Ext.SSL_SECURE_URL});z.body.appendChild(i);if(Ext.isIE){document.frames[c].name=c}Ext.fly(d).set({target:c,method:k,enctype:g,encoding:g,action:b||e.action});Ext.iterate(Ext.urlDecode(a,false),function(s,r){x=z.createElement("input");Ext.fly(x).set({type:"hidden",value:r,name:s});d.appendChild(x);y.push(x)});function w(){var r=this,B={responseText:"",responseXML:null,argument:h.argument},v,t;try{v=i.contentWindow.document||i.contentDocument||q.frames[c].document;if(v){if(v.body){if(/textarea/i.test((t=v.body.firstChild||{}).tagName)){B.responseText=t.value}else{B.responseText=v.body.innerHTML}}B.responseXML=v.XMLDocument||v}}catch(s){}Ext.EventManager.removeListener(i,n,w,r);r.fireEvent(p,r,B,h);function u(E,A,F){if(Ext.isFunction(E)){E.apply(A,F)}}u(h.success,h.scope,[B,h]);u(h.callback,h.scope,[h,true,B]);if(!r.debugUploads){setTimeout(function(){Ext.removeNode(i)},100)}}Ext.EventManager.on(i,n,w,this);d.submit();Ext.fly(d).set(e);Ext.each(y,function(r){Ext.removeNode(r)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(b){return Ext.lib.Ajax.serializeForm(b)}});Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return json?eval("("+json+")"):""},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.EventManager=function(){var G,H,R=false,T=Ext.isGecko||Ext.isWebKit||Ext.isSafari,W=Ext.lib.Event,I=Ext.lib.Dom,Z=document,C=window,J="DOMContentLoaded",L="complete",ac=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,M=[];function V(e){var b=false,d=0,c=M.length,g=false,a;if(e){if(e.getElementById||e.navigator){for(;d<c;++d){a=M[d];if(a.el===e){b=a.id;break}}if(!b){b=Ext.id(e);M.push({id:b,el:e});g=true}}else{b=Ext.id(e)}if(!Ext.elCache[b]){Ext.Element.addToCache(new Ext.Element(e),b);if(g){Ext.elCache[b].skipGC=true}}}return b}function U(j,a,d,k,i,g){j=Ext.getDom(j);var h=V(j),e=Ext.elCache[h].events,b;b=W.on(j,a,i);e[a]=e[a]||[];e[a].push([d,i,g,b,k]);if(j.addEventListener&&a=="mousewheel"){var c=["DOMMouseScroll",i,false];j.addEventListener.apply(j,c);Ext.EventManager.addListener(C,"unload",function(){j.removeEventListener.apply(j,c)})}if(j==Z&&a=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(i)}}function aa(){if(window!=top){return false}try{Z.documentElement.doScroll("left")}catch(a){return false}Y();return true}function D(a){if(Ext.isIE&&aa()){return true}if(Z.readyState==L){Y();return true}R||(H=setTimeout(arguments.callee,2));return false}var S;function Q(a){S||(S=Ext.query("style, link[rel=stylesheet]"));if(S.length==Z.styleSheets.length){Y();return true}R||(H=setTimeout(arguments.callee,2));return false}function F(a){Z.removeEventListener(J,arguments.callee,false);Q()}function Y(a){if(!R){R=true;if(H){clearTimeout(H)}if(T){Z.removeEventListener(J,Y,false)}if(Ext.isIE&&D.bindIE){Z.detachEvent("onreadystatechange",D)}W.un(C,"load",arguments.callee)}if(G&&!Ext.isReady){Ext.isReady=true;G.fire();G.listeners=[]}}function X(){G||(G=new Ext.util.Event());if(T){Z.addEventListener(J,Y,false)}if(Ext.isIE){if(!D()){D.bindIE=true;Z.attachEvent("onreadystatechange",D)}}else{if(Ext.isOpera){(Z.readyState==L&&Q())||Z.addEventListener(J,F,false)}else{if(Ext.isWebKit){D()}}}W.on(C,"load",Y)}function E(a,b){return function(){var c=Ext.toArray(arguments);if(b.target==Ext.EventObject.setEvent(c[0]).target){a.apply(this,c)}}}function O(b,c,a){return function(d){a.delay(c.buffer,b,null,[new Ext.EventObjectImpl(d)])}}function K(e,d,a,c,b){return function(g){Ext.EventManager.removeListener(d,a,c,b);e(g)}}function ab(b,c,a){return function(e){var d=new Ext.util.DelayedTask(b);if(!a.tasks){a.tasks=[]}a.tasks.push(d);d.delay(c.delay||10,b,null,[new Ext.EventObjectImpl(e)])}}function P(b,a,g,d,e){var h=(!g||typeof g=="boolean")?{}:g,i=Ext.getDom(b),j;d=d||h.fn;e=e||h.scope;if(!i){throw'Error listening for "'+a+'". Element "'+b+"\" doesn't exist."}function c(k){if(!Ext){return}k=Ext.EventObject.setEvent(k);var l;if(h.delegate){if(!(l=k.getTarget(h.delegate,i))){return}}else{l=k.target}if(h.stopEvent){k.stopEvent()}if(h.preventDefault){k.preventDefault()}if(h.stopPropagation){k.stopPropagation()}if(h.normalized===false){k=k.browserEvent}d.call(e||i,k,l,h)}if(h.target){c=E(c,h)}if(h.delay){c=ab(c,h,d)}if(h.single){c=K(c,i,a,d,e)}if(h.buffer){j=new Ext.util.DelayedTask(c);c=O(c,h,j)}U(i,a,d,j,c,e);return c}var N={addListener:function(h,e,a,i,g){if(typeof e=="object"){var d=e,b,c;for(b in d){c=d[b];if(!ac.test(b)){if(Ext.isFunction(c)){P(h,b,d,c,d.scope)}else{P(h,b,c)}}}}else{P(h,e,g,a,i)}},removeListener:function(l,c,h,i){l=Ext.getDom(l);var j=V(l),e=l&&(Ext.elCache[j].events)[c]||[],k,b,m,a,d,g;for(b=0,d=e.length;b<d;b++){if(Ext.isArray(g=e[b])&&g[0]==h&&(!i||g[2]==i)){if(g[4]){g[4].cancel()}a=h.tasks&&h.tasks.length;if(a){while(a--){h.tasks[a].cancel()}delete h.tasks}k=g[1];W.un(l,c,W.extAdapter?g[3]:k);if(k&&l.addEventListener&&c=="mousewheel"){l.removeEventListener("DOMMouseScroll",k,false)}if(k&&l==Z&&c=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(k)}e.splice(b,1);if(e.length===0){delete Ext.elCache[j].events[c]}for(a in Ext.elCache[j].events){return false}Ext.elCache[j].events={};return false}}},removeAll:function(k){k=Ext.getDom(k);var j=V(k),d=Ext.elCache[j]||{},h=d.events||{},c,b,e,l,g,a,i;for(l in h){if(h.hasOwnProperty(l)){c=h[l];for(b=0,e=c.length;b<e;b++){g=c[b];if(g[4]){g[4].cancel()}if(g[0].tasks&&(a=g[0].tasks.length)){while(a--){g[0].tasks[a].cancel()}delete g.tasks}i=g[1];W.un(k,l,W.extAdapter?g[3]:i);if(k.addEventListener&&i&&l=="mousewheel"){k.removeEventListener("DOMMouseScroll",i,false)}if(i&&k==Z&&l=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(i)}}}}if(Ext.elCache[j]){Ext.elCache[j].events={}}},getListeners:function(g,c){g=Ext.getDom(g);var b=V(g),d=Ext.elCache[b]||{},a=d.events||{},e=[];if(a&&a[c]){return a[c]}else{return null}},purgeElement:function(i,g,a){i=Ext.getDom(i);var h=V(i),d=Ext.elCache[h]||{},e=d.events||{},j,c,b;if(a){if(e&&e.hasOwnProperty(a)){c=e[a];for(j=0,b=c.length;j<b;j++){Ext.EventManager.removeListener(i,a,c[j][0])}}}else{Ext.EventManager.removeAll(i)}if(g&&i&&i.childNodes){for(j=0,b=i.childNodes.length;j<b;j++){Ext.EventManager.purgeElement(i.childNodes[j],g,a)}}},_unload:function(){var a;for(a in Ext.elCache){Ext.EventManager.removeAll(a)}delete Ext.elCache;delete Ext.Element._flyweights;var e,b,d,c=Ext.lib.Ajax;(typeof c.conn=="object")?b=c.conn:b={};for(d in b){e=b[d];if(e){c.abort({conn:e,tId:d})}}},onDocumentReady:function(c,b,a){if(Ext.isReady){G||(G=new Ext.util.Event());G.addListener(c,b,a);G.fire();G.listeners=[]}else{if(!G){X()}a=a||{};a.delay=a.delay||1;G.addListener(c,b,a)}},fireDocReady:Y};N.on=N.addListener;N.un=N.removeListener;N.stoppedMouseDownEvent=new Ext.util.Event();return N}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var b=function(){var e=document.body||document.getElementsByTagName("body")[0];if(!e){return false}var a=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":(Ext.isIE8?"ext-ie8":"ext-ie9"))):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){a.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){a.push("ext-chrome")}}if(Ext.isMac){a.push("ext-mac")}if(Ext.isLinux){a.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var g=e.parentNode;if(g){if(!Ext.isStrict){Ext.fly(g,"_internal").addClass("x-quirks");if(Ext.isIE&&!Ext.isStrict){Ext.isIEQuirks=true}}Ext.fly(g,"_internal").addClass(((Ext.isStrict&&Ext.isIE)||(!Ext.enableForcedBoxModel&&!Ext.isIE))?" ext-strict":" ext-border-box")}}if(Ext.enableForcedBoxModel&&!Ext.isIE){Ext.isForcedBorderBox=true;a.push("ext-forced-border-box")}Ext.fly(e,"_internal").addClass(a);return true};if(!b()){Ext.onReady(b)}})();(function(){var d=Ext.apply(Ext.supports,{correctRightMargin:true,correctTransparentColor:true,cssFloat:true});var c=function(){var a=document.createElement("div"),i=document,b,h;a.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="float:left;background-color:transparent;">';i.body.appendChild(a);h=a.lastChild;if((b=i.defaultView)){if(b.getComputedStyle(a.firstChild.firstChild,null).marginRight!="0px"){d.correctRightMargin=false}if(b.getComputedStyle(h,null).backgroundColor!="transparent"){d.correctTransparentColor=false}}d.cssFloat=!!h.style.cssFloat;i.body.removeChild(a)};if(Ext.isReady){c()}else{Ext.onReady(c)}})();Ext.EventObject=function(){var g=Ext.lib.Event,h=/(dbl)?click/,e={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},i=Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2};Ext.EventObjectImpl=function(a){if(a){this.setEvent(a.browserEvent||a)}};Ext.EventObjectImpl.prototype={setEvent:function(a){var b=this;if(a==b||(a&&a.browserEvent)){return a}b.browserEvent=a;if(a){b.button=a.button?i[a.button]:(a.which?a.which-1:-1);if(h.test(a.type)&&b.button==-1){b.button=0}b.type=a.type;b.shiftKey=a.shiftKey;b.ctrlKey=a.ctrlKey||a.metaKey||false;b.altKey=a.altKey;b.keyCode=a.keyCode;b.charCode=a.charCode;b.target=g.getTarget(a);b.xy=g.getXY(a)}else{b.button=-1;b.shiftKey=false;b.ctrlKey=false;b.altKey=false;b.keyCode=0;b.charCode=0;b.target=null;b.xy=[0,0]}return b},stopEvent:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}g.stopEvent(a.browserEvent)}},preventDefault:function(){if(this.browserEvent){g.preventDefault(this.browserEvent)}},stopPropagation:function(){var a=this;if(a.browserEvent){if(a.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(a)}g.stopPropagation(a.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(a){return Ext.isSafari?(e[a]||a):a},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(b,a,c){return b?Ext.fly(this.target).findParent(b,a,c):(c?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?g.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var a=this.browserEvent;var b=0;if(a.wheelDelta){b=a.wheelDelta/120}else{if(a.detail){b=-a.detail/3}}return b},within:function(a,b,d){if(a){var c=this[b?"getRelatedTarget":"getTarget"]();return c&&((d?(c==Ext.getDom(a)):false)||Ext.fly(a).contains(c))}return false}};return new Ext.EventObjectImpl()}();Ext.Loader=Ext.apply({},{load:function(o,n,p,t){var p=p||this,w=document.getElementsByTagName("head")[0],s=document.createDocumentFragment(),r=o.length,m=0,v=this;var q=function(a){w.appendChild(v.buildScriptTag(o[a],u))};var u=function(){m++;if(r==m&&typeof n=="function"){n.call(p)}else{if(t===true){q(m)}}};if(t===true){q.call(this,0)}else{Ext.each(o,function(a,b){s.appendChild(this.buildScriptTag(a,u))},this);w.appendChild(s)}},buildScriptTag:function(e,g){var d=document.createElement("script");d.type="text/javascript";d.src=e;if(d.readyState){d.onreadystatechange=function(){if(d.readyState=="loaded"||d.readyState=="complete"){d.onreadystatechange=null;g()}}}else{d.onload=g}return d}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout.boxOverflow","Ext.app","Ext.ux","Ext.chart","Ext.direct","Ext.slider");Ext.apply(Ext,function(){var g=Ext,d=0,e=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(a,b){return Ext.extend(a,b(a.prototype))},getDoc:function(){return Ext.get(document)},num:function(b,a){b=Number(Ext.isEmpty(b)||Ext.isArray(b)||typeof b=="boolean"||(typeof b=="string"&&b.trim().length==0)?NaN:b);return isNaN(b)?a:b},value:function(a,b,c){return Ext.isEmpty(a,c)?b:a},escapeRe:function(a){return a.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(a,c,b,i){a[c]=a[c].createSequence(b,i)},addBehaviors:function(b){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(b)})}else{var k={},a,j,c;for(j in b){if((a=j.split("@"))[1]){c=a[0];if(!k[c]){k[c]=Ext.select(c)}k[c].on(a[1],b[j])}}k=null}},getScrollBarWidth:function(k){if(!Ext.isReady){return 0}if(k===true||e===null){var b=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),a=b.child("div",true);var c=a.offsetWidth;b.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var j=a.offsetWidth;b.remove();e=c-j+2}return e},combine:function(){var b=arguments,k=b.length,c=[];for(var a=0;a<k;a++){var i=b[a];if(Ext.isArray(i)){c=c.concat(i)}else{if(i.length!==undefined&&!i.substr){c=c.concat(Array.prototype.slice.call(i,0))}else{c.push(i)}}}return c},copyTo:function(b,c,a){if(typeof a=="string"){a=a.split(/[,;\s]/)}Ext.each(a,function(i){if(c.hasOwnProperty(i)){b[i]=c[i]}},this);return b},destroy:function(){Ext.each(arguments,function(a){if(a){if(Ext.isArray(a)){this.destroy.apply(this,a)}else{if(typeof a.destroy=="function"){a.destroy()}else{if(a.dom){a.remove()}}}}},this)},destroyMembers:function(i,b,o,a){for(var c=1,n=arguments,m=n.length;c<m;c++){Ext.destroy(i[n[c]]);delete i[n[c]]}},clean:function(a){var b=[];Ext.each(a,function(c){if(!!c){b.push(c)}});return b},unique:function(b){var c=[],a={};Ext.each(b,function(i){if(!a[i]){c.push(i)}a[i]=true});return c},flatten:function(b){var a=[];function c(i){Ext.each(i,function(h){if(Ext.isArray(h)){c(h)}else{a.push(h)}});return a}return c(b)},min:function(b,c){var a=b[0];c=c||function(k,j){return k<j?-1:1};Ext.each(b,function(i){a=c(a,i)==-1?a:i});return a},max:function(b,c){var a=b[0];c=c||function(k,j){return k>j?1:-1};Ext.each(b,function(i){a=c(a,i)==1?a:i});return a},mean:function(a){return a.length>0?Ext.sum(a)/a.length:undefined},sum:function(a){var b=0;Ext.each(a,function(c){b+=c});return b},partition:function(b,c){var a=[[],[]];Ext.each(b,function(l,m,i){a[(c&&c(l,m,i))||(!c&&l)?0:1].push(l)});return a},invoke:function(c,i){var a=[],b=Array.prototype.slice.call(arguments,2);Ext.each(c,function(l,h){if(l&&typeof l[i]=="function"){a.push(l[i].apply(l,b))}else{a.push(undefined)}});return a},pluck:function(b,a){var c=[];Ext.each(b,function(i){c.push(i[a])});return c},zip:function(){var j=Ext.partition(arguments,function(h){return typeof h!="function"}),b=j[0],i=j[1][0],o=Ext.max(Ext.pluck(b,"length")),a=[];for(var c=0;c<o;c++){a[c]=[];if(i){a[c]=i.apply(i,Ext.pluck(b,c))}else{for(var q=0,p=b.length;q<p;q++){a[c].push(b[q][c])}}}return a},getCmp:function(a){return Ext.ComponentMgr.get(a)},useShims:g.isIE6||(g.isMac&&g.isGecko2),type:function(b){if(b===undefined||b===null){return false}if(b.htmlElement){return"element"}var a=typeof b;if(a=="object"&&b.nodeName){switch(b.nodeType){case 1:return"element";case 3:return(/\S/).test(b.nodeValue)?"textnode":"whitespace"}}if(a=="object"||a=="function"){switch(b.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof b.length=="number"&&typeof b.item=="function"){return"nodelist"}}return a},intercept:function(a,c,b,i){a[c]=a[c].createInterceptor(b,i)},callback:function(c,a,b,i){if(typeof c=="function"){if(i){c.defer(i,a,b||[])}else{c.apply(a,b||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(e,d){var g=this;return(typeof e!="function")?this:function(){var a=g.apply(this||window,arguments);e.apply(d||this||window,arguments);return a}}});Ext.applyIf(String,{escape:function(b){return b.replace(/('|\\)/g,"\\$1")},leftPad:function(i,g,h){var e=String(i);if(!h){h=" "}while(e.length<g){e=h+e}return e}});String.prototype.toggle=function(d,c){return this==d?c:d};String.prototype.trim=function(){var b=/^\s+|\s+$/g;return function(){return this.replace(b,"")}}();Date.prototype.getElapsed=function(b){return Math.abs((b||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(d,c){return Math.min(Math.max(this,d),c)}});Ext.lib.Dom.getRegion=function(b){return Ext.lib.Region.getRegion(b)};Ext.lib.Region=function(j,b,h,i){var k=this;k.top=j;k[1]=j;k.right=b;k.bottom=h;k.left=i;k[0]=i};Ext.lib.Region.prototype={contains:function(d){var c=this;return(d.left>=c.left&&d.right<=c.right&&d.top>=c.top&&d.bottom<=c.bottom)},getArea:function(){var b=this;return((b.bottom-b.top)*(b.right-b.left))},intersect:function(b){var m=this,k=Math.max(m.top,b.top),l=Math.min(m.right,b.right),i=Math.min(m.bottom,b.bottom),j=Math.max(m.left,b.left);if(i>=k&&l>=j){return new Ext.lib.Region(k,l,i,j)}},union:function(b){var m=this,k=Math.min(m.top,b.top),l=Math.max(m.right,b.right),i=Math.max(m.bottom,b.bottom),j=Math.min(m.left,b.left);return new Ext.lib.Region(k,l,i,j)},constrainTo:function(d){var c=this;c.top=c.top.constrain(d.top,d.bottom);c.bottom=c.bottom.constrain(d.top,d.bottom);c.left=c.left.constrain(d.left,d.right);c.right=c.right.constrain(d.left,d.right);return c},adjust:function(j,i,h,b){var k=this;k.top+=j;k.left+=i;k.right+=b;k.bottom+=h;return k}};Ext.lib.Region.getRegion=function(l){var b=Ext.lib.Dom.getXY(l),k=b[1],m=b[0]+l.offsetWidth,i=b[1]+l.offsetHeight,j=b[0];return new Ext.lib.Region(k,m,i,j)};Ext.lib.Point=function(d,g){if(Ext.isArray(d)){g=d[1];d=d[0]}var e=this;e.x=e.right=e.left=e[0]=d;e.y=e.top=e.bottom=e[1]=g};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.apply(Ext.DomHelper,function(){var p,l="afterbegin",j="afterend",k="beforebegin",o="beforeend",m=/tag|children|cn|html$/i;function q(d,g,e,h,c,a){d=Ext.getDom(d);var b;if(p.useDom){b=n(g,null);if(a){d.appendChild(b)}else{(c=="firstChild"?d:d.parentNode).insertBefore(b,d[c]||d)}}else{b=Ext.DomHelper.insertHtml(h,d,Ext.DomHelper.createHtml(g))}return e?Ext.get(b,true):b}function n(a,h){var b,w=document,e,i,c,v;if(Ext.isArray(a)){b=w.createDocumentFragment();for(var g=0,d=a.length;g<d;g++){n(a[g],b)}}else{if(typeof a=="string"){b=w.createTextNode(a)}else{b=w.createElement(a.tag||"div");e=!!b.setAttribute;for(var i in a){if(!m.test(i)){c=a[i];if(i=="cls"){b.className=c}else{if(e){b.setAttribute(i,c)}else{b[i]=c}}}}Ext.DomHelper.applyStyles(b,a.style);if((v=a.children||a.cn)){n(v,b)}else{if(a.html){b.innerHTML=a.html}}}}if(h){h.appendChild(b)}return b}p={createTemplate:function(a){var b=Ext.DomHelper.createHtml(a);return new Ext.Template(b)},useDom:false,insertBefore:function(a,c,b){return q(a,c,b,k)},insertAfter:function(a,c,b){return q(a,c,b,j,"nextSibling")},insertFirst:function(a,c,b){return q(a,c,b,l,"firstChild")},append:function(a,c,b){return q(a,c,b,o,"",true)},createDom:n};return p}());Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(i){var m=this,h=m.disableFormats!==true,l=Ext.util.Format,j=m;if(m.compiled){return m.compiled(i)}function k(b,d,q,c){if(q&&h){if(q.substr(0,5)=="this."){return j.call(q.substr(5),i[d],i)}else{if(c){var g=m.argsRe;c=c.split(",");for(var e=0,a=c.length;e<a;e++){c[e]=c[e].replace(g,"$1")}c=[i[d]].concat(c)}else{c=[i[d]]}return l[q].apply(l,c)}}else{return i[d]!==undefined?i[d]:""}}return m.html.replace(m.re,k)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(g,e,d){return this[g](e,d)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.util.Functions={createInterceptor:function(h,g,e){var i=h;if(!Ext.isFunction(g)){return h}else{return function(){var a=this,b=arguments;g.target=a;g.method=h;return(g.apply(e||a||window,b)!==false)?h.apply(a||window,b):null}}},createDelegate:function(h,i,g,e){if(!Ext.isFunction(h)){return h}return function(){var a=g||arguments;if(e===true){a=Array.prototype.slice.call(arguments,0);a=a.concat(g)}else{if(Ext.isNumber(e)){a=Array.prototype.slice.call(arguments,0);var b=[e,0].concat(g);Array.prototype.splice.apply(a,b)}}return h.apply(i||window,a)}},defer:function(j,i,k,h,g){j=Ext.util.Functions.createDelegate(j,k,h,g);if(i>0){return setTimeout(j,i)}j();return 0},createSequence:function(g,e,d){if(!Ext.isFunction(e)){return g}else{return function(){var a=g.apply(this||window,arguments);e.apply(d||this||window,arguments);return a}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.apply(Ext.util.Observable.prototype,function(){function b(k){var e=(this.methodEvents=this.methodEvents||{})[k],n,m,o,a=this;if(!e){this.methodEvents[k]=e={};e.originalFn=this[k];e.methodName=k;e.before=[];e.after=[];var l=function(d,c,g){if((m=d.apply(c||a,g))!==undefined){if(typeof m=="object"){if(m.returnValue!==undefined){n=m.returnValue}else{n=m}o=!!m.cancel}else{if(m===false){o=true}else{n=m}}}};this[k]=function(){var d=Array.prototype.slice.call(arguments,0),c;n=m=undefined;o=false;for(var g=0,h=e.before.length;g<h;g++){c=e.before[g];l(c.fn,c.scope,d);if(o){return n}}if((m=e.originalFn.apply(a,d))!==undefined){n=m}for(var g=0,h=e.after.length;g<h;g++){c=e.after[g];l(c.fn,c.scope,d);if(o){return n}}return n}}return e}return{beforeMethod:function(g,e,a){b.call(this,g).before.push({fn:e,scope:a})},afterMethod:function(g,e,a){b.call(this,g).after.push({fn:e,scope:a})},removeMethodListener:function(e,m,l){var a=this.getMethodEvent(e);for(var k=0,i=a.before.length;k<i;k++){if(a.before[k].fn==m&&a.before[k].scope==l){a.before.splice(k,1);return}}for(var k=0,i=a.after.length;k<i;k++){if(a.after[k].fn==m&&a.after[k].scope==l){a.after.splice(k,1);return}}},relayEvents:function(i,n){var a=this;function o(c){return function(){return a.fireEvent.apply(a,[c].concat(Array.prototype.slice.call(arguments,0)))}}for(var m=0,k=n.length;m<k;m++){var l=n[m];a.events[l]=a.events[l]||true;i.on(l,o(l),a)}},enableBubble:function(l){var m=this;if(!Ext.isEmpty(l)){l=Ext.isArray(l)?l:Array.prototype.slice.call(arguments,0);for(var k=0,i=l.length;k<i;k++){var j=l[k];j=j.toLowerCase();var a=m.events[j]||true;if(typeof a=="boolean"){a=new Ext.util.Event(m,j);m.events[j]=a}a.bubble=true}}}}}());Ext.util.Observable.capture=function(g,e,d){g.fireEvent=g.fireEvent.createInterceptor(e,d)};Ext.util.Observable.observeClass=function(d,c){if(d){if(!d.fireEvent){Ext.apply(d,new Ext.util.Observable());Ext.util.Observable.capture(d.prototype,d.fireEvent,d)}if(typeof c=="object"){d.on(c)}return d}};Ext.apply(Ext.EventManager,function(){var s,o,u,q,p=Ext.lib.Dom,n=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,r=Ext.EventManager._unload,m=0,l=0,t=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{_unload:function(){Ext.EventManager.un(window,"resize",this.fireWindowResize,this);r.call(Ext.EventManager)},doResizeEvent:function(){var b=p.getViewHeight(),a=p.getViewWidth();if(l!=b||m!=a){s.fire(m=a,l=b)}},onWindowResize:function(c,b,a){if(!s){s=new Ext.util.Event();o=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}s.addListener(c,b,a)},fireWindowResize:function(){if(s){o.delay(100)}},onTextResize:function(a,d,b){if(!u){u=new Ext.util.Event();var c=new Ext.Element(document.createElement("div"));c.dom.className="x-text-resize";c.dom.innerHTML="X";c.appendTo(document.body);q=c.dom.offsetHeight;setInterval(function(){if(c.dom.offsetHeight!=q){u.fire(q,q=c.dom.offsetHeight)}},this.textResizeInterval)}u.addListener(a,d,b)},removeResizeListener:function(b,a){if(s){s.removeListener(b,a)}},fireResize:function(){if(s){s.fire(p.getViewWidth(),p.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,getKeyEvent:function(){return t?"keydown":"keypress"},useKeydown:t}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var d=this,c=this.normalizeKey(d.keyCode);return(c>=33&&c<=40)||c==d.RETURN||c==d.TAB||c==d.ESC},isSpecialKey:function(){var b=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(b==this.BACKSPACE)||(b>=16&&b<=20)||(b>=44&&b<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});Ext.Element.addMethods({swallowEvent:function(e,g){var i=this;function h(a){a.stopPropagation();if(g){a.preventDefault()}}if(Ext.isArray(e)){Ext.each(e,function(a){i.on(a,h)});return i}i.on(e,h);return i},relayEvent:function(c,d){this.on(c,function(a){d.fireEvent(c,a)})},clean:function(i){var k=this,l=k.dom,m=l.firstChild,j=-1;if(Ext.Element.data(l,"isCleaned")&&i!==true){return k}while(m){var h=m.nextSibling;if(m.nodeType==3&&!(/\S/.test(m.nodeValue))){l.removeChild(m)}else{m.nodeIndex=++j}m=h}Ext.Element.data(l,"isCleaned",true);return k},load:function(){var b=this.getUpdater();b.update.apply(b,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(g,k,j){g=(typeof g=="object")?g:{tag:"div",cls:g};var i=this,h=k?Ext.DomHelper.append(k,g,true):Ext.DomHelper.insertBefore(i.dom,g,true);if(j&&i.setBox&&i.getBox){h.setBox(i.getBox())}return h}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;Ext.Element.addMethods({getAnchorXY:function(B,u,o){B=(B||"tl").toLowerCase();o=o||{};var t=this,y=t.dom==document.body||t.dom==document,w=o.width||y?Ext.lib.Dom.getViewWidth():t.getWidth(),r=o.height||y?Ext.lib.Dom.getViewHeight():t.getHeight(),h,x=Math.round,z=t.getXY(),v=t.getScroll(),s=y?v.left:!u?z[0]:0,C=y?v.top:!u?z[1]:0,A={c:[x(w*0.5),x(r*0.5)],t:[x(w*0.5),0],l:[0,x(r*0.5)],r:[w,x(r*0.5)],b:[x(w*0.5),r],tl:[0,0],bl:[0,r],br:[w,r],tr:[w,0]};h=A[B];return[h[0]+s,h[1]+C]},anchorTo:function(s,m,t,r,p,q){var n=this,v=n.dom,o=!Ext.isEmpty(p),u=function(){Ext.fly(v).alignTo(s,m,t,r);Ext.callback(q,Ext.fly(v))},w=this.getAnchor();this.removeAnchor();Ext.apply(w,{fn:u,scroll:o});Ext.EventManager.onWindowResize(u,null);if(o){Ext.EventManager.on(window,"scroll",u,null,{buffer:!isNaN(p)?p:50})}u.call(n);return n},removeAnchor:function(){var d=this,c=this.getAnchor();if(c&&c.fn){Ext.EventManager.removeResizeListener(c.fn);if(c.scroll){Ext.EventManager.un(window,"scroll",c.fn)}delete c.fn}return d},getAnchor:function(){var e=Ext.Element.data,g=this.dom;if(!g){return}var d=e(g,"_anchor");if(!d){d=e(g,"_anchor",{})}return d},getAlignToXY:function(Z,c,d){Z=Ext.get(Z);if(!Z||!Z.dom){throw"Element.alignToXY with an element that doesn't exist"}d=d||[0,0];c=(!c||c=="?"?"tl-bl?":(!(/-/).test(c)&&c!==""?"tl-"+c:c||"tl-bl")).toLowerCase();var ad=this,aa=ad.dom,af,ae,V,U,y,p,Q,O=Ext.lib.Dom.getViewWidth()-10,r=Ext.lib.Dom.getViewHeight()-10,X,R,S,T,P,w,ag=document,ac=ag.documentElement,x=ag.body,o=(ac.scrollLeft||x.scrollLeft||0)+5,m=(ac.scrollTop||x.scrollTop||0)+5,ab=false,Y="",W="",h=c.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!h){throw"Element.alignTo with an invalid alignment "+c}Y=h[1];W=h[2];ab=!!h[3];af=ad.getAnchorXY(Y,true);ae=Z.getAnchorXY(W,false);V=ae[0]-af[0]+d[0];U=ae[1]-af[1]+d[1];if(ab){y=ad.getWidth();p=ad.getHeight();Q=Z.getRegion();X=Y.charAt(0);R=Y.charAt(Y.length-1);S=W.charAt(0);T=W.charAt(W.length-1);P=((X=="t"&&S=="b")||(X=="b"&&S=="t"));w=((R=="r"&&T=="l")||(R=="l"&&T=="r"));if(V+y>O+o){V=w?Q.left-y:O+o-y}if(V<o){V=w?Q.right:o}if(U+p>r+m){U=P?Q.top-p:r+m-p}if(U<m){U=P?Q.bottom:m}}return[V,U]},alignTo:function(i,g,k,h){var j=this;return j.setXY(j.getAlignToXY(i,g,k),j.preanim&&!!h?j.preanim(arguments,3):false)},adjustForConstraints:function(g,d,e){return this.getConstrainToXY(d||document,false,e,g)||g},getConstrainToXY:function(h,g,i,k){var j={top:0,left:0,bottom:0,right:0};return function(y,K,G,I){y=Ext.get(y);G=G?Ext.applyIf(G,j):j;var a,N,x=0,w=0;if(y.dom==document.body||y.dom==document){a=Ext.lib.Dom.getViewWidth();N=Ext.lib.Dom.getViewHeight()}else{a=y.dom.clientWidth;N=y.dom.clientHeight;if(!K){var s=y.getXY();x=s[0];w=s[1]}}var e=y.getScroll();x+=G.left+e.left;w+=G.top+e.top;a-=G.right;N-=G.bottom;var L=x+a,b=w+N,E=I||(!K?this.getXY():[this.getLeft(true),this.getTop(true)]),c=E[0],J=E[1],F=this.getConstrainOffset(),d=this.dom.offsetWidth+F,M=this.dom.offsetHeight+F;var H=false;if((c+d)>L){c=L-d;H=true}if((J+M)>b){J=b-M;H=true}if(c<x){c=x;H=true}if(J<w){J=w;H=true}return H?[c,J]:false}}(),getConstrainOffset:function(){return 0},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(b){return this.alignTo(b||document,"c-c")}});Ext.Element.addMethods({select:function(c,d){return Ext.Element.select(c,d,this.dom)}});Ext.apply(Ext.Element.prototype,function(){var g=Ext.getDom,d=Ext.get,e=Ext.DomHelper;return{insertSibling:function(b,o,a){var c=this,n,m=(o||"before").toLowerCase()=="after",l;if(Ext.isArray(b)){l=c;Ext.each(b,function(h){n=Ext.fly(l,"_internal").insertSibling(h,o,a);if(m){l=n}});return n}b=b||{};if(b.nodeType||b.dom){n=c.dom.parentNode.insertBefore(g(b),m?c.dom.nextSibling:c.dom);if(!a){n=d(n)}}else{if(m&&!c.dom.nextSibling){n=e.append(c.dom.parentNode,b,!a)}else{n=e[m?"insertAfter":"insertBefore"](c.dom,b,!a)}}return n}}}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var c="_internal",d=/(\d+\.?\d+)px/;return{applyStyles:function(a){Ext.DomHelper.applyStyles(this.dom,a);return this},getStyles:function(){var a={};Ext.each(arguments,function(b){a[b]=this.getStyle(b)},this);return a},setOverflow:function(b){var a=this.dom;if(b=="auto"&&Ext.isMac&&Ext.isGecko2){a.style.overflow="hidden";(function(){a.style.overflow="auto"}).defer(1)}else{a.style.overflow=b}},boxWrap:function(b){b=b||"x-box";var a=Ext.get(this.insertHtml("beforeBegin","<div class='"+b+"'>"+String.format(Ext.Element.boxMarkup,b)+"</div>"));Ext.DomQuery.selectNode("."+b+"-mc",a.dom).appendChild(this.dom);return a},setSize:function(i,b,h){var a=this;if(typeof i=="object"){b=i.height;i=i.width}i=a.adjustWidth(i);b=a.adjustHeight(b);if(!h||!a.anim){a.dom.style.width=a.addUnits(i);a.dom.style.height=a.addUnits(b)}else{a.anim({width:{to:i},height:{to:b}},a.preanim(arguments,2))}return a},getComputedHeight:function(){var a=this,b=Math.max(a.dom.offsetHeight,a.dom.clientHeight);if(!b){b=parseFloat(a.getStyle("height"))||0;if(!a.isBorderBox()){b+=a.getFrameWidth("tb")}}return b},getComputedWidth:function(){var a=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!a){a=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){a+=this.getFrameWidth("lr")}}return a},getFrameWidth:function(a,b){return b&&this.isBorderBox()?0:(this.getPadding(a)+this.getBorderWidth(a))},addClassOnOver:function(a){this.hover(function(){Ext.fly(this,c).addClass(a)},function(){Ext.fly(this,c).removeClass(a)});return this},addClassOnFocus:function(a){this.on("focus",function(){Ext.fly(this,c).addClass(a)},this.dom);this.on("blur",function(){Ext.fly(this,c).removeClass(a)},this.dom);return this},addClassOnClick:function(b){var a=this.dom;this.on("mousedown",function(){Ext.fly(a,c).addClass(b);var h=Ext.getDoc(),i=function(){Ext.fly(a,c).removeClass(b);h.removeListener("mouseup",i)};h.on("mouseup",i)});return this},getViewSize:function(){var b=document,a=this.dom,i=(a==b||a==b.body);if(i){var j=Ext.lib.Dom;return{width:j.getViewWidth(),height:j.getViewHeight()}}else{return{width:a.clientWidth,height:a.clientHeight}}},getStyleSize:function(){var b=this,p,a,n=document,o=this.dom,q=(o==n||o==n.body),r=o.style;if(q){var h=Ext.lib.Dom;return{width:h.getViewWidth(),height:h.getViewHeight()}}if(r.width&&r.width!="auto"){p=parseFloat(r.width);if(b.isBorderBox()){p-=b.getFrameWidth("lr")}}if(r.height&&r.height!="auto"){a=parseFloat(r.height);if(b.isBorderBox()){a-=b.getFrameWidth("tb")}}return{width:p||b.getWidth(true),height:a||b.getHeight(true)}},getSize:function(a){return{width:this.getWidth(a),height:this.getHeight(a)}},repaint:function(){var a=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(a).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(j){var k=this,i,b={t:"top",l:"left",r:"right",b:"bottom"},a={};if(!j){for(i in k.margins){a[b[i]]=parseFloat(k.getStyle(k.margins[i]))||0}return a}else{return k.addStyles.call(k,j,k.margins)}}}}());Ext.Element.addMethods({setBox:function(l,m,i){var k=this,h=l.width,j=l.height;if((m&&!k.autoBoxAdjust)&&!k.isBorderBox()){h-=(k.getBorderWidth("lr")+k.getPadding("lr"));j-=(k.getBorderWidth("tb")+k.getPadding("tb"))}k.setBounds(l.x,l.y,h,j,k.animTest.call(k,arguments,i,2));return k},getBox:function(x,b){var z=this,t,F,B,E=z.getBorderWidth,h=z.getPadding,G,C,r,A;if(!b){t=z.getXY()}else{F=parseInt(z.getStyle("left"),10)||0;B=parseInt(z.getStyle("top"),10)||0;t=[F,B]}var D=z.dom,l=D.offsetWidth,w=D.offsetHeight,y;if(!x){y={x:t[0],y:t[1],0:t[0],1:t[1],width:l,height:w}}else{G=E.call(z,"l")+h.call(z,"l");C=E.call(z,"r")+h.call(z,"r");r=E.call(z,"t")+h.call(z,"t");A=E.call(z,"b")+h.call(z,"b");y={x:t[0]+G,y:t[1]+r,0:t[0]+G,1:t[1]+r,width:l-(G+C),height:w-(r+A)}}y.right=y.x+y.width;y.bottom=y.y+y.height;return y},move:function(p,u,v){var y=this,s=y.getXY(),q=s[0],o=s[1],w=[q-u,o],r=[q+u,o],n=[q,o-u],t=[q,o+u],x={l:w,left:w,r:r,right:r,t:n,top:n,up:n,b:t,bottom:t,down:t};p=p.toLowerCase();y.moveTo(x[p][0],x[p][1],y.animTest.call(y,arguments,v,2))},setLeftTop:function(i,h){var g=this,e=g.dom.style;e.left=g.addUnits(i);e.top=g.addUnits(h);return g},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(i,m,k,h,j){var l=this;if(!j||!l.anim){l.setSize(k,h);l.setLocation(i,m)}else{l.anim({points:{to:[i,m]},width:{to:l.adjustWidth(k)},height:{to:l.adjustHeight(h)}},l.preanim(arguments,4),"motion")}return l},setRegion:function(d,c){return this.setBounds(d.left,d.top,d.right-d.left,d.bottom-d.top,this.animTest.call(this,arguments,c,1))}});Ext.Element.addMethods({scrollTo:function(k,m,j){var n=/top/i.test(k),l=this,o=l.dom,i;if(!j||!l.anim){i="scroll"+(n?"Top":"Left");o[i]=m}else{i="scroll"+(n?"Left":"Top");l.anim({scroll:{to:n?[o[i],m]:[m,o[i]]}},l.preanim(arguments,2),"scroll")}return l},scrollIntoView:function(B,t){var b=Ext.getDom(B)||Ext.getBody().dom,r=this.dom,C=this.getOffsetsTo(b),w=C[0]+b.scrollLeft,o=C[1]+b.scrollTop,c=o+r.offsetHeight,A=w+r.offsetWidth,z=b.clientHeight,x=parseInt(b.scrollTop,10),l=parseInt(b.scrollLeft,10),v=x+z,y=l+b.clientWidth;if(r.offsetHeight>z||o<x){b.scrollTop=o}else{if(c>v){b.scrollTop=c-z}}b.scrollTop=b.scrollTop;if(t!==false){if(r.offsetWidth>b.clientWidth||w<l){b.scrollLeft=w}else{if(A>y){b.scrollLeft=A-b.clientWidth}}b.scrollLeft=b.scrollLeft}return this},scrollChildIntoView:function(d,c){Ext.fly(d,"_scrollChildIntoView").scrollIntoView(this,c)},scroll:function(s,w,y){if(!this.isScrollable()){return false}var z=this.dom,A=z.scrollLeft,h=z.scrollTop,t=z.scrollWidth,r=z.scrollHeight,l=z.clientWidth,v=z.clientHeight,x=false,u,q={l:Math.min(A+w,t-l),r:u=Math.max(A-w,0),t:Math.max(h-w,0),b:Math.min(h+w,r-v)};q.d=q.b;q.u=q.t;s=s.substr(0,1);if((u=q[s])>-1){x=true;this.scrollTo(s=="l"||s=="r"?"left":"top",u,this.preanim(arguments,2))}return x}});Ext.Element.addMethods(function(){var m="visibility",k="display",j="hidden",i="none",l="x-masked",o="x-masked-relative",n=Ext.Element.data;return{isVisible:function(a){var b=!this.isStyle(m,j)&&!this.isStyle(k,i),c=this.dom.parentNode;if(a!==true||!b){return b}while(c&&!(/^body/i.test(c.tagName))){if(!Ext.fly(c,"_isVisible").isVisible()){return false}c=c.parentNode}return true},isDisplayed:function(){return !this.isStyle(k,i)},enableDisplayMode:function(a){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(a)){n(this.dom,"originalDisplay",a)}return this},mask:function(b,g){var r=this,d=r.dom,h=Ext.DomHelper,e="ext-el-mask-msg",a,s;if(!/^body/i.test(d.tagName)&&r.getStyle("position")=="static"){r.addClass(o)}if(a=n(d,"maskMsg")){a.remove()}if(a=n(d,"mask")){a.remove()}s=h.append(d,{cls:"ext-el-mask"},true);n(d,"mask",s);r.addClass(l);s.setDisplayed(true);if(typeof b=="string"){var c=h.append(d,{cls:e,cn:{tag:"div"}},true);n(d,"maskMsg",c);c.dom.className=g?e+" "+g:e;c.dom.firstChild.innerHTML=b;c.setDisplayed(true);c.center(r)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&r.getStyle("height")=="auto"){s.setSize(undefined,r.getHeight())}return s},unmask:function(){var c=this,d=c.dom,a=n(d,"mask"),b=n(d,"maskMsg");if(a){if(b){b.remove();n(d,"maskMsg",undefined)}a.remove();n(d,"mask",undefined);c.removeClass([l,o])}},isMasked:function(){var a=n(this.dom,"mask");return a&&a.isVisible()},createShim:function(){var a=document.createElement("iframe"),b;a.frameBorder="0";a.className="ext-shim";a.src=Ext.SSL_SECURE_URL;b=Ext.get(this.dom.parentNode.insertBefore(a,this.dom));b.autoBoxAdjust=false;return b}}}());Ext.Element.addMethods({addKeyListener:function(g,i,h){var e;if(typeof g!="object"||Ext.isArray(g)){e={key:g,fn:i,scope:h}}else{e={key:g.key,shift:g.shift,ctrl:g.ctrl,alt:g.alt,fn:i,scope:h}}return new Ext.KeyMap(this,e)},addKeyMap:function(b){return new Ext.KeyMap(this,b)}});Ext.CompositeElementLite.importElementMethods();Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(g,d){if(!g){return this}if(typeof g=="string"){g=Ext.Element.selectorFunction(g,d)}var e=this.elements;Ext.each(g,function(a){e.push(Ext.get(a))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(b){return this.indexOf(b)!=-1},removeElement:function(j,k){var i=this,g=this.elements,h;Ext.each(j,function(a){if((h=(g[a]||g[a=i.indexOf(a)]))){if(k){if(h.dom){h.remove()}else{Ext.removeNode(h)}}g.splice(a,1)}});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(d,c){this.elements=[];this.add(d,c)},getElement:function(b){return b},transformElement:function(b){return Ext.get(b)}});Ext.Element.select=function(e,i,g){var h;if(typeof e=="string"){h=Ext.Element.selectorFunction(e,g)}else{if(e.length!==undefined){h=e}else{throw"Invalid selector"}}return(i===true)?new Ext.CompositeElement(h):new Ext.CompositeElementLite(h)};Ext.select=Ext.Element.select;Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var i="beforeupdate",k="update",j="failure";function h(a){var b=this;b.transaction=null;if(a.argument.form&&a.argument.reset){try{a.argument.form.reset()}catch(c){}}if(b.loadScripts){b.renderer.render(b.el,a,b,m.createDelegate(b,[a]))}else{b.renderer.render(b.el,a,b);m.call(b,a)}}function m(a,b,c){this.fireEvent(b||k,this.el,a);if(Ext.isFunction(a.argument.callback)){a.argument.callback.call(a.argument.scope,this.el,Ext.isEmpty(c)?true:false,a,a.argument.options)}}function l(a){m.call(this,a,j,!!(this.transaction=null))}return{constructor:function(b,a){var c=this;b=Ext.get(b);if(!a&&b.updateManager){return b.updateManager}c.el=b;c.defaultUrl=null;c.addEvents(i,k,j);Ext.apply(c,Ext.Updater.defaults);c.transaction=null;c.refreshDelegate=c.refresh.createDelegate(c);c.updateDelegate=c.update.createDelegate(c);c.formUpdateDelegate=(c.formUpdate||function(){}).createDelegate(c);c.renderer=c.renderer||c.getDefaultRenderer();Ext.Updater.superclass.constructor.call(c)},setRenderer:function(a){this.renderer=a},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(a){this.defaultUrl=a},getEl:function(){return this.el},update:function(b,o,q,e){var d=this,a,c;if(d.fireEvent(i,d.el,b,o)!==false){if(Ext.isObject(b)){a=b;b=a.url;o=o||a.params;q=q||a.callback;e=e||a.discardUrl;c=a.scope;if(!Ext.isEmpty(a.nocache)){d.disableCaching=a.nocache}if(!Ext.isEmpty(a.text)){d.indicatorText='<div class="loading-indicator">'+a.text+"</div>"}if(!Ext.isEmpty(a.scripts)){d.loadScripts=a.scripts}if(!Ext.isEmpty(a.timeout)){d.timeout=a.timeout}}d.showLoading();if(!e){d.defaultUrl=b}if(Ext.isFunction(b)){b=b.call(d)}var g=Ext.apply({},{url:b,params:(Ext.isFunction(o)&&c)?o.createDelegate(c):o,success:h,failure:l,scope:d,callback:undefined,timeout:(d.timeout*1000),disableCaching:d.disableCaching,argument:{options:a,url:b,form:null,callback:q,scope:c||window,params:o}},a);d.transaction=Ext.Ajax.request(g)}},formUpdate:function(d,a,c,e){var b=this;if(b.fireEvent(i,b.el,d,a)!==false){if(Ext.isFunction(a)){a=a.call(b)}d=Ext.getDom(d);b.transaction=Ext.Ajax.request({form:d,url:a,success:h,failure:l,scope:b,timeout:(b.timeout*1000),argument:{url:a,form:d,callback:e,reset:c}});b.showLoading.defer(1,b)}},startAutoRefresh:function(b,c,e,g,a){var d=this;if(a){d.update(c||d.defaultUrl,e,g,true)}if(d.autoRefreshProcId){clearInterval(d.autoRefreshProcId)}d.autoRefreshProcId=setInterval(d.update.createDelegate(d,[c||d.defaultUrl,e,g,true]),b*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(a){if(this.defaultUrl){this.update(this.defaultUrl,null,a,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(j,i,k,h){var g=Ext.get(j).getUpdater();Ext.apply(g,h);g.update(i,k,h?h.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(h,e,g,i){h.update(e.responseText,g.loadScripts,i)}};(function(){Date.useStrict=false;function d(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/\{(\d+)\}/g,function(i,h){return b[h]})}Date.formatCodeToRegex=function(b,a){var g=Date.parseCodes[b];if(g){g=typeof g=="function"?g():g;Date.parseCodes[b]=g}return g?Ext.applyIf({c:g.c?d(g.c,a||"{0}"):g.c},g):{g:0,c:null,s:Ext.escapeRe(b)}};var c=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(h,b){var i=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var a=(h||"").match(i);return a?new Date(((a[1]||"")+a[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(a){return Date.monthNames[a].substring(0,3)},getShortDayName:function(a){return Date.dayNames[a].substring(0,3)},getMonthNumber:function(a){return Date.monthNumbers[a.substring(0,1).toUpperCase()+a.substring(1,3).toLowerCase()]},formatContainsHourInfo:(function(){var a=/(\\.)/g,b=/([gGhHisucUOPZ]|M\$)/;return function(g){return b.test(g.replace(a,""))}})(),formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var i="Y-m-dTH:i:sP",a=[],b=0,l=i.length;b<l;++b){var e=i.charAt(b);a.push(e=="T"?"'T'":Date.getFormatCode(e))}return a.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(m,p,i,b,r,a,q){b=b||0;r=r||0;a=a||0;q=q||0;var h=new Date(m<100?100:m,p-1,i,b,r,a,q).add(Date.YEAR,m<100?m-100:0);return m==h.getFullYear()&&p==h.getMonth()+1&&i==h.getDate()&&b==h.getHours()&&r==h.getMinutes()&&a==h.getSeconds()&&q==h.getMilliseconds()},parseDate:function(h,a,b){var i=Date.parseFunctions;if(i[a]==null){Date.createParser(a)}return i[a](h,Ext.isDefined(b)?b:Date.useStrict)},getFormatCode:function(a){var b=Date.formatCodes[a];if(b){b=typeof b=="function"?b():b;Date.formatCodes[a]=b}return b||("'"+String.escape(a)+"'")},createFormat:function(a){var b=[],i=false,k="";for(var j=0;j<a.length;++j){k=a.charAt(j);if(!i&&k=="\\"){i=true}else{if(i){i=false;b.push("'"+String.escape(k)+"'")}else{b.push(Date.getFormatCode(k))}}}Date.formatFunctions[a]=new Function("return "+b.join("+"))},createParser:function(){var a=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y < 100 ? 100 : y, m, d, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(r){var v=Date.parseRegexes.length,t=1,w=[],q=[],p=false,u="",i=0,b,s;for(;i<r.length;++i){u=r.charAt(i);if(!p&&u=="\\"){p=true}else{if(p){p=false;q.push(String.escape(u))}else{b=c(u,t);t+=b.g;q.push(b.s);if(b.g&&b.c){if(b.calcLast){s=b.c}else{w.push(b.c)}}}}}if(s){w.push(s)}Date.parseRegexes[v]=new RegExp("^"+q.join("")+"$","i");Date.parseFunctions[r]=new Function("input","strict",d(a,v,w.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var b=[],a=0;a<7;b.push(Date.getShortDayName(a)),++a){}return{g:0,c:null,s:"(?:"+b.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var b=[],a=0;a<12;b.push(Date.getShortMonthName(a)),++a){}return Ext.applyIf({s:"("+b.join("|")+")"},c("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return c("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return c("A")},A:{calcLast:true,g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return c("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return c("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var i=[],b=[c("Y",1),c("m",2),c("d",3),c("h",4),c("i",5),c("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",c("P",8).c,"}else{",c("O",8).c,"}","}"].join("\n")}];for(var a=0,h=b.length;a<h;++a){i.push(b[a].c)}return{g:1,c:i.join(""),s:[b[0].s,"(?:","-",b[1].s,"(?:","-",b[2].s,"(?:","(?:T| )?",b[3].s,":",b[4].s,"(?::",b[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createFormat(b)}return Date.formatFunctions[b].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(b){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(b?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var g=0,i=this.clone(),d=this.getMonth(),h;for(h=0,i.setDate(1),i.setMonth(0);h<d;i.setMonth(++h)){g+=i.getDaysInMonth()}return g+this.getDate()-1},getWeekOfYear:function(){var c=86400000,d=7*c;return function(){var b=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/c,a=Math.floor(b/7),g=new Date(a*d).getUTCFullYear();return a-Math.floor(Date.UTC(g,0,7)/d)+1}}(),isLeapYear:function(){var b=this.getFullYear();return !!((b&3)==0&&(b%100||(b%400==0&&b)))},getFirstDayOfMonth:function(){var b=(this.getDay()-(this.getDate()-1))%7;return(b<0)?(b+7):b},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var b=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var a=this.getMonth();return a==1&&this.isLeapYear()?29:b[a]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(c){if(c){return this.clone().clearTime()}var h=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=h){for(var d=1,i=this.add(Date.HOUR,d);i.getDate()!=h;d++,i=this.add(Date.HOUR,d)){}this.setDate(h);this.setHours(i.getHours())}return this},add:function(g,h){var i=this.clone();if(!g||h===0){return i}switch(g.toLowerCase()){case Date.MILLI:i.setMilliseconds(this.getMilliseconds()+h);break;case Date.SECOND:i.setSeconds(this.getSeconds()+h);break;case Date.MINUTE:i.setMinutes(this.getMinutes()+h);break;case Date.HOUR:i.setHours(this.getHours()+h);break;case Date.DAY:i.setDate(this.getDate()+h);break;case Date.MONTH:var d=this.getDate();if(d>28){d=Math.min(d,this.getFirstDateOfMonth().add("mo",h).getLastDateOfMonth().getDate())}i.setDate(d);i.setMonth(this.getMonth()+h);break;case Date.YEAR:i.setFullYear(this.getFullYear()+h);break}return i},between:function(g,d){var e=this.getTime();return g.getTime()<=e&&e<=d.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(e){if(e<=-1){var i=Math.ceil(-e),h=Math.ceil(i/12),g=(i%12)?12-i%12:0;this.setFullYear(this.getFullYear()-h);return this._xMonth(g)}else{return this._xMonth(e)}},setDate:function(b){return this.setTime(this.getTime()-(this.getDate()-b)*86400000)}})}Ext.util.MixedCollection=function(d,c){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=d===true;if(c){this.getKey=c}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(e,g){if(arguments.length==1){g=arguments[0];e=this.getKey(g)}if(typeof e!="undefined"&&e!==null){var d=this.map[e];if(typeof d!="undefined"){return this.replace(e,g)}this.map[e]=g}this.length++;this.items.push(g);this.keys.push(e);this.fireEvent("add",this.length-1,g,e);return g},getKey:function(b){return b.id},replace:function(h,i){if(arguments.length==1){i=arguments[0];h=this.getKey(i)}var e=this.map[h];if(typeof h=="undefined"||h===null||typeof e=="undefined"){return this.add(h,i)}var g=this.indexOfKey(h);this.items[g]=i;this.map[h]=i;this.fireEvent("replace",h,e,i);return i},addAll:function(k){if(arguments.length>1||Ext.isArray(k)){var h=arguments.length>1?arguments:k;for(var j=0,g=h.length;j<g;j++){this.add(h[j])}}else{for(var i in k){if(this.allowFunctions||typeof k[i]!="function"){this.add(i,k[i])}}}},each:function(k,j){var h=[].concat(this.items);for(var i=0,g=h.length;i<g;i++){if(k.call(j||h[i],h[i],i,g)===false){break}}},eachKey:function(i,h){for(var g=0,e=this.keys.length;g<e;g++){i.call(h||window,this.keys[g],this.items[g],g,e)}},find:function(i,h){for(var g=0,e=this.items.length;g<e;g++){if(i.call(h||window,this.items[g],this.keys[g])){return this.items[g]}}return null},insert:function(d,e,g){if(arguments.length==2){g=arguments[1];e=this.getKey(g)}if(this.containsKey(e)){this.suspendEvents();this.removeKey(e);this.resumeEvents()}if(d>=this.length){return this.add(e,g)}this.length++;this.items.splice(d,0,g);if(typeof e!="undefined"&&e!==null){this.map[e]=g}this.keys.splice(d,0,e);this.fireEvent("add",d,g,e);return g},remove:function(b){return this.removeAt(this.indexOf(b))},removeAt:function(d){if(d<this.length&&d>=0){this.length--;var g=this.items[d];this.items.splice(d,1);var e=this.keys[d];if(typeof e!="undefined"){delete this.map[e]}this.keys.splice(d,1);this.fireEvent("remove",g,e);return g}return false},removeKey:function(b){return this.removeAt(this.indexOfKey(b))},getCount:function(){return this.length},indexOf:function(b){return this.items.indexOf(b)},indexOfKey:function(b){return this.keys.indexOf(b)},item:function(e){var d=this.map[e],g=d!==undefined?d:(typeof e=="number")?this.items[e]:undefined;return typeof g!="function"||this.allowFunctions?g:null},itemAt:function(b){return this.items[b]},key:function(b){return this.map[b]},contains:function(b){return this.indexOf(b)!=-1},containsKey:function(b){return typeof this.map[b]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(m,o,i){var q,r,p=String(o).toUpperCase()=="DESC"?-1:1,c=[],n=this.keys,s=this.items;i=i||function(a,b){return a-b};for(q=0,r=s.length;q<r;q++){c[c.length]={key:n[q],value:s[q],index:q}}c.sort(function(a,b){var d=i(a[m],b[m])*p;if(d===0){d=(a.index<b.index?-1:1)}return d});for(q=0,r=c.length;q<r;q++){s[q]=c[q].value;n[q]=c[q].key}this.fireEvent("sort",this)},sort:function(c,d){this._sort("value",c,d)},reorder:function(m){this.suspendEvents();var k=this.items,l=0,o=k.length,j=[],n=[],i;for(i in m){j[m[i]]=k[i]}for(l=0;l<o;l++){if(m[l]==undefined){n.push(k[l])}}for(l=0;l<o;l++){if(j[l]==undefined){j[l]=n.shift()}}this.clear();this.addAll(j);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(c,d){this._sort("key",c,d||function(h,b){var a=String(h).toUpperCase(),i=String(b).toUpperCase();return a>i?1:(a<i?-1:0)})},getRange:function(k,g){var h=this.items;if(h.length<1){return[]}k=k||0;g=Math.min(typeof g=="undefined"?this.length-1:g,this.length-1);var i,j=[];if(k<=g){for(i=k;i<=g;i++){j[j.length]=h[i]}}else{for(i=k;i>=g;i--){j[j.length]=h[i]}}return j},filter:function(h,g,i,e){if(Ext.isEmpty(g,false)){return this.clone()}g=this.createValueMatcher(g,i,e);return this.filterBy(function(a){return a&&g.test(a[h])})},filterBy:function(o,n){var i=new Ext.util.MixedCollection();i.getKey=this.getKey;var k=this.keys,m=this.items;for(var l=0,j=m.length;l<j;l++){if(o.call(n||this,m[l],k[l])){i.add(k[l],m[l])}}return i},findIndex:function(i,h,k,j,g){if(Ext.isEmpty(h,false)){return -1}h=this.createValueMatcher(h,j,g);return this.findIndexBy(function(a){return a&&h.test(a[i])},null,k)},findIndexBy:function(o,n,i){var k=this.keys,m=this.items;for(var l=(i||0),j=m.length;l<j;l++){if(o.call(n||this,m[l],k[l])){return l}}return -1},createValueMatcher:function(i,k,g,h){if(!i.exec){var j=Ext.escapeRe;i=String(i);if(k===true){i=j(i)}else{i="^"+j(i);if(h===true){i+="$"}}i=new RegExp(i,g?"":"i")}return i},clone:function(){var k=new Ext.util.MixedCollection();var h=this.keys,j=this.items;for(var i=0,g=j.length;i<g;i++){k.add(h[i],j[i])}k.getKey=this.getKey;return k}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(b){Ext.apply(this,b||{});this.all=new Ext.util.MixedCollection();this.types={}},get:function(b){return this.all.get(b)},register:function(b){this.all.add(b)},unregister:function(b){this.all.remove(b)},registerType:function(d,c){this.types[d]=c;c[this.typeName]=d},isRegistered:function(b){return this.types[b]!==undefined},create:function(e,i){var g=e[this.typeName]||e.type||i,h=this.types[g];if(h==undefined){throw new Error(String.format("The '{0}' type has not been registered with this manager",g))}return new h(e)},onAvailable:function(i,h,g){var e=this.all;e.on("add",function(b,a){if(a.id==i){h.call(g||a,a);e.un("add",h,g)}})}});Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3,i;for(i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var m=this,J=m.html,C=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,R=/^<tpl\b[^>]*?for="(.*?)"/,G=/^<tpl\b[^>]*?if="(.*?)"/,i=/^<tpl\b[^>]*?exec="(.*?)"/,D,B=0,K=[],N="values",H="parent",L="xindex",M="xcount",S="return ",Q="with(values){ ";J=["<tpl>",J,"</tpl>"].join("");while((D=J.match(C))){var P=D[0].match(R),O=D[0].match(G),T=D[0].match(i),U=null,I=null,E=null,s=P&&P[1]?P[1]:"";if(O){U=O&&O[1]?O[1]:null;if(U){I=new Function(N,H,L,M,Q+S+(Ext.util.Format.htmlDecode(U))+"; }")}}if(T){U=T&&T[1]?T[1]:null;if(U){E=new Function(N,H,L,M,Q+(Ext.util.Format.htmlDecode(U))+"; }")}}if(s){switch(s){case".":s=new Function(N,H,Q+S+N+"; }");break;case"..":s=new Function(N,H,Q+S+H+"; }");break;default:s=new Function(N,H,Q+S+s+"; }")}}K.push({id:B,target:s,exec:E,test:I,body:D[1]||""});J=J.replace(D[0],"{xtpl"+B+"}");++B}for(var F=K.length-1;F>=0;--F){m.compileTpl(K[F])}m.master=K[K.length-1];m.tpls=K};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w\-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(r,o,n,u,t){var i=this,w,q=i.tpls[r],p,s=[];if((q.test&&!q.test.call(i,o,n,u,t))||(q.exec&&q.exec.call(i,o,n,u,t))){return""}p=q.target?q.target.call(i,o,n):o;w=p.length;n=q.target?o:n;if(q.target&&Ext.isArray(p)){for(var v=0,w=p.length;v<w;v++){s[s.length]=q.compiled.call(i,p[v],n,v+1,w)}return s.join("")}return q.compiled.call(i,p,n,u,t)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(b){return this.master.compiled.call(this,b,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(b){b=Ext.getDom(b);return new Ext.XTemplate(b.value||b.innerHTML)};Ext.util.CSS=function(){var i=null;var h=document;var g=/(-[a-z])/gi;var e=function(b,a){return a.charAt(1).toUpperCase()};return{createStyleSheet:function(b,m){var a;var n=h.getElementsByTagName("head")[0];var d=h.createElement("style");d.setAttribute("type","text/css");if(m){d.setAttribute("id",m)}if(Ext.isIE){n.appendChild(d);a=d.styleSheet;a.cssText=b}else{try{d.appendChild(h.createTextNode(b))}catch(c){d.cssText=b}n.appendChild(d);a=d.styleSheet?d.styleSheet:(d.sheet||h.styleSheets[h.styleSheets.length-1])}this.cacheStyleSheet(a);return a},removeStyleSheet:function(a){var b=h.getElementById(a);if(b){b.parentNode.removeChild(b)}},swapStyleSheet:function(a,c){this.removeStyleSheet(a);var b=h.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type","text/css");b.setAttribute("id",a);b.setAttribute("href",c);h.getElementsByTagName("head")[0].appendChild(b)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(a){if(!i){i={}}try{var d=a.cssRules||a.rules;for(var b=d.length-1;b>=0;--b){i[d[b].selectorText.toLowerCase()]=d[b]}}catch(c){}},getRules:function(a){if(i===null||a){i={};var d=h.styleSheets;for(var c=0,b=d.length;c<b;c++){try{this.cacheStyleSheet(d[c])}catch(m){}}}return i},getRule:function(d,a){var b=this.getRules(a);if(!Ext.isArray(d)){return b[d.toLowerCase()]}for(var c=0;c<d.length;c++){if(b[d[c]]){return b[d[c].toLowerCase()]}}return null},updateRule:function(l,c,a){if(!Ext.isArray(l)){var d=this.getRule(l);if(d){d.style[c.replace(g,e)]=a;return true}}else{for(var b=0;b<l.length;b++){if(this.updateRule(l[b],c,a)){return true}}}return false}}}();Ext.util.ClickRepeater=Ext.extend(Ext.util.Observable,{constructor:function(d,c){this.el=Ext.get(d);this.el.unselectable();Ext.apply(this,c);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(b){if(b||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(b){this[b?"disable":"enable"]()},eventOptions:function(b){if(this.preventDefault){b.preventDefault()}if(this.stopDefault){b.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(b){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b)},handleMouseDown:function(b){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,b);this.fireEvent("click",this,b);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this,[b])},click:function(b){this.fireEvent("click",this,b);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this,[b])},easeOutExpo:function(i,d,b,c){return(i==c)?d+b:b*(-Math.pow(2,-10*i/c)+1)+d},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(b){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this,b)}});Ext.KeyNav=function(d,c){this.el=Ext.get(d);Ext.apply(this,c);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(g){var d=g.getKey(),e=this.keyToHandler[d];if(e&&this[e]){if(this.doRelay(g,this[e],e)!==true){g[this.defaultEventAction]()}}},doRelay:function(g,e,d){return e.call(this.scope||this,g,d)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,space:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab",32:"space"},stopKeyUp:function(d){var c=d.getKey();if(c>=37&&c<=40){d.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(b){this[b?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(g,e,d){this.el=Ext.get(g);this.eventName=d||"keydown";this.bindings=[];if(e){this.addBinding(e)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(q){if(Ext.isArray(q)){Ext.each(q,function(a){this.addBinding(a)},this);return}var n=q.key,u=q.fn||q.handler,o=q.scope;if(q.stopEvent){this.stopEvent=q.stopEvent}if(typeof n=="string"){var j=[];var t=n.toUpperCase();for(var r=0,s=t.length;r<s;r++){j.push(t.charCodeAt(r))}n=j}var p=Ext.isArray(n);var m=function(a){if(this.checkModifiers(q,a)){var c=a.getKey();if(p){for(var d=0,b=n.length;d<b;d++){if(n[d]==c){if(this.stopEvent){a.stopEvent()}u.call(o||window,c,a);return}}}else{if(c==n){if(this.stopEvent){a.stopEvent()}u.call(o||window,c,a)}}}};this.bindings.push(m)},checkModifiers:function(l,e){var i,n,o=["shift","ctrl","alt"];for(var m=0,k=o.length;m<k;++m){n=o[m];i=l[n];if(!(i===undefined||(i===e[n+"Key"]))){return false}}return true},on:function(k,m,l){var i,j,n,o;if(typeof k=="object"&&!Ext.isArray(k)){i=k.key;j=k.shift;n=k.ctrl;o=k.alt}else{i=k}this.addBinding({key:i,shift:j,ctrl:n,alt:o,fn:m,scope:l})},handleKeyDown:function(b){if(this.enabled){var h=this.bindings;for(var i=0,e=h.length;i<e;i++){h[i].call(this,b)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(b){this[b?"disable":"enable"]()}};Ext.util.TextMetrics=function(){var b;return{measure:function(a,e,g){if(!b){b=Ext.util.TextMetrics.Instance(a,g)}b.bind(a);b.setFixedWidth(g||"auto");return b.getSize(e)},createInstance:function(a,d){return Ext.util.TextMetrics.Instance(a,d)}}}();Ext.util.TextMetrics.Instance=function(g,i){var h=new Ext.Element(document.createElement("div"));document.body.appendChild(h.dom);h.position("absolute");h.setLeftTop(-1000,-1000);h.hide();if(i){h.setWidth(i)}var e={getSize:function(a){h.update(a);var b=h.getSize();h.update("");return b},bind:function(a){h.setStyle(Ext.fly(a).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(a){h.setWidth(a)},getWidth:function(a){h.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height}};e.bind(g);return e};Ext.Element.addMethods({getTextWidth:function(g,e,d){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(g,this.dom.innerHTML,true)).width).constrain(e||0,d||1000000)}});Ext.util.Cookies={set:function(n,p){var l=arguments;var k=arguments.length;var m=(k>2)?l[2]:null;var j=(k>3)?l[3]:"/";var o=(k>4)?l[4]:null;var q=(k>5)?l[5]:false;document.cookie=n+"="+escape(p)+((m===null)?"":("; expires="+m.toGMTString()))+((j===null)?"":("; path="+j))+((o===null)?"":("; domain="+o))+((q===true)?"; secure":"")},get:function(k){var i=k+"=";var m=i.length;var h=document.cookie.length;var l=0;var j=0;while(l<h){j=l+m;if(document.cookie.substring(l,j)==i){return Ext.util.Cookies.getCookieVal(j)}l=document.cookie.indexOf(" ",l)+1;if(l===0){break}}return null},clear:function(b){if(Ext.util.Cookies.get(b)){document.cookie=b+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(d){var c=document.cookie.indexOf(";",d);if(c==-1){c=document.cookie.length}return unescape(document.cookie.substring(d,c))}};Ext.handleError=function(b){throw b};Ext.Error=function(b){this.message=(this.lang[b])?this.lang[b]:b};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});Ext.ComponentMgr=function(){var g=new Ext.util.MixedCollection();var e={};var d={};return{register:function(a){g.add(a)},unregister:function(a){g.remove(a)},get:function(a){return g.get(a)},onAvailable:function(a,c,b){g.on("add",function(j,k){if(k.id==a){c.call(b||k,k);g.un("add",c,b)}})},all:g,types:e,ptypes:d,isRegistered:function(a){return e[a]!==undefined},isPluginRegistered:function(a){return d[a]!==undefined},registerType:function(b,a){e[b]=a;a.xtype=b},create:function(a,b){return a.render?a:new e[a.xtype||b](a)},registerPlugin:function(b,a){d[b]=a;a.ptype=b},createPlugin:function(c,a){var b=d[c.ptype||a];if(b.init){return b}else{return new b(c)}}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(e){e=e||{};if(e.initialConfig){if(e.isAction){this.baseAction=e}e=e.initialConfig}else{if(e.tagName||e.dom||Ext.isString(e)){e={applyTo:e,id:e.id||e}}}this.initialConfig=e;Ext.apply(this,e);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var g=0,d=this.plugins.length;g<d;g++){this.plugins[g]=this.initPlugin(this.plugins[g])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState()}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(b){if(b.ptype&&!Ext.isFunction(b.init)){b=Ext.ComponentMgr.createPlugin(b)}else{if(Ext.isString(b)){b=Ext.ComponentMgr.createPlugin({ptype:b})}}b.init(this);return b},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents)},render:function(g,e){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!g&&this.el){this.el=Ext.get(this.el);g=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(g);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(e!==undefined){if(Ext.isNumber(e)){e=this.container.dom.childNodes[e]}else{e=Ext.getDom(e)}}this.onRender(this.container,e||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);var h=this.getContentTarget();if(this.html){h.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var i=Ext.getDom(this.contentEl);Ext.fly(i).removeClass(["x-hidden","x-hide-display"]);h.appendChild(i)}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](h,this.data);delete this.data}}this.afterRender(this.container);if(this.hidden){this.doHide()}if(this.disabled){this.disable(true)}if(this.stateful!==false){this.initStateEvents()}this.fireEvent("afterrender",this)}return this},update:function(h,j,g){var i=this.getContentTarget();if(this.tpl&&typeof h!=="string"){this.tpl[this.tplWriteMode](i,h||{})}else{var k=Ext.isObject(h)?Ext.DomHelper.markup(h):h;i.update(k,j,g)}},onAdded:function(c,d){this.ownerCt=c;this.initRef();this.fireEvent("added",this,c,d)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){var i=this.ref.split("/"),h=i.length,g=0,e=this;while(e&&g<h){e=e.ownerCt;++g}if(e){e[this.refName=i[--g]]=this;this.refOwner=e}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner}},initState:function(){if(Ext.state.Manager){var d=this.getStateId();if(d){var c=Ext.state.Manager.get(d);if(c){if(this.fireEvent("beforestaterestore",this,c)!==false){this.applyState(Ext.apply({},c));this.fireEvent("staterestore",this,c)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var c=0,d;d=this.stateEvents[c];c++){this.on(d,this.saveState,this,{delay:100})}}},applyState:function(b){if(b){Ext.apply(this,b)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var d=this.getStateId();if(d){var c=this.getState();if(this.fireEvent("beforestatesave",this,c)!==false){Ext.state.Manager.set(d,c);this.fireEvent("statesave",this,c)}}}},applyToMarkup:function(b){this.allowDomMove=false;this.el=Ext.get(b);this.render(this.el.dom.parentNode)},addClass:function(b){if(this.el){this.el.addClass(b)}else{this.cls=this.cls?this.cls+" "+b:b}return this},removeClass:function(b){if(this.el){this.el.removeClass(b)}else{if(this.cls){this.cls=this.cls.split(" ").remove(b).join(" ")}}return this},onRender:function(e,d){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl)}else{var g=document.createElement("div");Ext.DomHelper.overwrite(g,this.autoEl);this.el=g.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){e.dom.insertBefore(this.el.dom,d);if(g){Ext.removeNode(g);g=null}}}},getAutoCreate:function(){var b=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!b.id){b.id=this.id}return b},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove()}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}},deleteMembers:function(){var e=arguments;for(var g=0,d=e.length;g<d;++g){delete this[e[g]]}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(d,c){if(c){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[d,false]);this.focusTask.delay(Ext.isNumber(c)?c:10);return this}if(this.rendered&&!this.isDestroyed){this.el.focus();if(d===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(b){if(this.rendered){this.onDisable()}this.disabled=true;if(b!==true){this.fireEvent("disable",this)}return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(b){return this[b?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();this.fireEvent("hide",this)}return this},doHide:function(){this.hidden=true;if(this.rendered){this.onHide()}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(b){return this[b?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(e){e=e||{};var g=e.id||Ext.id();var d=Ext.applyIf(e,this.initialConfig);d.id=g;return new this.constructor(d)},getXType:function(){return this.constructor.xtype},isXType:function(d,c){if(Ext.isFunction(d)){d=d.xtype}else{if(Ext.isObject(d)){d=d.constructor.xtype}}return !c?("/"+this.getXTypes()+"/").indexOf("/"+d+"/")!=-1:this.constructor.xtype==d},getXTypes:function(){var c=this.constructor;if(!c.xtypes){var g=[],e=this;while(e&&e.constructor.xtype){g.unshift(e.constructor.xtype);e=e.constructor.superclass}c.xtypeChain=g;c.xtypes=g.join("/")}return c.xtypes},findParentBy:function(c){for(var d=this.ownerCt;(d!=null)&&!c(d,this);d=d.ownerCt){}return d||null},findParentByType:function(d,c){return this.findParentBy(function(a){return a.isXType(d,c)})},bubble:function(h,g,e){var i=this;while(i){if(h.apply(g||i,e||[i])===false){break}i=i.ownerCt}return this},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true})}},clearMons:function(){Ext.each(this.mons,function(b){b.item.un(b.ename,b.fn,b.scope)},this);this.mons=[]},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true})}},mon:function(q,n,p,o,m){this.createMons();if(Ext.isObject(n)){var l=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var k=n;for(var e in k){if(l.test(e)){continue}if(Ext.isFunction(k[e])){this.mons.push({item:q,ename:e,fn:k[e],scope:k.scope});q.on(e,k[e],k.scope,k)}else{this.mons.push({item:q,ename:e,fn:k[e],scope:k.scope});q.on(e,k[e])}}return}this.mons.push({item:q,ename:n,fn:p,scope:o});q.on(n,p,o,m)},mun:function(i,n,q,p){var k,o;this.createMons();for(var m=0,l=this.mons.length;m<l;++m){o=this.mons[m];if(i===o.item&&n==o.ename&&q===o.fn&&p===o.scope){this.mons.splice(m,1);i.un(n,q,p);k=true;break}}return k},nextSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b!=-1&&b+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(b+1)}}return null},previousSibling:function(){if(this.ownerCt){var b=this.ownerCt.items.indexOf(this);if(b>0){return this.ownerCt.items.itemAt(b-1)}}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(b){this.initialConfig=b;this.itemId=b.itemId=(b.itemId||b.id||Ext.id());this.items=[]},isAction:true,setText:function(b){this.initialConfig.text=b;this.callEach("setText",[b])},getText:function(){return this.initialConfig.text},setIconClass:function(b){this.initialConfig.iconCls=b;this.callEach("setIconClass",[b])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(b){this.initialConfig.disabled=b;this.callEach("setDisabled",[b])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(b){this.initialConfig.hidden=b;this.callEach("setVisible",[!b])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(d,c){this.initialConfig.handler=d;this.initialConfig.scope=c;this.callEach("setHandler",[d,c])},each:function(d,c){Ext.each(this.items,d,c)},callEach:function(k,h){var j=this.items;for(var i=0,g=j.length;i<g;i++){j[i][k].apply(j[i],h)}},addComponent:function(b){this.items.push(b);b.on("destroy",this.removeComponent,this)},removeComponent:function(b){this.items.remove(b)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});(function(){Ext.Layer=function(k,j){k=k||{};var l=Ext.DomHelper,a=k.parentEl,m=a?Ext.getDom(a):document.body;if(j){this.dom=Ext.getDom(j)}if(!this.dom){var b=k.dh||{tag:"div",cls:"x-layer"};this.dom=l.append(m,b)}if(k.cls){this.addClass(k.cls)}this.constrain=k.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(k.id){this.id=this.dom.id=k.id}else{this.id=Ext.id(this.dom)}this.zindex=k.zindex||this.getZIndex();this.position("absolute",this.zindex);if(k.shadow){this.shadowOffset=k.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:k.shadow})}else{this.shadowOffset=0}this.useShim=k.shim!==false&&Ext.useShims;this.useDisplay=k.useDisplay;this.hide()};var c=Ext.Element.prototype;var d=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var a=d.shift();if(!a){a=this.createShim();a.enableDisplayMode("block");a.dom.style.display="none";a.dom.style.visibility="visible"}var b=this.dom.parentNode;if(a.dom.parentNode!=b){b.insertBefore(a.dom,this.dom)}a.setStyle("z-index",this.getZIndex()-2);this.shim=a;return a},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);d.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(a){if(this.shadow){this.shadowDisabled=false;if(Ext.isDefined(this.lastShadowOffset)){this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset}if(a){this.sync(true)}}},sync:function(s){var p=this.shadow;if(!this.updating&&this.isVisible()&&(p||this.useShim)){var a=this.getShim(),l=this.getWidth(),b=this.getHeight(),t=this.getLeft(true),q=this.getTop(true);if(p&&!this.shadowDisabled){if(s&&!p.isVisible()){p.show(this)}else{p.realign(t,q,l,b)}if(a){if(s){a.show()}var h=p.el.getXY(),u=a.dom.style,r=p.el.getSize();u.left=(h[0])+"px";u.top=(h[1])+"px";u.width=(r.width)+"px";u.height=(r.height)+"px"}}else{if(a){if(s){a.show()}a.setSize(l,b);a.setLeftTop(t,q)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(a){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var b=Ext.lib.Dom.getViewWidth(),u=Ext.lib.Dom.getViewHeight();var s=Ext.getDoc().getScroll();var r=this.getXY();var h=r[0],a=r[1];var t=this.shadowOffset;var p=this.dom.offsetWidth+t,v=this.dom.offsetHeight+t;var w=false;if((h+p)>b+s.left){h=b-p-t;w=true}if((a+v)>u+s.top){a=u-v-t;w=true}if(h<s.left){h=s.left;w=true}if(a<s.top){a=s.top;w=true}if(w){if(this.avoidY){var q=this.avoidY;if(a<=q&&(a+v)>=q){a=q-v-5}}r=[h,a];this.storeXY(r);c.setXY.call(this,r);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){c.setXY.call(this,this.lastXY)}else{if(this.lastLT){c.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(b,a,m,n,e){if(b){this.showAction()}if(a&&b){var o=function(){this.sync(true);if(n){n()}}.createDelegate(this);c.setVisible.call(this,true,true,m,o,e)}else{if(!b){this.hideUnders(true)}var o=n;if(a){o=function(){this.hideAction();if(n){n()}}.createDelegate(this)}c.setVisible.call(this,b,a,m,o,e);if(b){this.sync(true)}else{if(!a){this.hideAction()}}}return this},storeXY:function(a){delete this.lastLT;this.lastXY=a},storeLeftTop:function(a,b){delete this.lastXY;this.lastLT=[a,b]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.storeLeftTop(a,this.getTop(true));c.setLeft.apply(this,arguments);this.sync();return this},setTop:function(a){this.storeLeftTop(this.getLeft(true),a);c.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(a,b){this.storeLeftTop(a,b);c.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(e,a,m,n,b){this.fixDisplay();this.beforeAction();this.storeXY(e);var o=this.createCB(n);c.setXY.call(this,e,a,m,o,b);if(!a){o()}return this},createCB:function(b){var a=this;return function(){a.constrainXY();a.sync(true);if(b){b()}}},setX:function(b,a,e,l,m){this.setXY([b,this.getY()],a,e,l,m);return this},setY:function(l,b,e,a,m){this.setXY([this.getX(),l],b,e,a,m);return this},setSize:function(b,e,a,o,p,h){this.beforeAction();var q=this.createCB(p);c.setSize.call(this,b,e,a,o,q,h);if(!a){q()}return this},setWidth:function(b,a,m,n,e){this.beforeAction();var o=this.createCB(n);c.setWidth.call(this,b,a,m,o,e);if(!a){o()}return this},setHeight:function(b,a,h,n,e){this.beforeAction();var o=this.createCB(n);c.setHeight.call(this,b,a,h,o,e);if(!a){o()}return this},setBounds:function(s,q,t,a,r,e,h,b){this.beforeAction();var u=this.createCB(h);if(!r){this.storeXY([s,q]);c.setXY.call(this,[s,q]);c.setSize.call(this,t,a,r,e,u,b);u()}else{c.setBounds.call(this,s,q,t,a,r,e,u,b)}return this},setZIndex:function(a){this.zindex=a;this.setStyle("z-index",a+2);if(this.shadow){this.shadow.setZIndex(a+1)}if(this.shim){this.shim.setStyle("z-index",a)}return this}})})();Ext.Shadow=function(h){Ext.apply(this,h);if(typeof this.mode!="string"){this.mode=this.defaultMode}var i=this.offset,g={h:0},a=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":g.w=0;g.l=g.t=i;g.t-=1;if(Ext.isIE){g.l-=this.offset+a;g.t-=this.offset+a;g.w-=a;g.h-=a;g.t+=1}break;case"sides":g.w=(i*2);g.l=-i;g.t=i-1;if(Ext.isIE){g.l-=(this.offset-a);g.t-=this.offset+a;g.l+=1;g.w-=(this.offset-a)*2;g.w-=a+1;g.h-=1}break;case"frame":g.w=g.h=(i*2);g.l=g.t=-i;g.t+=1;g.h-=2;if(Ext.isIE){g.l-=(this.offset-a);g.t-=(this.offset-a);g.l+=1;g.w-=(this.offset+a+1);g.h-=(this.offset+a);g.h+=1}break}this.adjusts=g};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(b){b=Ext.get(b);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=b.dom){this.el.insertBefore(b)}}this.el.setStyle("z-index",this.zIndex||parseInt(b.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(b.getLeft(true),b.getTop(true),b.getWidth(),b.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(z,h,d,C){if(!this.el){return}var x=this.adjusts,v=this.el.dom,l=v.style,s=0,a=(d+x.w),B=(C+x.h),t=a+"px",y=B+"px",w,A;l.left=(z+x.l)+"px";l.top=(h+x.t)+"px";if(l.width!=t||l.height!=y){l.width=t;l.height=y;if(!Ext.isIE){w=v.childNodes;A=Math.max(0,(a-12))+"px";w[0].childNodes[1].style.width=A;w[1].childNodes[1].style.width=A;w[2].childNodes[1].style.width=A;w[1].style.height=Math.max(0,(B-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(b){this.zIndex=b;if(this.el){this.el.setStyle("z-index",b)}}};Ext.Shadow.Pool=function(){var d=[],c=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var a=d.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,c));a.autoBoxAdjust=false}return a},push:function(a){d.push(a)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(i,k){if(typeof i=="object"){k=i.height;i=i.width}if(Ext.isDefined(i)&&Ext.isDefined(this.boxMinWidth)&&(i<this.boxMinWidth)){i=this.boxMinWidth}if(Ext.isDefined(k)&&Ext.isDefined(this.boxMinHeight)&&(k<this.boxMinHeight)){k=this.boxMinHeight}if(Ext.isDefined(i)&&Ext.isDefined(this.boxMaxWidth)&&(i>this.boxMaxWidth)){i=this.boxMaxWidth}if(Ext.isDefined(k)&&Ext.isDefined(this.boxMaxHeight)&&(k>this.boxMaxHeight)){k=this.boxMaxHeight}if(!this.boxReady){this.width=i;this.height=k;return this}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==i&&this.lastSize.height==k){return this}this.lastSize={width:i,height:k};var j=this.adjustSize(i,k),m=j.width,h=j.height,l;if(m!==undefined||h!==undefined){l=this.getResizeEl();if(!this.deferHeight&&m!==undefined&&h!==undefined){l.setSize(m,h)}else{if(!this.deferHeight&&h!==undefined){l.setHeight(h)}else{if(m!==undefined){l.setWidth(m)}}}this.onResize(m,h,i,k);this.fireEvent("resize",this,m,h,i,k)}return this},setWidth:function(b){return this.setSize(b)},setHeight:function(b){return this.setSize(undefined,b)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var b=this.getResizeEl();return{width:b.getWidth()+b.getMargins("lr"),height:b.getHeight()+b.getMargins("tb")}},getPosition:function(c){var d=this.getPositionEl();if(c===true){return[d.getLeft(true),d.getTop(true)]}return this.xy||d.getXY()},getBox:function(d){var g=this.getPosition(d);var e=this.getSize();e.x=g[0];e.y=g[1];return e},updateBox:function(b){this.setSize(b.width,b.height);this.setPagePosition(b.x,b.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(b){if(this.rendered){this.getContentTarget().setOverflow(b?"auto":"")}this.autoScroll=b;return this},setPosition:function(h,m){if(h&&typeof h[1]=="number"){m=h[1];h=h[0]}this.x=h;this.y=m;if(!this.boxReady){return this}var i=this.adjustPosition(h,m);var l=i.x,k=i.y;var j=this.getPositionEl();if(l!==undefined||k!==undefined){if(l!==undefined&&k!==undefined){j.setLeftTop(l,k)}else{if(l!==undefined){j.setLeft(l)}else{if(k!==undefined){j.setTop(k)}}}this.onPosition(l,k);this.fireEvent("move",this,l,k)}return this},setPagePosition:function(d,g){if(d&&typeof d[1]=="number"){g=d[1];d=d[0]}this.pageX=d;this.pageY=g;if(!this.boxReady){return}if(d===undefined||g===undefined){return}var e=this.getPositionEl().translatePoints(d,g);this.setPosition(e.left,e.top);return this},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this},onResize:function(i,g,e,h){},onPosition:function(c,d){},adjustSize:function(c,d){if(this.autoWidth){c="auto"}if(this.autoHeight){d="auto"}return{width:c,height:d}},adjustPosition:function(c,d){return{x:c,y:d}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(i,k,h,j,g){this.el=Ext.get(i,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(k,true);this.orientation=h||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!g){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(g).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=j||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=j||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(g,k){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var i=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var j=i-this.activeMinSize;var h=Math.max(this.activeMaxSize-i,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?j:h,this.placement==Ext.SplitBar.LEFT?h:j,this.tickSize);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?j:h,this.placement==Ext.SplitBar.TOP?h:j,this.tickSize)}this.dragSpecs.startSize=i;this.dragSpecs.startPoint=[g,k];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,g,k)},onEndProxyDrag:function(g){Ext.get(this.proxy).setDisplayed(false);var e=Ext.lib.Event.getXY(g);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var d;if(this.orientation==Ext.SplitBar.HORIZONTAL){d=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?e[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-e[0])}else{d=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?e[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-e[1])}d=Math.min(Math.max(d,this.activeMinSize),this.activeMaxSize);if(d!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,d)!==false){this.adapter.setElementSize(this,d);this.fireEvent("moved",this,d);this.fireEvent("resize",this,d)}}},getAdapter:function(){return this.adapter},setAdapter:function(b){this.adapter=b;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(b){this.minSize=b},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(b){this.maxSize=b},setCurrentSize:function(d){var c=this.animate;this.animate=false;this.adapter.setElementSize(this,d);this.animate=c},destroy:function(b){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(b){this.el.remove()}this.purgeListeners()}});Ext.SplitBar.createProxy=function(e){var g=new Ext.Element(document.createElement("div"));document.body.appendChild(g.dom);g.unselectable();var d="x-splitbar-proxy";g.addClass(d+" "+(e==Ext.SplitBar.HORIZONTAL?d+"-h":d+"-v"));return g.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(b){},getElementSize:function(b){if(b.orientation==Ext.SplitBar.HORIZONTAL){return b.resizingEl.getWidth()}else{return b.resizingEl.getHeight()}},setElementSize:function(e,d,g){if(e.orientation==Ext.SplitBar.HORIZONTAL){if(!e.animate){e.resizingEl.setWidth(d);if(g){g(e,d)}}else{e.resizingEl.setWidth(d,true,0.1,g,"easeOut")}}else{if(!e.animate){e.resizingEl.setHeight(d);if(g){g(e,d)}}else{e.resizingEl.setHeight(d,true,0.1,g,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(b){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(b)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(b){this.basic.init(b)},getElementSize:function(b){return this.basic.getElementSize(b)},setElementSize:function(e,d,g){this.basic.setElementSize(e,d,this.moveSplitter.createDelegate(this,[e]))},moveSplitter:function(c){var d=Ext.SplitBar;switch(c.placement){case d.LEFT:c.el.setX(c.resizingEl.getRight());break;case d.RIGHT:c.el.setStyle("right",(this.container.getWidth()-c.resizingEl.getLeft())+"px");break;case d.TOP:c.el.setY(c.resizingEl.getBottom());break;case d.BOTTOM:c.el.setY(c.resizingEl.getTop()-c.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var b=this.items;if(b){delete this.items;this.add(b)}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(b){if(this.layout&&this.layout!=b){this.layout.setContainer(null)}this.layout=b;this.initItems();b.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto"}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined&&this.layout.setActiveItem){var b=this.activeItem;delete this.activeItem;this.layout.setActiveItem(b)}if(!this.ownerCt){this.doLayout(false,true)}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(b){return b.getItemId()},add:function(i){this.initItems();var k=arguments.length>1;if(k||Ext.isArray(i)){var h=[];Ext.each(k?arguments:i,function(a){h.push(this.add(a))},this);return h}var c=this.lookupComponent(this.applyDefaults(i));var j=this.items.length;if(this.fireEvent("beforeadd",this,c,j)!==false&&this.onBeforeAdd(c)!==false){this.items.add(c);c.onAdded(this,j);this.onAdd(c);this.fireEvent("add",this,c,j)}return c},onAdd:function(b){},onAdded:function(c,d){this.ownerCt=c;this.initRef();this.cascade(function(a){a.initRef()});this.fireEvent("added",this,c,d)},insert:function(n,l){var m=arguments,c=m.length,k=[],o,i;this.initItems();if(c>2){for(o=c-1;o>=1;--o){k.push(this.insert(n,m[o]))}return k}i=this.lookupComponent(this.applyDefaults(l));n=Math.min(n,this.items.length);if(this.fireEvent("beforeadd",this,i,n)!==false&&this.onBeforeAdd(i)!==false){if(i.ownerCt==this){this.items.remove(i)}this.items.insert(n,i);i.onAdded(this,n);this.onAdd(i);this.fireEvent("add",this,i,n)}return i},applyDefaults:function(d){var c=this.defaults;if(c){if(Ext.isFunction(c)){c=c.call(this,d)}if(Ext.isString(d)){d=Ext.ComponentMgr.get(d);Ext.apply(d,c)}else{if(!d.events){Ext.applyIf(d.isAction?d.initialConfig:d,c)}else{Ext.apply(d,c)}}}return d},onBeforeAdd:function(b){if(b.ownerCt){b.ownerCt.remove(b,false)}if(this.hideBorders===true){b.border=(b.border===true)}},remove:function(c,e){this.initItems();var g=this.getComponent(c);if(g&&this.fireEvent("beforeremove",this,g)!==false){this.doRemove(g,e);this.fireEvent("remove",this,g)}return g},onRemove:function(b){},doRemove:function(i,h){var g=this.layout,c=g&&this.rendered;if(c){g.onRemove(i)}this.items.remove(i);i.onRemoved();this.onRemove(i);if(h===true||(h!==false&&this.autoDestroy)){i.destroy()}if(c){g.afterRemove(i)}},removeAll:function(j){this.initItems();var l,m=[],i=[];this.items.each(function(a){m.push(a)});for(var k=0,h=m.length;k<h;++k){l=m[k];this.remove(l,j);if(l.ownerCt!==this){i.push(l)}}return i},getComponent:function(b){if(Ext.isObject(b)){b=b.getItemId()}return this.items.get(b)},lookupComponent:function(b){if(Ext.isString(b)){return Ext.ComponentMgr.get(b)}else{if(!b.events){return this.createComponent(b)}}return b},createComponent:function(c,g){if(c.render){return c}var e=Ext.create(Ext.apply({ownerCt:this},c),g||this.defaultType);delete e.initialConfig.ownerCt;delete e.ownerCt;return e},canLayout:function(){var b=this.getVisibilityEl();return b&&b.dom&&!b.isStyle("display","none")},doLayout:function(q,p){var l=this.rendered,i=p||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!q;if(!i){return}q=q&&!this.deferLayout}else{delete this.deferLayout}if(l&&this.layout){this.layout.layout()}if(q!==true&&this.items){var o=this.items.items;for(var n=0,m=o.length;n<m;n++){var c=o[n];if(c.doLayout){c.doLayout(false,i)}}}if(l){this.onLayout(q,i)}this.hasLayout=true;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var b=this.hasLayout;if(this.ownerCt){return b?!this.hasLayoutPending():false}return b},hasLayoutPending:function(){var b=false;this.ownerCt.bubble(function(a){if(a.layoutPending){b=true;return false}});return b},onShow:function(){Ext.Container.superclass.onShow.call(this);if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true)}},getLayout:function(){if(!this.layout){var b=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(b)}return this.layout},beforeDestroy:function(){var b;if(this.items){while(b=this.items.first()){this.doRemove(b,true)}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},cascade:function(m,l,i){if(m.apply(l||this,i||[this])!==false){if(this.items){var k=this.items.items;for(var j=0,h=k.length;j<h;j++){if(k[j].cascade){k[j].cascade(m,l,i)}else{m.apply(l||k[j],i||[k[j]])}}}}return this},findById:function(g){var d=null,e=this;this.cascade(function(a){if(e!=a&&a.id===g){d=a;return false}});return d},findByType:function(d,c){return this.findBy(function(a){return a.isXType(d,c)})},find:function(d,c){return this.findBy(function(a){return a[d]===c})},findBy:function(i,h){var e=[],g=this;this.cascade(function(a){if(g!=a&&i.call(h||a,a,g)===true){e.push(a)}});return e},get:function(b){return this.getComponent(b)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(b){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,b)},type:"container",IEMeasureHack:function(e,s){var q=e.dom.childNodes,r=q.length,p,o=[],i,c,d;for(c=0;c<r;c++){p=q[c];i=Ext.get(p);if(i){o[c]=i.getStyle("display");i.setStyle({display:"none"})}}d=e?e.getViewSize(s):{};for(c=0;c<r;c++){p=q[c];i=Ext.get(p);if(i){i.setStyle({display:o[c]})}}return d},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var c=this.container,d=c.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){d.addClass(this.targetCls)}this.onLayout(c,d);c.fireEvent("afterlayout",c,this)},onLayout:function(c,d){this.renderAll(c,d)},isValidParent:function(d,c){return c&&d.getPositionEl().dom.parentNode==(c.dom||c)},renderAll:function(l,m){var j=l.items.items,k,c,i=j.length;for(k=0;k<i;k++){c=j[k];if(c&&(!c.rendered||!this.isValidParent(c,m))){this.renderItem(c,k,m)}}},renderItem:function(g,c,e){if(g){if(!g.rendered){g.render(e,c);this.configureItem(g)}else{if(!this.isValidParent(g,e)){if(Ext.isNumber(c)){c=e.dom.childNodes[c]}e.dom.insertBefore(g.getPositionEl().dom,c||null);g.container=e;this.configureItem(g)}}}},getRenderedItems:function(o){var n=o.getLayoutTarget(),c=o.items.items,k=c.length,m,i,l=[];for(m=0;m<k;m++){if((i=c[m]).rendered&&this.isValidParent(i,n)&&i.shouldLayout!==false){l.push(i)}}return l},configureItem:function(d){if(this.extraCls){var c=d.getPositionEl?d.getPositionEl():d;c.addClass(this.extraCls)}if(d.doLayout&&this.forceLayout){d.doLayout()}if(this.renderHidden&&d!=this.activeItem){d.hide()}},onRemove:function(d){if(this.activeItem==d){delete this.activeItem}if(d.rendered&&this.extraCls){var c=d.getPositionEl?d.getPositionEl():d;c.removeClass(this.extraCls)}},afterRemove:function(b){if(b.removeRestore){b.removeMode="container";delete b.removeRestore}},onResize:function(){var d=this.container,b;if(d.collapsed){return}if(b=d.bufferResize&&d.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);this.resizeBuffer=Ext.isNumber(b)?b:50}d.layoutPending=true;this.resizeTask.delay(this.resizeBuffer)}else{this.runLayout()}},runLayout:function(){var b=this.container;this.layout();b.onLayout();delete b.layoutPending},setContainer:function(d){if(this.monitorResize&&d!=this.container){var c=this.container;if(c){c.un(c.resizeEvent,this.onResize,this)}if(d){d.on(d.resizeEvent,this.onResize,this)}}this.container=d},parseMargins:function(e){if(Ext.isNumber(e)){e=e.toString()}var g=e.split(" "),d=g.length;if(d==1){g[1]=g[2]=g[3]=g[0]}else{if(d==2){g[2]=g[0];g[3]=g[1]}else{if(d==3){g[3]=g[1]}}}return{top:parseInt(g[0],10)||0,right:parseInt(g[1],10)||0,bottom:parseInt(g[2],10)||0,left:parseInt(g[3],10)||0}},fieldTpl:(function(){var b=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");b.disableFormats=true;return b.compile()})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel()}if(this.container){this.container.un(this.container.resizeEvent,this.onResize,this)}if(!Ext.isEmpty(this.targetCls)){var b=this.container.getLayoutTarget();if(b){b.removeClass(this.targetCls)}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(k,m){Ext.layout.AutoLayout.superclass.onLayout.call(this,k,m);var l=this.getRenderedItems(k),i=l.length,j,c;for(j=0;j<i;j++){c=l[j];if(c.doLayout){c.doLayout(true)}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();if(!b){return{}}return b.getStyleSize()},onLayout:function(c,d){Ext.layout.FitLayout.superclass.onLayout.call(this,c,d);if(!c.collapsed){this.setItemSize(this.activeItem||c.items.itemAt(0),this.getLayoutTargetSize())}},setItemSize:function(d,c){if(d&&c.height>0){d.setSize(c)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(i){var e=this.activeItem,g=this.container;i=g.getComponent(i);if(i&&e!=i){if(e){e.hide();if(e.hidden!==true){return false}e.fireEvent("deactivate",e)}var h=i.doLayout&&(this.layoutOnCardChange||!i.rendered);this.activeItem=i;delete i.deferLayout;i.show();this.layout();if(h){i.doLayout()}i.fireEvent("activate",i)}},renderAll:function(c,d){if(this.deferredRender){this.renderItem(this.activeItem,undefined,d)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,c,d)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var d=this.container.getLayoutTarget(),c={};if(d){c=d.getViewSize();if(Ext.isIE&&Ext.isStrict&&c.width==0){c=d.getStyleSize()}c.width-=d.getPadding("lr");c.height-=d.getPadding("tb")}return c},onLayout:function(I,D){Ext.layout.AnchorLayout.superclass.onLayout.call(this,I,D);var i=this.getLayoutTargetSize(),G=i.width,K=i.height,x=D.getStyle("overflow"),J=this.getRenderedItems(I),A=J.length,Q=[],F,L,C,H,E,N,P,O,B=0,z,M;if(G<20&&K<20){return}if(I.anchorSize){if(typeof I.anchorSize=="number"){L=I.anchorSize}else{L=I.anchorSize.width;C=I.anchorSize.height}}else{L=I.initialConfig.width;C=I.initialConfig.height}for(z=0;z<A;z++){H=J[z];M=H.getPositionEl();if(!H.anchor&&H.items&&!Ext.isNumber(H.width)&&!(Ext.isIE6&&Ext.isStrict)){H.anchor=this.defaultAnchor}if(H.anchor){E=H.anchorSpec;if(!E){O=H.anchor.split(" ");H.anchorSpec=E={right:this.parseAnchor(O[0],H.initialConfig.width,L),bottom:this.parseAnchor(O[1],H.initialConfig.height,C)}}N=E.right?this.adjustWidthAnchor(E.right(G)-M.getMargins("lr"),H):undefined;P=E.bottom?this.adjustHeightAnchor(E.bottom(K)-M.getMargins("tb"),H):undefined;if(N||P){Q.push({component:H,width:N||undefined,height:P||undefined})}}}for(z=0,A=Q.length;z<A;z++){F=Q[z];F.component.setSize(F.width,F.height)}if(x&&x!="hidden"&&!this.adjustmentPass){var y=this.getLayoutTargetSize();if(y.width!=i.width||y.height!=i.height){this.adjustmentPass=true;this.onLayout(I,D)}}delete this.adjustmentPass},parseAnchor:function(j,a,i){if(j&&j!="none"){var l;if(this.parseAnchorRE.test(j)){var m=i-a;return function(b){if(b!==l){l=b;return b-m}}}else{if(j.indexOf("%")!=-1){var k=parseFloat(j.replace("%",""))*0.01;return function(b){if(b!==l){l=b;return Math.floor(b*k)}}}else{j=parseInt(j,10);if(!isNaN(j)){return function(b){if(b!==l){l=b;return b+j}}}}}}return false},adjustWidthAnchor:function(d,c){return d},adjustHeightAnchor:function(d,c){return d}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(d,c){return this.innerCt&&d.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var d=this.container.getLayoutTarget(),c;if(d){c=d.getViewSize();if(Ext.isIE&&Ext.isStrict&&c.width==0){c=d.getStyleSize()}c.width-=d.getPadding("lr");c.height-=d.getPadding("tb")}return c},renderAll:function(c,d){if(!this.innerCt){this.innerCt=d.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}Ext.layout.ColumnLayout.superclass.renderAll.call(this,c,this.innerCt)},onLayout:function(z,s){var A=z.items.items,m=A.length,u,x,w,v=[];this.renderAll(z,s);var i=this.getLayoutTargetSize();if(i.width<1&&i.height<1){return}var c=i.width-this.scrollOffset,y=i.height,h=c;this.innerCt.setWidth(c);for(x=0;x<m;x++){u=A[x];w=u.getPositionEl().getMargins("lr");v[x]=w;if(!u.columnWidth){h-=(u.getWidth()+w)}}h=h<0?0:h;for(x=0;x<m;x++){u=A[x];w=v[x];if(u.columnWidth){u.setSize(Math.floor(u.columnWidth*h)-w)}}if(Ext.isIE){if(x=s.getStyle("overflow")&&x!="hidden"&&!this.adjustmentPass){var t=this.getLayoutTargetSize();if(t.width!=i.width){this.adjustmentPass=true;this.onLayout(z,s)}}}delete this.adjustmentPass}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var b=this.container.getLayoutTarget();return b?b.getViewSize():{}},onLayout:function(U,P){var L,w,Y,Q,c=U.items.items,V=c.length;if(!this.rendered){L=[];for(w=0;w<V;w++){Y=c[w];Q=Y.region;if(Y.collapsed){L.push(Y)}Y.collapsed=false;if(!Y.rendered){Y.render(P,w);Y.getPositionEl().addClass("x-border-panel")}this[Q]=Q!="center"&&Y.split?new Ext.layout.BorderLayout.SplitRegion(this,Y.initialConfig,Q):new Ext.layout.BorderLayout.Region(this,Y.initialConfig,Q);this[Q].render(P,Y)}this.rendered=true}var K=this.getLayoutTargetSize();if(K.width<20||K.height<20){if(L){this.restoreCollapsed=L}return}else{if(this.restoreCollapsed){L=this.restoreCollapsed;delete this.restoreCollapsed}}var s=K.width,W=K.height,n=s,T=W,i=0,m=0,e=this.north,J=this.south,N=this.west,X=this.east,Y=this.center,O,h,S,b;if(!Y&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+U.id}if(e&&e.isVisible()){O=e.getSize();h=e.getMargins();O.width=s-(h.left+h.right);O.x=h.left;O.y=h.top;i=O.height+O.y+h.bottom;T-=i;e.applyLayout(O)}if(J&&J.isVisible()){O=J.getSize();h=J.getMargins();O.width=s-(h.left+h.right);O.x=h.left;b=(O.height+h.top+h.bottom);O.y=W-b+h.top;T-=b;J.applyLayout(O)}if(N&&N.isVisible()){O=N.getSize();h=N.getMargins();O.height=T-(h.top+h.bottom);O.x=h.left;O.y=i+h.top;S=(O.width+h.left+h.right);m+=S;n-=S;N.applyLayout(O)}if(X&&X.isVisible()){O=X.getSize();h=X.getMargins();O.height=T-(h.top+h.bottom);S=(O.width+h.left+h.right);O.x=s-S+h.left;O.y=i+h.top;n-=S;X.applyLayout(O)}if(Y){h=Y.getMargins();var M={x:m+h.left,y:i+h.top,width:n-(h.left+h.right),height:T-(h.top+h.bottom)};Y.applyLayout(M)}if(L){for(w=0,V=L.length;w<V;w++){L[w].collapse(false)}}if(Ext.isIE&&Ext.isStrict){P.repaint()}if(w=P.getStyle("overflow")&&w!="hidden"&&!this.adjustmentPass){var R=this.getLayoutTargetSize();if(R.width!=K.width||R.height!=K.height){this.adjustmentPass=true;this.onLayout(U,P)}}delete this.adjustmentPass},destroy:function(){var e=["north","south","east","west"],d,g;for(d=0;d<e.length;d++){g=this[e[d]];if(g){if(g.destroy){g.destroy()}else{if(g.split){g.split.destroy(true)}}}}Ext.layout.BorderLayout.superclass.destroy.call(this)}});Ext.layout.BorderLayout.Region=function(e,d,g){Ext.apply(this,d);this.layout=e;this.position=g;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins)}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins)}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0}}else{this.cmargins=Ext.applyIf(this.cmargins||{},g=="north"||g=="south"?this.defaultNSCMargins:this.defaultEWCMargins)}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(g,h){this.panel=h;h.el.enableDisplayMode();this.targetEl=g;this.el=h.el;var e=h.getState,i=this.position;h.getState=function(){return Ext.apply(e.call(h)||{},this.state)}.createDelegate(this);if(i!="center"){h.allowQueuedExpand=false;h.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible||this.floatable){h.collapseEl="el";h.slideAnchor=this.getSlideAnchor()}if(h.tools&&h.tools.toggle){h.tools.toggle.addClass("x-tool-collapse-"+i);h.tools.toggle.addClassOnOver("x-tool-collapse-"+i+"-over")}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var d=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');d.disableFormats=true;d.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=d}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true})}else{if(this.collapsible!==false&&!this.hideCollapseTool){var c=this.expandToolEl=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);c.addClassOnOver("x-tool-expand-"+this.position+"-over");c.on("click",this.onExpandClick,this,{stopEvent:true})}if(this.floatable!==false||this.titleCollapse){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this)}}}return this.collapsedEl},onExpandClick:function(b){if(this.isSlid){this.panel.expand(false)}else{this.panel.expand()}},onCollapseClick:function(b){this.panel.collapse()},beforeCollapse:function(g,d){this.lastAnim=d;if(this.splitEl){this.splitEl.hide()}this.getCollapsedEl().show();var e=this.panel.getEl();this.originalZIndex=e.getStyle("z-index");e.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout()},onCollapse:function(b){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible"}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2})}this.state.collapsed=true;this.panel.saveState()},beforeExpand:function(c){if(this.isSlid){this.afterSlideIn()}var d=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,d.getHeight())}else{this.panel.setSize(d.getWidth(),undefined)}d.hide();d.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex)},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show()}this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);this.state.collapsed=false;this.panel.saveState()},collapseClick:function(b){if(this.isSlid){b.stopPropagation();this.slideIn()}else{b.stopPropagation();this.slideOut()}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide()}else{if(this.splitEl){this.splitEl.hide()}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show()}else{if(this.splitEl){this.splitEl.show()}}},isVisible:function(){return !this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(b){this.panel=b},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(c){var d=this.getCollapsedEl();d.setLeftTop(c.x,c.y);d.setSize(c.width,c.height)},applyLayout:function(b){if(this.isCollapsed){this.applyLayoutCollapsed(b)}else{this.panel.setPosition(b.x,b.y);this.panel.setSize(b.width,b.height)}},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){if(!b.within(this.el,true)){this.autoHideSlideTask.delay(500)}},mouseover:function(b){this.autoHideSlideTask.cancel()},scope:this}}this.el.on(this.autoHideHd);this.collapsedEl.on(this.autoHideHd)}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);this.collapsedEl.un("mouseout",this.autoHideHd.mouseout);this.collapsedEl.un("mouseover",this.autoHideHd.mouseover)}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return}this.isSlid=true;var e=this.panel.tools,g,d;if(e&&e.toggle){e.toggle.hide()}this.el.show();d=this.panel.collapsed;this.panel.collapsed=false;if(this.position=="east"||this.position=="west"){g=this.panel.deferHeight;this.panel.deferHeight=false;this.panel.setSize(undefined,this.collapsedEl.getHeight());this.panel.deferHeight=g}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined)}this.panel.collapsed=d;this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:true})}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var b=this.panel.tools;if(b&&b.toggle){b.toggle.show()}},slideIn:function(b){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(b);return}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(b)},scope:this,block:true})}else{this.el.hide();this.afterSlideIn()}},slideInIf:function(b){if(!b.within(this.el)){this.slideIn()}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var b=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break}},getExpandAdj:function(){var d=this.collapsedEl,c=this.cmargins;switch(this.position){case"west":return[-(c.right+d.getWidth()+c.left),0];break;case"east":return[c.right+d.getWidth()+c.left,0];break;case"north":return[0,-(c.top+c.bottom+d.getHeight())];break;case"south":return[0,c.top+c.bottom+d.getHeight()];break}},destroy:function(){if(this.autoHideSlideTask&&this.autoHideSlideTask.cancel){this.autoHideSlideTask.cancel()}Ext.destroyMembers(this,"miniCollapsedEl","collapsedEl","expandToolEl")}};Ext.layout.BorderLayout.SplitRegion=function(e,d,g){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,e,d,g);this.applyLayout=this.applyFns[g]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(h){if(this.isCollapsed){return this.applyLayoutCollapsed(h)}var i=this.splitEl.dom,g=i.style;this.panel.setPosition(h.x,h.y);var e=i.offsetWidth;g.left=(h.x+h.width-e)+"px";g.top=(h.y)+"px";g.height=Math.max(0,h.height)+"px";this.panel.setSize(h.width-e,h.height)},east:function(h){if(this.isCollapsed){return this.applyLayoutCollapsed(h)}var i=this.splitEl.dom,g=i.style;var e=i.offsetWidth;this.panel.setPosition(h.x+e,h.y);g.left=(h.x)+"px";g.top=(h.y)+"px";g.height=Math.max(0,h.height)+"px";this.panel.setSize(h.width-e,h.height)},north:function(h){if(this.isCollapsed){return this.applyLayoutCollapsed(h)}var i=this.splitEl.dom,g=i.style;var e=i.offsetHeight;this.panel.setPosition(h.x,h.y);g.left=(h.x)+"px";g.top=(h.y+h.height-e)+"px";g.width=Math.max(0,h.width)+"px";this.panel.setSize(h.width,h.height-e)},south:function(h){if(this.isCollapsed){return this.applyLayoutCollapsed(h)}var i=this.splitEl.dom,g=i.style;var e=i.offsetHeight;this.panel.setPosition(h.x,h.y+e);g.left=(h.x)+"px";g.top=(h.y)+"px";g.width=Math.max(0,h.width)+"px";this.panel.setSize(h.width,h.height-e)}},render:function(e,h){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,e,h);var i=this.position;this.splitEl=e.createChild({cls:"x-layout-split x-layout-split-"+i,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+i,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true})}var g=this.splitSettings[i];this.split=new Ext.SplitBar(this.splitEl.dom,h.el,g.orientation);this.split.tickSize=this.tickSize;this.split.placement=g.placement;this.split.getMaximumSize=this[g.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[g.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[g.maxProp];if(h.hidden){this.splitEl.hide()}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this)}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize()}var b=this.panel.getSize();if(this.position=="north"||this.position=="south"){b.height+=this.splitEl.dom.offsetHeight}else{b.width+=this.splitEl.dom.offsetWidth}return b},getHMaxSize:function(){var d=this.maxSize||10000;var c=this.layout.center;return Math.min(d,(this.el.getWidth()+c.el.getWidth())-c.getMinWidth())},getVMaxSize:function(){var d=this.maxSize||10000;var c=this.layout.center;return Math.min(d,(this.el.getHeight()+c.el.getHeight())-c.getMinHeight())},onSplitMove:function(e,d){var g=this.panel.getSize();this.lastSplitSize=d;if(this.position=="north"||this.position=="south"){this.panel.setSize(g.width,d);this.state.height=d}else{this.panel.setSize(d,g.height);this.state.width=d}this.layout.layout();this.panel.saveState();return false},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:true,type:"form",onRemove:function(g){Ext.layout.FormLayout.superclass.onRemove.call(this,g);if(this.trackLabels){g.un("show",this.onFieldShow,this);g.un("hide",this.onFieldHide,this)}var e=g.getPositionEl(),c=g.getItemCt&&g.getItemCt();if(g.rendered&&c){if(e&&e.dom){e.insertAfter(c)}Ext.destroy(c);Ext.destroyMembers(g,"label","itemCt");if(g.customItemCt){Ext.destroyMembers(g,"getItemCt","customItemCt")}}},setContainer:function(c){Ext.layout.FormLayout.superclass.setContainer.call(this,c);if(c.labelAlign){c.addClass("x-form-label-"+c.labelAlign)}if(c.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0})}else{this.labelSeparator=Ext.isDefined(c.labelSeparator)?c.labelSeparator:this.labelSeparator;c.labelWidth=c.labelWidth||100;if(Ext.isNumber(c.labelWidth)){var d=Ext.isNumber(c.labelPad)?c.labelPad:5;Ext.apply(this,{labelAdjust:c.labelWidth+d,labelStyle:"width:"+c.labelWidth+"px;",elementStyle:"padding-left:"+(c.labelWidth+d)+"px"})}if(c.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}}},isHide:function(b){return b.hideLabel||this.container.hideLabels},onFieldShow:function(b){b.getItemCt().removeClass("x-hide-"+b.hideMode);if(b.isComposite){b.doLayout()}},onFieldHide:function(b){b.getItemCt().addClass("x-hide-"+b.hideMode)},getLabelStyle:function(k){var h="",i=[this.labelStyle,k];for(var j=0,g=i.length;j<g;++j){if(i[j]){h+=i[j];if(h.substr(-1,1)!=";"){h+=";"}}}return h},renderItem:function(i,c,h){if(i&&(i.isFormField||i.fieldLabel)&&i.inputType!="hidden"){var g=this.getTemplateArgs(i);if(Ext.isNumber(c)){c=h.dom.childNodes[c]||null}if(c){i.itemCt=this.fieldTpl.insertBefore(c,g,true)}else{i.itemCt=this.fieldTpl.append(h,g,true)}if(!i.getItemCt){Ext.apply(i,{getItemCt:function(){return i.itemCt},customItemCt:true})}i.label=i.getItemCt().child("label.x-form-item-label");if(!i.rendered){i.render("x-form-el-"+i.id)}else{if(!this.isValidParent(i,h)){Ext.fly("x-form-el-"+i.id).appendChild(i.getPositionEl())}}if(this.trackLabels){if(i.hidden){this.onFieldHide(i)}i.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(i)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},getTemplateArgs:function(g){var d=!g.fieldLabel||g.hideLabel,e=(g.itemCls||this.container.itemCls||"")+(g.hideLabel?" x-hide-label":"");if(Ext.isIE9&&Ext.isIEQuirks&&g instanceof Ext.form.TextField){e+=" x-input-wrapper"}return{id:g.id,label:g.fieldLabel,itemCls:e,clearCls:g.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(g.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:d?"":(Ext.isDefined(g.labelSeparator)?g.labelSeparator:this.labelSeparator)}},adjustWidthAnchor:function(c,g){if(g.label&&!this.isHide(g)&&(this.container.labelAlign!="top")){var e=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return c-this.labelAdjust+(e?-3:0)}return c},adjustHeightAnchor:function(c,d){if(d.label&&!this.isHide(d)&&(this.container.labelAlign=="top")){return c-d.label.getHeight()}return c},isValidParent:function(d,c){return c&&this.container.getEl().contains(d.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(b){if(this.animate===false){b.animCollapse=false}b.collapsible=true;if(this.autoWidth){b.autoWidth=true}if(this.titleCollapse){b.titleCollapse=true}if(this.hideCollapseTool){b.hideCollapseTool=true}if(this.collapseFirst!==undefined){b.collapseFirst=this.collapseFirst}if(!this.activeItem&&!b.collapsed){this.setActiveItem(b,true)}else{if(this.activeItem&&this.activeItem!=b){b.collapsed=true}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);b.header.addClass("x-accordion-hd");b.on("beforeexpand",this.beforeExpand,this)},onRemove:function(b){Ext.layout.AccordionLayout.superclass.onRemove.call(this,b);if(b.rendered){b.header.removeClass("x-accordion-hd")}b.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(g,e){var d=this.activeItem;if(d){if(this.sequence){delete this.activeItem;if(!d.collapsed){d.collapse({callback:function(){g.expand(e||true)},scope:this});return false}}else{d.collapse(this.animate)}}this.setActive(g);if(this.activeOnTop){g.el.dom.parentNode.insertBefore(g.el.dom,g.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(o,n){if(this.fill&&o){var m=0,l,k=this.getRenderedItems(this.container),j=k.length,i;for(l=0;l<j;l++){if((i=k[l])!=o&&!i.hidden){m+=i.header.getHeight()}}n.height-=m;o.setSize(n)}},setActiveItem:function(b){this.setActive(b,true)},setActive:function(g,e){var d=this.activeItem;g=this.container.getComponent(g);if(d!=g){if(g.rendered&&g.collapsed&&e){g.expand()}else{if(d){d.fireEvent("deactivate",d)}this.activeItem=g;g.fireEvent("activate",g)}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(b){Ext.layout.TableLayout.superclass.setContainer.call(this,b);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(k,m){var l=k.items.items,i=l.length,c,j;if(!this.table){m.addClass("x-table-layout-ct");this.table=m.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}this.renderAll(k,m)},getRow:function(c){var d=this.table.tBodies[0].childNodes[c];if(!d){d=document.createElement("tr");this.table.tBodies[0].appendChild(d)}return d},getNextCell:function(l){var m=this.getNextNonSpan(this.currentColumn,this.currentRow);var q=this.currentColumn=m[0],p=this.currentRow=m[1];for(var k=p;k<p+(l.rowspan||1);k++){if(!this.cells[k]){this.cells[k]=[]}for(var o=q;o<q+(l.colspan||1);o++){this.cells[k][o]=true}}var c=document.createElement("td");if(l.cellId){c.id=l.cellId}var n="x-table-layout-cell";if(l.cellCls){n+=" "+l.cellCls}c.className=n;if(l.colspan){c.colSpan=l.colspan}if(l.rowspan){c.rowSpan=l.rowspan}this.getRow(p).appendChild(c);return c},getNextNonSpan:function(d,g){var e=this.columns;while((e&&d>=e)||(this.cells[g]&&this.cells[g][d])){if(e&&d>=e){g++;d=0}else{d++}}return[d,g]},renderItem:function(i,c,h){if(!this.table){this.table=h.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}if(i&&!i.rendered){i.render(this.getNextCell(i));this.configureItem(i)}else{if(i&&!this.isValidParent(i,h)){var g=this.getNextCell(i);g.insertBefore(i.getPositionEl().dom,null);i.container=Ext.get(g);this.configureItem(i)}}},isValidParent:function(d,c){return d.getPositionEl().up("table",5).dom.parentNode===(c.dom||c)},destroy:function(){delete this.table;Ext.layout.TableLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(c,d){d.position();this.paddingLeft=d.getPadding("l");this.paddingTop=d.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,c,d)},adjustWidthAnchor:function(d,c){return d?d-c.getPosition(true)[0]+this.paddingLeft:d},adjustHeightAnchor:function(d,c){return d?d-c.getPosition(true)[1]+this.paddingTop:d}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(e){Ext.layout.BoxLayout.superclass.constructor.call(this,e);if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins)}var i=this.overflowHandler;if(typeof i=="string"){i={type:i}}var h="none";if(i&&i.type!=undefined){h=i.type}var g=Ext.layout.boxOverflow[h];if(g[this.type]){g=g[this.type]}this.overflowHandler=new g(this,i)},onLayout:function(q,l){Ext.layout.BoxLayout.superclass.onLayout.call(this,q,l);var s=this.getLayoutTargetSize(),m=this.getVisibleItems(q),r=this.calculateChildBoxes(m,s),u=r.boxes,n=r.meta;if(s.width>0){var o=this.overflowHandler,p=n.tooNarrow?"handleOverflow":"clearOverflow";var t=o[p](r,s);if(t){if(t.targetSize){s=t.targetSize}if(t.recalculate){m=this.getVisibleItems(q);r=this.calculateChildBoxes(m,s);u=r.boxes}}}this.layoutTargetLastSize=s;this.childBoxCache=r;this.updateInnerCtSize(s,r);this.updateChildBoxes(u);this.handleTargetOverflow(s,q,l)},updateChildBoxes:function(i){for(var h=0,k=i.length;h<k;h++){var j=i[h],g=j.component;if(j.dirtySize){g.setSize(j.width,j.height)}if(isNaN(j.left)||isNaN(j.top)){continue}g.setPosition(j.left,j.top)}},updateInnerCtSize:function(n,j){var k=this.align,q=this.padding,p=n.width,l=n.height;if(this.type=="hbox"){var m=p,o=j.meta.maxHeight+q.top+q.bottom;if(k=="stretch"){o=l}else{if(k=="middle"){o=Math.max(l,o)}}}else{var o=l,m=j.meta.maxWidth+q.left+q.right;if(k=="stretch"){m=p}else{if(k=="center"){m=Math.max(p,m)}}}this.innerCt.setSize(m||undefined,o||undefined)},handleTargetOverflow:function(j,g,i){var k=i.getStyle("overflow");if(k&&k!="hidden"&&!this.adjustmentPass){var h=this.getLayoutTargetSize();if(h.width!=j.width||h.height!=j.height){this.adjustmentPass=true;this.onLayout(g,i)}}delete this.adjustmentPass},isValidParent:function(d,c){return this.innerCt&&d.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(o){var o=o||this.container,n=o.getLayoutTarget(),c=o.items.items,k=c.length,m,i,l=[];for(m=0;m<k;m++){if((i=c[m]).rendered&&this.isValidParent(i,n)&&i.hidden!==true&&i.collapsed!==true&&i.shouldLayout!==false){l.push(i)}}return l},renderAll:function(c,d){if(!this.innerCt){this.innerCt=d.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding)}Ext.layout.BoxLayout.superclass.renderAll.call(this,c,this.innerCt)},getLayoutTargetSize:function(){var d=this.container.getLayoutTarget(),c;if(d){c=d.getViewSize();if(Ext.isIE&&Ext.isStrict&&c.width==0){c=d.getStyleSize()}c.width-=d.getPadding("lr");c.height-=d.getPadding("tb")}return c},renderItem:function(b){if(Ext.isString(b.margins)){b.margins=this.parseMargins(b.margins)}else{if(!b.margins){b.margins=this.defaultMargins}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)},destroy:function(){Ext.destroy(this.overflowHandler);Ext.layout.BoxLayout.superclass.destroy.apply(this,arguments)}});Ext.layout.boxOverflow.None=Ext.extend(Object,{constructor:function(d,c){this.layout=d;Ext.apply(this,c||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn});Ext.layout.boxOverflow.none=Ext.layout.boxOverflow.None;Ext.layout.boxOverflow.Menu=Ext.extend(Ext.layout.boxOverflow.None,{afterCls:"x-strip-right",noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',constructor:function(b){Ext.layout.boxOverflow.Menu.superclass.constructor.apply(this,arguments);this.menuItems=[]},createInnerElements:function(){if(!this.afterCt){this.afterCt=this.layout.innerCt.insertSibling({cls:this.afterCls},"before")}},clearOverflow:function(h,m){var l=m.width+(this.afterCt?this.afterCt.getWidth():0),i=this.menuItems;this.hideTrigger();for(var j=0,k=i.length;j<k;j++){i.pop().component.show()}return{targetSize:{height:m.height,width:l}}},showTrigger:function(){this.createMenu();this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!=undefined){this.menuTrigger.hide()}},beforeMenuShow:function(i){var k=this.menuItems,j=k.length,o,n;var l=function(b,a){return b.isXType("buttongroup")&&!(a instanceof Ext.Toolbar.Separator)};this.clearMenu();i.removeAll();for(var m=0;m<j;m++){o=k[m].component;if(n&&(l(o,n)||l(n,o))){i.add("-")}this.addComponentToMenu(i,o);n=o}if(i.items.length<1){i.add(this.noItemsMenuText)}},createMenuConfig:function(h,e){var g=Ext.apply({},h.initialConfig),i=h.toggleGroup;Ext.copyTo(g,h,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(g,{text:h.overflowText||h.text,hideOnClick:e});if(i||h.enableToggle){Ext.apply(g,{group:i,checked:h.pressed,listeners:{checkchange:function(a,b){h.toggle(b)}}})}delete g.ownerCt;delete g.xtype;delete g.id;return g},addComponentToMenu:function(d,c){if(c instanceof Ext.Toolbar.Separator){d.add("-")}else{if(Ext.isFunction(c.isXType)){if(c.isXType("splitbutton")){d.add(this.createMenuConfig(c,true))}else{if(c.isXType("button")){d.add(this.createMenuConfig(c,!c.menu))}else{if(c.isXType("buttongroup")){c.items.each(function(a){this.addComponentToMenu(d,a)},this)}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(a){delete a.menu})}},createMenu:function(){if(!this.menuTrigger){this.createInnerElements();this.menu=new Ext.menu.Menu({ownerCt:this.layout.container,listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.menu,renderTo:this.afterCt})}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.layout.boxOverflow.menu=Ext.layout.boxOverflow.Menu;Ext.layout.boxOverflow.HorizontalMenu=Ext.extend(Ext.layout.boxOverflow.Menu,{constructor:function(){Ext.layout.boxOverflow.HorizontalMenu.superclass.constructor.apply(this,arguments);var g=this,e=g.layout,d=e.calculateChildBoxes;e.calculateChildBoxes=function(o,b){var n=d.apply(e,arguments),m=n.meta,p=g.menuItems;var c=0;for(var q=0,a=p.length;q<a;q++){c+=p[q].width}m.minimumWidth+=c;m.tooNarrow=m.minimumWidth>b.width;return n}},handleOverflow:function(E,u){this.showTrigger();var w=u.width-this.afterCt.getWidth(),x=E.boxes,F=0,t=false;for(var A=0,D=x.length;A<D;A++){F+=x[A].width}var B=w-F,G=0;for(var A=0,D=this.menuItems.length;A<D;A++){var z=this.menuItems[A],y=z.component,C=z.width;if(C<B){y.show();B-=C;G++;t=true}else{break}}if(t){this.menuItems=this.menuItems.slice(G)}else{for(var v=x.length-1;v>=0;v--){var s=x[v].component,i=x[v].left+x[v].width;if(i>=w){this.menuItems.unshift({component:s,width:x[v].width});s.hide()}else{break}}}if(this.menuItems.length==0){this.hideTrigger()}return{targetSize:{height:u.height,width:w},recalculate:t}}});Ext.layout.boxOverflow.menu.hbox=Ext.layout.boxOverflow.HorizontalMenu;Ext.layout.boxOverflow.Scroller=Ext.extend(Ext.layout.boxOverflow.None,{animateScroll:true,scrollIncrement:100,wheelIncrement:3,scrollRepeatInterval:400,scrollDuration:0.4,beforeCls:"x-strip-left",afterCls:"x-strip-right",scrollerCls:"x-strip-scroller",beforeScrollerCls:"x-strip-scroller-left",afterScrollerCls:"x-strip-scroller-right",createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(b){b.stopEvent();this.scrollBy(b.getWheelDelta()*this.wheelIncrement*-1,false)}})},handleOverflow:function(c,d){this.createInnerElements();this.showScrollers()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons()},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide()}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var c=this.beforeCt.createChild({cls:String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var d=this.afterCt.createChild({cls:String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});c.addClassOnOver(this.beforeScrollerCls+"-hover");d.addClassOnOver(this.afterScrollerCls+"-hover");c.setVisibilityMode(Ext.Element.DISPLAY);d.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=new Ext.util.ClickRepeater(c,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=c;this.afterScroller=d}},destroy:function(){Ext.destroy(this.beforeScroller,this.afterScroller,this.beforeRepeater,this.afterRepeater,this.beforeCt,this.afterCt)},scrollBy:function(d,c){this.scrollTo(this.getScrollPosition()+d,c)},getItem:function(b){if(Ext.isString(b)){b=Ext.getCmp(b)}else{if(Ext.isNumber(b)){b=this.items[b]}}return b},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var i=this.atExtremeBefore()?"addClass":"removeClass",h=this.atExtremeAfter()?"addClass":"removeClass",e=this.beforeScrollerCls+"-disabled",g=this.afterScrollerCls+"-disabled";this.beforeScroller[i](e);this.afterScroller[h](g);this.scrolling=false},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(b){this.scrollBy(-this.scrollIncrement,b)},scrollRight:function(b){this.scrollBy(this.scrollIncrement,b)},scrollToItem:function(j,h){j=this.getItem(j);if(j!=undefined){var g=this.getItemVisibility(j);if(!g.fullyVisible){var i=j.getBox(true,true),k=i.x;if(g.hiddenRight){k-=(this.layout.innerCt.getWidth()-i.width)}this.scrollTo(k,h)}}},getItemVisibility:function(l){var k=this.getItem(l).getBox(true,true),h=k.x,j=k.x+k.width,m=this.getScrollPosition(),i=this.layout.innerCt.getWidth()+m;return{hiddenLeft:h<m,hiddenRight:j>i,fullyVisible:h>m&&j<i}}});Ext.layout.boxOverflow.scroller=Ext.layout.boxOverflow.Scroller;Ext.layout.boxOverflow.VerticalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{scrollIncrement:75,wheelIncrement:2,handleOverflow:function(c,d){Ext.layout.boxOverflow.VerticalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:d.height-(this.beforeCt.getHeight()+this.afterCt.getHeight()),width:d.width}}},createInnerElements:function(){var b=this.layout.innerCt;if(!this.beforeCt){this.beforeCt=b.insertSibling({cls:this.beforeCls},"before");this.afterCt=b.insertSibling({cls:this.afterCls},"after");this.createWheelListener()}},scrollTo:function(e,g){var i=this.getScrollPosition(),h=e.constrain(0,this.getMaxScrollBottom());if(h!=i&&!this.scrolling){if(g==undefined){g=this.animateScroll}this.layout.innerCt.scrollTo("top",h,g?this.getScrollAnim():false);if(g){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollTop,10)||0},getMaxScrollBottom:function(){return this.layout.innerCt.dom.scrollHeight-this.layout.innerCt.getHeight()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollBottom()}});Ext.layout.boxOverflow.scroller.vbox=Ext.layout.boxOverflow.VerticalScroller;Ext.layout.boxOverflow.HorizontalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{handleOverflow:function(c,d){Ext.layout.boxOverflow.HorizontalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:d.height,width:d.width-(this.beforeCt.getWidth()+this.afterCt.getWidth())}}},createInnerElements:function(){var b=this.layout.innerCt;if(!this.beforeCt){this.afterCt=b.insertSibling({cls:this.afterCls},"before");this.beforeCt=b.insertSibling({cls:this.beforeCls},"before");this.createWheelListener()}},scrollTo:function(e,g){var i=this.getScrollPosition(),h=e.constrain(0,this.getMaxScrollRight());if(h!=i&&!this.scrolling){if(g==undefined){g=this.animateScroll}this.layout.innerCt.scrollTo("left",h,g?this.getScrollAnim():false);if(g){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollLeft,10)||0},getMaxScrollRight:function(){return this.layout.innerCt.dom.scrollWidth-this.layout.innerCt.getWidth()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollRight()}});Ext.layout.boxOverflow.scroller.hbox=Ext.layout.boxOverflow.HorizontalScroller;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",calculateChildBoxes:function(aj,ay){var ac=aj.length,aG=this.padding,aa=aG.top,aJ=aG.left,af=aa+aG.bottom,aT=aJ+aG.right,ax=ay.width-this.scrollOffset,aB=ay.height,aw=Math.max(0,aB-af),aE=this.pack=="start",aL=this.pack=="center",i=this.pack=="end",aQ=0,aF=0,aI=0,at=0,aD=0,aM=[],ar,aO,aR,aK,ao,aq,aH,aN,az,ae,ai,aS;for(aH=0;aH<ac;aH++){ar=aj[aH];aR=ar.height;aO=ar.width;aq=!ar.hasLayout&&typeof ar.doLayout=="function";if(typeof aO!="number"){if(ar.flex&&!aO){aI+=ar.flex}else{if(!aO&&aq){ar.doLayout()}aK=ar.getSize();aO=aK.width;aR=aK.height}}ao=ar.margins;ae=ao.left+ao.right;aQ+=ae+(aO||0);at+=ae+(ar.flex?ar.minWidth||0:aO);aD+=ae+(ar.minWidth||aO||0);if(typeof aR!="number"){if(aq){ar.doLayout()}aR=ar.getHeight()}aF=Math.max(aF,aR+ao.top+ao.bottom);aM.push({component:ar,height:aR||undefined,width:aO||undefined})}var aP=at-ax,ah=aD>ax;var av=Math.max(0,ax-aQ-aT);if(ah){for(aH=0;aH<ac;aH++){aM[aH].width=aj[aH].minWidth||aj[aH].width||aM[aH].width}}else{if(aP>0){var Z=[];for(var ab=0,an=ac;ab<an;ab++){var Y=aj[ab],al=Y.minWidth||0;if(Y.flex){aM[ab].width=al}else{Z.push({minWidth:al,available:aM[ab].width-al,index:ab})}}Z.sort(function(a,b){return a.available>b.available?1:-1});for(var aH=0,an=Z.length;aH<an;aH++){var ad=Z[aH].index;if(ad==undefined){continue}var Y=aj[ad],au=aM[ad],am=au.width,al=Y.minWidth,aA=Math.max(al,am-Math.ceil(aP/(an-aH))),aC=am-aA;aM[ad].width=aA;aP-=aC}}else{var ap=av,ak=aI;for(aH=0;aH<ac;aH++){ar=aj[aH];aN=aM[aH];ao=ar.margins;ai=ao.top+ao.bottom;if(aE&&ar.flex&&!ar.width){az=Math.ceil((ar.flex/ak)*ap);ap-=az;ak-=ar.flex;aN.width=az;aN.dirtySize=true}}}}if(aL){aJ+=av/2}else{if(i){aJ+=av}}for(aH=0;aH<ac;aH++){ar=aj[aH];aN=aM[aH];ao=ar.margins;aJ+=ao.left;ai=ao.top+ao.bottom;aN.left=aJ;aN.top=aa+ao.top;switch(this.align){case"stretch":aS=aw-ai;aN.height=aS.constrain(ar.minHeight||0,ar.maxHeight||1000000);aN.dirtySize=true;break;case"stretchmax":aS=aF-ai;aN.height=aS.constrain(ar.minHeight||0,ar.maxHeight||1000000);aN.dirtySize=true;break;case"middle":var ag=aw-aN.height-ai;if(ag>0){aN.top=aa+ai+(ag/2)}}aJ+=aN.width+ao.right}return{boxes:aM,meta:{maxHeight:aF,nonFlexWidth:aQ,desiredWidth:at,minimumWidth:aD,shortfall:at-ax,tooNarrow:ah}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",calculateChildBoxes:function(aw,ay){var ab=aw.length,aG=this.padding,Z=aG.top,aK=aG.left,ae=Z+aG.bottom,aT=aK+aG.right,ax=ay.width-this.scrollOffset,az=ay.height,aP=Math.max(0,ax-aT),aE=this.pack=="start",aD=this.pack=="center",ag=this.pack=="end",ar=0,am=0,aJ=0,aQ=0,au=0,ad=[],ap,aN,aS,aL,al,aC,aI,aM,aH,ao,av,aA,aj;for(aI=0;aI<ab;aI++){ap=aw[aI];aS=ap.height;aN=ap.width;aC=!ap.hasLayout&&typeof ap.doLayout=="function";if(typeof aS!="number"){if(ap.flex&&!aS){aJ+=ap.flex}else{if(!aS&&aC){ap.doLayout()}aL=ap.getSize();aN=aL.width;aS=aL.height}}al=ap.margins;av=al.top+al.bottom;ar+=av+(aS||0);aQ+=av+(ap.flex?ap.minHeight||0:aS);au+=av+(ap.minHeight||aS||0);if(typeof aN!="number"){if(aC){ap.doLayout()}aN=ap.getWidth()}am=Math.max(am,aN+al.left+al.right);ad.push({component:ap,height:aS||undefined,width:aN||undefined})}var aR=aQ-az,at=au>az;var ai=Math.max(0,(az-ar-ae));if(at){for(aI=0,aj=ab;aI<aj;aI++){ad[aI].height=aw[aI].minHeight||aw[aI].height||ad[aI].height}}else{if(aR>0){var aO=[];for(var aa=0,aj=ab;aa<aj;aa++){var i=aw[aa],ak=i.minHeight||0;if(i.flex){ad[aa].height=ak}else{aO.push({minHeight:ak,available:ad[aa].height-ak,index:aa})}}aO.sort(function(a,b){return a.available>b.available?1:-1});for(var aI=0,aj=aO.length;aI<aj;aI++){var ac=aO[aI].index;if(ac==undefined){continue}var i=aw[ac],aq=ad[ac],an=aq.height,ak=i.minHeight,Y=Math.max(ak,an-Math.ceil(aR/(aj-aI))),aB=an-Y;ad[ac].height=Y;aR-=aB}}else{var aF=ai,ah=aJ;for(aI=0;aI<ab;aI++){ap=aw[aI];aM=ad[aI];al=ap.margins;ao=al.left+al.right;if(aE&&ap.flex&&!ap.height){aH=Math.ceil((ap.flex/ah)*aF);aF-=aH;ah-=ap.flex;aM.height=aH;aM.dirtySize=true}}}}if(aD){Z+=ai/2}else{if(ag){Z+=ai}}for(aI=0;aI<ab;aI++){ap=aw[aI];aM=ad[aI];al=ap.margins;Z+=al.top;ao=al.left+al.right;aM.left=aK+al.left;aM.top=Z;switch(this.align){case"stretch":aA=aP-ao;aM.width=aA.constrain(ap.minWidth||0,ap.maxWidth||1000000);aM.dirtySize=true;break;case"stretchmax":aA=am-ao;aM.width=aA.constrain(ap.minWidth||0,ap.maxWidth||1000000);aM.dirtySize=true;break;case"center":var af=aP-aM.width-ao;if(af>0){aM.left=aK+ao+(af/2)}}Z+=aM.height+al.bottom}return{boxes:ad,meta:{maxWidth:am,nonFlexHeight:ar,desiredHeight:aQ,minimumHeight:au,shortfall:aQ-az,tooNarrow:at}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(t,i){if(!this.leftTr){var c=t.buttonAlign=="center"?"center":"left";i.addClass("x-toolbar-layout-ct");i.insertHtml("beforeEnd",String.format(this.tableHTML,c));this.leftTr=i.child("tr.x-toolbar-left-row",true);this.rightTr=i.child("tr.x-toolbar-right-row",true);this.extrasTr=i.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[]}}var n=t.buttonAlign=="right"?this.rightTr:this.leftTr,o=t.items.items,s=0;for(var r=0,u=o.length,p;r<u;r++,s++){p=o[r];if(p.isFill){n=this.rightTr;s=-1}else{if(!p.rendered){p.render(this.insertCell(p,n,s));this.configureItem(p)}else{if(!p.xtbHidden&&!this.isValidParent(p,n.childNodes[s])){var q=this.insertCell(p,n,s);q.appendChild(p.getPositionEl().dom);p.container=Ext.get(q)}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(i)},cleanup:function(g){var i=g.childNodes,c,h;for(c=i.length-1;c>=0&&(h=i[c]);c--){if(!h.firstChild){g.removeChild(h)}}},insertCell:function(i,g,c){var h=document.createElement("td");h.className="x-toolbar-cell";g.insertBefore(h,g.childNodes[c]||null);return h},hideItem:function(b){this.hiddenItems.push(b);b.xtbHidden=true;b.xtbWidth=b.getPositionEl().dom.parentNode.offsetWidth;b.hide()},unhideItem:function(b){b.show();b.xtbHidden=false;this.hiddenItems.remove(b)},getItemWidth:function(b){return b.hidden?(b.xtbWidth||0):b.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(q){if(this.container.enableOverflow===false){return}var w=q.dom.clientWidth,p=q.dom.firstChild.offsetWidth,s=w-this.triggerWidth,v=this.lastWidth||0,x=this.hiddenItems,z=x.length!=0,t=w>=v;this.lastWidth=w;if(p>w||(z&&t)){var r=this.container.items.items,i=r.length,y=0,u;for(var A=0;A<i;A++){u=r[A];if(!u.isFill){y+=this.getItemWidth(u);if(y>s){if(!(u.hidden||u.xtbHidden)){this.hideItem(u)}}else{if(u.xtbHidden){this.unhideItem(u)}}}}}z=x.length!=0;if(z){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true}}else{if(this.more){this.clearMenu();this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false}}}},createMenuConfig:function(h,e){var g=Ext.apply({},h.initialConfig),i=h.toggleGroup;Ext.copyTo(g,h,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(g,{text:h.overflowText||h.text,hideOnClick:e});if(i||h.enableToggle){Ext.apply(g,{group:i,checked:h.pressed,listeners:{checkchange:function(a,b){h.toggle(b)}}})}delete g.ownerCt;delete g.xtype;delete g.id;return g},addComponentToMenu:function(d,c){if(c instanceof Ext.Toolbar.Separator){d.add("-")}else{if(Ext.isFunction(c.isXType)){if(c.isXType("splitbutton")){d.add(this.createMenuConfig(c,true))}else{if(c.isXType("button")){d.add(this.createMenuConfig(c,!c.menu))}else{if(c.isXType("buttongroup")){c.items.each(function(a){this.addComponentToMenu(d,a)},this)}}}}}},clearMenu:function(){var b=this.moreMenu;if(b&&b.items){b.items.each(function(a){delete a.menu})}},beforeMoreShow:function(i){var k=this.container.items.items,j=k.length,o,n;var l=function(b,a){return b.isXType("buttongroup")&&!(a instanceof Ext.Toolbar.Separator)};this.clearMenu();i.removeAll();for(var m=0;m<j;m++){o=k[m];if(o.xtbHidden){if(n&&(l(o,n)||l(n,o))){i.add("-")}this.addComponentToMenu(i,o);n=o}}if(i.items.length<1){i.add(this.noItemsMenuText)}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var b=this.insertCell(this.more,this.extrasTr,100);this.more.render(b)}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(b){this.monitorResize=!b.floating;b.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,b)},renderItem:function(a,c,i){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img alt="{altText}" src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")}if(a&&!a.rendered){if(Ext.isNumber(c)){c=i.dom.childNodes[c]}var h=this.getItemArgs(a);a.render(a.positionEl=c?this.itemTpl.insertBefore(c,h,true):this.itemTpl.append(i,h,true));a.positionEl.menuItemId=a.getItemId();if(!h.isMenuItem&&h.needsIcon){a.positionEl.addClass("x-menu-list-item-indent")}this.configureItem(a)}else{if(a&&!this.isValidParent(a,i)){if(Ext.isNumber(c)){c=i.dom.childNodes[c]}i.dom.insertBefore(a.getActionEl().dom,c||null)}}},getItemArgs:function(g){var c=g instanceof Ext.menu.Item,e=!(c||g instanceof Ext.menu.Separator);return{isMenuItem:c,needsIcon:e&&(g.icon||g.iconCls),icon:g.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(g.iconCls||""),itemId:"x-menu-el-"+g.id,itemCls:"x-menu-list-item ",altText:g.altText||""}},isValidParent:function(d,c){return d.el.up("li.x-menu-list-item",5).dom.parentNode===(c.dom||c)},onLayout:function(c,d){Ext.layout.MenuLayout.superclass.onLayout.call(this,c,d);this.doAutoSize()},doAutoSize:function(){var h=this.container,e=h.width;if(h.floating){if(e){h.setWidth(e)}else{if(Ext.isIE){h.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8||Ext.isIE9)?"auto":h.minWidth);var i=h.getEl(),g=i.dom.offsetWidth;h.setWidth(h.getLayoutTarget().getWidth()+i.getFrameWidth("lr"))}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(c,d){this.fireEvent("resize",this,c,d,c,d)}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain"}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null}if(this.header===true){this.elements+=",header";this.header=null}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header"}}if(this.footerCfg||this.footer===true){this.elements+=",footer";this.footer=null}if(this.buttons){this.fbar=this.buttons;this.buttons=null}if(this.fbar){this.createFbar(this.fbar)}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createFbar:function(d){var c=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(d,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(a){return{minWidth:a.minWidth||c}}});this.fbar.items.each(function(a){a.minWidth=a.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(e,g){var d;if(Ext.isArray(e)){e={items:e}}d=e.events?Ext.apply(e,g):this.createComponent(Ext.apply({},e,g),"toolbar");this.toolbars.push(d);return d},createElement:function(d,g){if(this[d]){g.appendChild(this[d].dom);return}if(d==="bwrap"||this.elements.indexOf(d)!=-1){if(this[d+"Cfg"]){this[d]=Ext.fly(g).createChild(this[d+"Cfg"])}else{var e=document.createElement("div");e.className=this[d+"Cls"];this[d]=Ext.get(g.appendChild(e))}if(this[d+"CssClass"]){this[d].addClass(this[d+"CssClass"])}if(this[d+"Style"]){this[d].applyStyles(this[d+"Style"])}}},onRender:function(u,t){Ext.Panel.superclass.onRender.call(this,u,t);this.createClasses();var q=this.el,d=q.dom,o,m;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.tools){m=this.tools;this.elements+=(this.header!==false)?",header":""}this.tools={};q.addClass(this.baseCls);if(d.firstChild){this.header=q.down("."+this.headerCls);this.bwrap=q.down("."+this.bwrapCls);var n=this.bwrap?this.bwrap:q;this.tbar=n.down("."+this.tbarCls);this.body=n.down("."+this.bodyCls);this.bbar=n.down("."+this.bbarCls);this.footer=n.down("."+this.footerCls);this.fromMarkup=true}if(this.preventBodyReset===true){q.addClass("x-panel-reset")}if(this.cls){q.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){q.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",d.firstChild.firstChild.firstChild);this.createElement("bwrap",d);o=this.bwrap.dom;var s=d.childNodes[1],r=d.childNodes[2];o.appendChild(s);o.appendChild(r);var p=o.firstChild.firstChild.firstChild;this.createElement("tbar",p);this.createElement("body",p);this.createElement("bbar",p);this.createElement("footer",o.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(p)}else{this.createElement("header",d);this.createElement("bwrap",d);o=this.bwrap.dom;this.createElement("tbar",o);this.createElement("body",o);this.createElement("bbar",o);this.createElement("footer",o);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding))}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}if(m){this.addTool.apply(this,m)}if(this.fbar){this.footer.addClass("x-panel-btns");this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"})}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar)}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar)}},setIconClass:function(h){var g=this.iconCls;this.iconCls=h;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(g,this.iconCls)}else{var k=this.header,i=k.child("img.x-panel-inline-icon");if(i){Ext.fly(i).replaceClass(g,this.iconCls)}else{var j=k.child("span."+this.headerTextCls);if(j){Ext.DomHelper.insertBefore(j.dom,{tag:"img",alt:"",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}}this.fireEvent("iconchange",this,h,g)},makeFloating:function(b){this.floating=true;this.el=new Ext.Layer(Ext.apply({},b,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(d,g,e){if(!this.fbar){this.createFbar([])}if(g){if(Ext.isString(d)){d={text:d}}d=Ext.apply({handler:g,scope:e},d)}return this.fbar.add(d)},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[]}Ext.each(arguments,function(b){this.tools.push(b)},this);return}if(!this[this.toolTarget]){return}if(!this.toolTemplate){var a=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');a.disableFormats=true;a.compile();Ext.Panel.prototype.toolTemplate=a}for(var o=0,m=arguments,l=m.length;o<l;o++){var k=m[o];if(!this.tools[k.id]){var i="x-tool-"+k.id+"-over";var n=this.toolTemplate.insertFirst(this[this.toolTarget],k,true);this.tools[k.id]=n;n.enableDisplayMode("block");this.mon(n,"click",this.createToolHandler(n,k,i,this));if(k.on){this.mon(n,k.on)}if(k.hidden){n.hide()}if(k.qtip){if(Ext.isObject(k.qtip)){Ext.QuickTips.register(Ext.apply({target:n.id},k.qtip))}else{n.dom.qtip=k.qtip}}n.addClassOnOver(i)}}},onLayout:function(d,c){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout(undefined,c)});this.syncHeight()}},syncHeight:function(){var g=this.toolbarHeight,h=this.body,e=this.lastSize.height,i;if(this.autoHeight||!Ext.isDefined(e)||e=="auto"){return}if(g!=this.getToolbarHeight()){g=Math.max(0,e-this.getFrameHeight());h.setHeight(g);i=h.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(i.width,i.height)}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(h,e,i,g){return function(a){h.removeClass(i);if(e.stopEvent!==false){a.stopEvent()}if(e.handler){e.handler.call(e.scope||h,a,h,g,e)}}},afterRender:function(){if(this.floating&&!this.hidden){this.el.show()}if(this.title){this.setTitle(this.title)}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false)}this.initEvents()},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.doLayout();b.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this);this.syncHeight()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(b){if(this.floating){this.el.beforeAction()}if(b!==false){this.el.addClass("x-panel-animated")}},afterEffect:function(b){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(g,a,h){var i={scope:h,block:true};if(g===true){i.callback=a;return i}else{if(!g.callback){i.callback=a}else{i.callback=function(){a.call(h);Ext.callback(g.callback,g.scope)}}}return Ext.applyIf(i,g)},collapse:function(d){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,d)===false){return}var c=d===true||(d!==false&&this.animCollapse);this.beforeEffect(c);this.onCollapse(c,d);return this},onCollapse:function(c,d){if(c){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(d||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false)}},afterCollapse:function(b){this.collapsed=true;this.el.addClass(this.collapsedCls);if(b!==false){this[this.collapseEl].hide(this.hideMode)}this.afterEffect(b);this.cascade(function(a){if(a.lastSize){a.lastSize={width:undefined,height:undefined}}});this.fireEvent("collapse",this)},expand:function(d){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,d)===false){return}var c=d===true||(d!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(c);this.onExpand(c,d);return this},onExpand:function(c,d){if(c){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(d||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show(this.hideMode);this.afterExpand(false)}},afterExpand:function(b){this.collapsed=false;if(b!==false){this[this.collapseEl].show(this.hideMode)}this.afterEffect(b);if(this.deferLayout){delete this.deferLayout;this.doLayout(true)}this.fireEvent("expand",this)},toggleCollapse:function(b){this[this.collapsed?"expand":"collapse"](b);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(m,k,j,l){var h=m,i=k;if(Ext.isDefined(h)||Ext.isDefined(i)){if(!this.collapsed){if(Ext.isNumber(h)){this.body.setWidth(h=this.adjustBodyWidth(h-this.getFrameWidth()))}else{if(h=="auto"){h=this.body.setWidth("auto").dom.offsetWidth}else{h=this.body.dom.offsetWidth}}if(this.tbar){this.tbar.setWidth(h);if(this.topToolbar){this.topToolbar.setSize(h)}}if(this.bbar){this.bbar.setWidth(h);if(this.bottomToolbar){this.bottomToolbar.setSize(h);if(Ext.isIE){this.bbar.setStyle("position","static");this.bbar.setStyle("position","")}}}if(this.footer){this.footer.setWidth(h);if(this.fbar){this.fbar.setSize(Ext.isIE?(h-this.footer.getFrameWidth("lr")):"auto")}}if(Ext.isNumber(i)){i=Math.max(0,i-this.getFrameHeight());this.body.setHeight(i)}else{if(i=="auto"){this.body.setHeight(i)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:h,height:i};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:true})}}this.onBodyResize(h,i)}this.syncShadow();Ext.Panel.superclass.onResize.call(this,m,k,j,l)},onBodyResize:function(c,d){this.fireEvent("bodyresize",this,c,d)},getToolbarHeight:function(){var b=0;if(this.rendered){Ext.each(this.toolbars,function(a){b+=a.getHeight()},this)}return b},adjustBodyHeight:function(b){return b},adjustBodyWidth:function(b){return b},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var d=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var c=this.bwrap.dom.firstChild;d+=(Ext.fly(c).getFrameWidth("l")+Ext.fly(c.firstChild).getFrameWidth("r"));d+=this.mc.getFrameWidth("lr")}return d},getFrameHeight:function(){var b=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");b+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){b+=this.el.dom.firstChild.offsetHeight+this.ft.dom.offsetHeight+this.mc.getFrameWidth("tb")}else{b+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)}return b},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(d,c){this.title=d;if(this.header&&this.headerAsText){this.header.child("span").update(d)}if(c){this.setIconClass(c)}this.fireEvent("titlechange",this,d);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var b=this.body.getUpdater();b.update.apply(b,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners()}if(this.tools){for(var b in this.tools){Ext.destroy(this.tools[b])}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.un("afterlayout",this.syncHeight,this);a.un("remove",this.syncHeight,this)},this)}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0])}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el)}}Ext.destroy(this.toolbars)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(g,k,h){var j=document.createElement("div");j.className="x-panel-ghost "+(g?g:"");if(this.header){j.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(j.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());j.style.width=this.el.dom.offsetWidth+"px";if(!h){this.container.dom.appendChild(j)}else{Ext.getDom(h).appendChild(j)}if(k!==false&&this.el.useShim!==false){var i=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},j);i.show();return i}else{return new Ext.Element(j)}},doAutoLoad:function(){var b=this.body.getUpdater();if(this.renderer){b.setRenderer(this.renderer)}b.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(b){return this.tools[b]}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(d,c){if(d.field){this.field=Ext.create(d.field,"textfield");c=Ext.apply({},d);delete c.field}else{this.field=d}Ext.Editor.superclass.constructor.call(this,c)};Ext.extend(Ext.Editor,Ext.Component,{allowBlur:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(d,c){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:d,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex)}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip"}this.field.inEditor=true;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});if(this.field.grow){this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1})}this.field.render(this.el).show();this.field.getEl().dom.name="";if(this.swallowKeys){this.field.el.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(e,k){var i=k.getKey(),h=this.completeOnEnter&&i==k.ENTER,j=this.cancelOnEsc&&i==k.ESC;if(h||j){k.stopEvent();if(h){this.completeEdit()}else{this.cancelEdit()}if(e.triggerBlur){e.triggerBlur()}}this.fireEvent("specialkey",e,k)},startEdit:function(e,g){if(this.editing){this.completeEdit()}this.boundEl=Ext.get(e);var d=g!==undefined?g:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,d)!==false){this.startValue=d;this.field.reset();this.field.setValue(d);this.realign(true);this.editing=true;this.show()}},doAutoSize:function(){if(this.autoSize){var d=this.boundEl.getSize(),c=this.field.getSize();switch(this.autoSize){case"width":this.setSize(d.width,c.height);break;case"height":this.setSize(c.width,d.height);break;case"none":this.setSize(c.width,c.height);break;default:this.setSize(d.width,d.height)}}},setSize:function(c,d){delete this.field.lastSize;this.field.setSize(c,d);if(this.el){if(Ext.isGecko2||Ext.isOpera||(Ext.isIE7&&Ext.isStrict)){this.el.setSize(c,d)}this.el.sync()}},realign:function(b){if(b===true){this.doAutoSize()}this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(c){if(!this.editing){return}if(this.field.assertValue){this.field.assertValue()}var d=this.getValue();if(!this.field.isValid()){if(this.revertInvalid!==false){this.cancelEdit(c)}return}if(String(d)===String(this.startValue)&&this.ignoreNoChange){this.hideEdit(c);return}if(this.fireEvent("beforecomplete",this,d,this.startValue)!==false){d=this.getValue();if(this.updateEl&&this.boundEl){this.boundEl.update(d)}this.hideEdit(c);this.fireEvent("complete",this,d,this.startValue)}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide()}this.field.show().focus(false,true);this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(c){if(this.editing){var d=this.getValue();this.setValue(this.startValue);this.hideEdit(c);this.fireEvent("canceledit",this,d,this.startValue)}},hideEdit:function(b){if(b!==true){this.editing=false;this.hide()}},onBlur:function(){if(this.allowBlur===true&&this.editing&&this.selectSameEditor!==true){this.completeEdit()}},onHide:function(){if(this.editing){this.completeEdit();return}this.field.blur();if(this.field.collapse){this.field.collapse()}this.el.hide();if(this.hideEl!==false){this.boundEl.show()}},setValue:function(b){this.field.setValue(b)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;delete this.boundEl}});Ext.reg("editor",Ext.Editor);Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true)}},onRender:function(e,d){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,e,d);var g=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');g.overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:true})}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var b=this.value;this.value=null;this.select(b,true)}},handleClick:function(e,c){e.preventDefault();if(!this.disabled){var g=c.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(g.toUpperCase())}},select:function(e,d){e=e.replace("#","");if(e!=this.value||this.allowReselect){var g=this.el;if(this.value){g.child("a.color-"+this.value).removeClass("x-color-palette-sel")}g.child("a.color-"+e).addClass("x-color-palette-sel");this.value=e;if(d!==true){this.fireEvent("select",this,e)}}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var e=this.disabledDates,d=e.length-1,g="(?:";Ext.each(e,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":e[b];if(b!=d){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){if(Ext.isArray(b)){this.disabledDates=b;this.disabledDatesRE=null}else{this.disabledDatesRE=b}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(b){this.disabledDays=b;this.update(this.value,true)},setMinDate:function(b){this.minDate=b;this.update(this.value,true)},setMaxDate:function(b){this.maxDate=b;this.update(this.value,true)},setValue:function(b){this.value=b.clearTime(true);this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(b){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(b?this.value:this.activeDate);if(Ext.isIE){this.el.repaint()}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(b){Ext.fly(b).repaint()})}},doDisabled:function(b){this.keyNav.setDisabled(b);this.prevRepeater.setDisabled(b);this.nextRepeater.setDisabled(b);if(this.showToday){this.todayKeyListener.setDisabled(b);this.todayBtn.setDisabled(b)}},onRender:function(p,n){var m=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],o=this.dayNames,d;for(d=0;d<7;d++){var l=this.startDay+d;if(l>6){l=l-7}m.push("<th><span>",o[l].substr(0,1),"</span></th>")}m[m.length]="</tr></thead><tbody><tr>";for(d=0;d<42;d++){if(d%7===0&&d!==0){m[m.length]="</tr><tr>"}m[m.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}m.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var i=document.createElement("div");i.className="x-date-picker";i.innerHTML=m.join("");p.dom.insertBefore(i,n);this.el=Ext.get(i);this.eventEl=Ext.get(i.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(a){if(a.ctrlKey){this.showPrevMonth()}else{this.update(this.activeDate.add("d",-1))}},right:function(a){if(a.ctrlKey){this.showNextMonth()}else{this.update(this.activeDate.add("d",1))}},up:function(a){if(a.ctrlKey){this.showNextYear()}else{this.update(this.activeDate.add("d",-7))}},down:function(a){if(a.ctrlKey){this.showPrevYear()}else{this.update(this.activeDate.add("d",7))}},pageUp:function(a){this.showNextMonth()},pageDown:function(a){this.showPrevMonth()},enter:function(a){a.stopPropagation();return true},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var q=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,q),tooltip:String.format(this.todayTip,q),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var c=['<table border="0" cellspacing="0">'];for(var d=0;d<6;d++){c.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(d),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(d+6),"</a></td>",d===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}c.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(c.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(a,b,g){g+=1;if((g%2)===0){a.dom.xmonth=5+Math.round(g*0.5)}else{a.dom.xmonth=Math.round((g-1)*0.5)}})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var b=this.el.getSize();this.monthPicker.setSize(b);this.monthPicker.child("table").setSize(b);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(k){this.mpyear=k;var i=this.mpYears.elements;for(var h=1;h<=10;h++){var j=i[h-1],g;if((h%2)===0){g=k+Math.round(h*0.5);j.firstChild.innerHTML=g;j.xyear=g}else{g=k-(5-Math.round(h*0.5));j.firstChild.innerHTML=g;j.xyear=g}this.mpYears.item(h-1)[g==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(b){this.mpMonths.each(function(a,e,g){a[a.dom.xmonth==b?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(b){},onMonthClick:function(e,j){e.stopEvent();var k=new Ext.Element(j),i;if(k.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(k.is("button.x-date-mp-ok")){var d=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(d.getMonth()!=this.mpSelMonth){d=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(d);this.hideMonthPicker()}else{if((i=k.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");i.addClass("x-date-mp-sel");this.mpSelMonth=i.dom.xmonth}else{if((i=k.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");i.addClass("x-date-mp-sel");this.mpSelYear=i.dom.xyear}else{if(k.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(k.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(i,g){i.stopEvent();var h=new Ext.Element(g),e;if((e=h.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,e.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if((e=h.up("td.x-date-mp-year",2))){this.update(new Date(e.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(b){if(this.monthPicker){if(b===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(b){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(b){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(c){c.stopEvent();if(!this.disabled){var d=c.getWheelDelta();if(d>0){this.showPrevMonth()}else{if(d<0){this.showNextMonth()}}}},handleDateClick:function(d,c){d.stopEvent();if(!this.disabled&&c.dateValue&&!Ext.fly(c.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(c.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(L,d){if(this.rendered){var ac=this.activeDate,P=this.isVisible();this.activeDate=L;if(!d&&ac&&this.el){var ab=L.getTime();if(ac.getMonth()==L.getMonth()&&ac.getFullYear()==L.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(a){if(a.dom.firstChild.dateValue==ab){a.addClass("x-date-selected");if(P&&!this.cancelFocus){Ext.fly(a.dom.firstChild).focus(50)}return false}},this);return}}var X=L.getDaysInMonth(),Q=L.getFirstDateOfMonth(),ag=Q.getDay()-this.startDay;if(ag<0){ag+=7}X+=ag;var i=L.add("mo",-1),V=i.getDaysInMonth()-ag,af=this.cells.elements,R=this.textNodes,w=(new Date(i.getFullYear(),i.getMonth(),V,this.initHour)),t=new Date().clearTime().getTime(),U=L.clearTime(true).getTime(),T=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,N=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,K=this.disabledDatesRE,S=this.disabledDatesText,ai=this.disabledDays?this.disabledDays.join(""):false,J=this.disabledDaysText,O=this.format;if(this.showToday){var Z=new Date().clearTime(),ae=(Z<T||Z>N||(K&&O&&K.test(Z.dateFormat(O)))||(ai&&ai.indexOf(Z.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(ae);this.todayKeyListener[ae?"disable":"enable"]()}}var Y=function(a,c){c.title="";var b=w.clearTime(true).getTime();c.firstChild.dateValue=b;if(b==t){c.className+=" x-date-today";c.title=a.todayText}if(b==U){c.className+=" x-date-selected";if(P){Ext.fly(c.firstChild).focus(50)}}if(b<T){c.className=" x-date-disabled";c.title=a.minText;return}if(b>N){c.className=" x-date-disabled";c.title=a.maxText;return}if(ai){if(ai.indexOf(w.getDay())!=-1){c.title=J;c.className=" x-date-disabled"}}if(K&&O){var e=w.dateFormat(O);if(K.test(e)){c.title=S.replace("%0",e);c.className=" x-date-disabled"}}};var M=0;for(;M<ag;M++){R[M].innerHTML=(++V);w.setDate(w.getDate()+1);af[M].className="x-date-prevday";Y(this,af[M])}for(;M<X;M++){var ad=M-ag+1;R[M].innerHTML=(ad);w.setDate(w.getDate()+1);af[M].className="x-date-active";Y(this,af[M])}var ah=0;for(;M<42;M++){R[M].innerHTML=(++ah);w.setDate(w.getDate()+1);af[M].className="x-date-nextday";Y(this,af[M])}this.mbtn.setText(this.monthNames[L.getMonth()]+" "+L.getFullYear());if(!this.internalRender){var W=this.el.dom.firstChild,aa=W.offsetWidth;this.el.setWidth(aa+this.el.getBorderWidth("lr"));Ext.fly(W).setWidth(aa);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){W.rows[0].cells[1].style.width=(aa-(W.rows[0].cells[0].offsetWidth+W.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[L])}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);delete this.textNodes;delete this.cells.elements}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(g,e){this.el=Ext.get(g);Ext.apply(this,e);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false)}else{var d=this.el.getUpdater();d.showLoadIndicator=false;d.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this)}else{var b=this.el.getUpdater();b.un("beforeupdate",this.onBeforeLoad,this);b.un("update",this.onLoad,this);b.un("failure",this.onLoad,this)}}};Ext.slider.Thumb=Ext.extend(Object,{dragging:false,constructor:function(b){Ext.apply(this,b||{},{cls:"x-slider-thumb",constrain:false});Ext.slider.Thumb.superclass.constructor.call(this,b);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical)}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},enable:function(){this.disabled=false;this.el.removeClass(this.slider.disabledClass)},disable:function(){this.disabled=true;this.el.addClass(this.slider.disabledClass)},initEvents:function(){var b=this.el;b.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(b)},onBeforeDragStart:function(b){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(b){this.el.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,b,this)},onDrag:function(m){var k=this.slider,j=this.index,l=this.getNewValue();if(this.constrain){var i=k.thumbs[j+1],e=k.thumbs[j-1];if(e!=undefined&&l<=e.value){l=e.value}if(i!=undefined&&l>=i.value){l=i.value}}k.setValue(j,l,false);k.fireEvent("drag",k,m,this)},getNewValue:function(){var c=this.slider,d=c.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(c.reverseValue(d.left),c.decimalPrecision)},onDragEnd:function(g){var d=this.slider,e=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=false;d.fireEvent("dragend",d,g);if(this.dragStartValue!=e){d.fireEvent("changecomplete",d,e,this)}},destroy:function(){Ext.destroyMembers(this,"tracker","el")}});Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,constrainThumbs:true,topThumbZIndex:10000,initComponent:function(){if(!Ext.isDefined(this.value)){this.value=this.minValue}this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values==undefined||Ext.isEmpty(this.values)){this.values=[0]}var c=this.values;for(var d=0;d<c.length;d++){this.addThumb(c[d])}if(this.vertical){Ext.apply(this,Ext.slider.Vertical)}},addThumb:function(d){var c=new Ext.slider.Thumb({value:d,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(c);if(this.rendered){c.render()}},promoteThumb:function(k){var h=this.thumbs,m,i;for(var l=0,j=h.length;l<j;l++){i=h[l];if(i==k){m=this.topThumbZIndex}else{m=""}i.el.setStyle("zIndex",m)}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var d=0;d<this.thumbs.length;d++){this.thumbs[d].render()}var c=this.innerEl.child(".x-slider-thumb");this.halfThumb=(this.vertical?c.getHeight():c.getWidth())/2;this.initEvents()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",true)},onMouseDown:function(i){if(this.disabled){return}var h=false;for(var g=0;g<this.thumbs.length;g++){h=h||i.target==this.thumbs[g].el.dom}if(this.clickToChange&&!h){var e=this.innerEl.translatePoints(i.getXY());this.onClickChange(e)}this.focus()},onClickChange:function(g){if(g.top>this.clickRange[0]&&g.top<this.clickRange[1]){var d=this.getNearest(g,"left"),e=d.index;this.setValue(e,Ext.util.Format.round(this.reverseValue(g.left),this.decimalPrecision),undefined,true)}},getNearest:function(o,s){var q=s=="top"?this.innerEl.getHeight()-o[s]:o[s],w=this.reverseValue(q),n=(this.maxValue-this.minValue)+5,v=0,t=null;for(var u=0;u<this.thumbs.length;u++){var r=this.thumbs[u],p=r.value,i=Math.abs(p-w);if(Math.abs(i<=n)){t=r;v=u;n=i}}return t},onKeyDown:function(e){if(this.disabled||this.thumbs.length!==1){e.preventDefault();return}var d=e.getKey(),g;switch(d){case e.UP:case e.RIGHT:e.stopEvent();g=e.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,g,undefined,true);break;case e.DOWN:case e.LEFT:e.stopEvent();g=e.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,g,undefined,true);break;default:e.preventDefault()}},doSnap:function(g){if(!(this.increment&&g)){return g}var i=g,h=this.increment,e=g%h;if(e!=0){i-=e;if(e*2>=h){i+=h}else{if(e*2<-h){i-=h}}}return i.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,arguments);for(var g=0;g<this.thumbs.length;g++){var e=this.thumbs[g];if(e.value!==undefined){var d=this.normalizeValue(e.value);if(d!==e.value){this.setValue(g,d,false)}else{this.moveThumb(g,this.translateValue(d),false)}}}},getRatio:function(){var c=this.innerEl.getWidth(),d=this.maxValue-this.minValue;return d==0?c:(c/d)},normalizeValue:function(b){b=this.doSnap(b);b=Ext.util.Format.round(b,this.decimalPrecision);b=b.constrain(this.minValue,this.maxValue);return b},setMinValue:function(k){this.minValue=k;var j=0,h=this.thumbs,g=h.length,i;for(;j<g;++j){i=h[j];i.value=i.value<k?k:i.value}this.syncThumb()},setMaxValue:function(k){this.maxValue=k;var j=0,h=this.thumbs,g=h.length,i;for(;j<g;++j){i=h[j];i.value=i.value>k?k:i.value}this.syncThumb()},setValue:function(k,j,i,m){var h=this.thumbs[k],l=h.el;j=this.normalizeValue(j);if(j!==h.value&&this.fireEvent("beforechange",this,j,h.value,h)!==false){h.value=j;if(this.rendered){this.moveThumb(k,this.translateValue(j),i!==false);this.fireEvent("change",this,j,h);if(m){this.fireEvent("changecomplete",this,j,h)}}}},translateValue:function(c){var d=this.getRatio();return(c*d)-(this.minValue*d)-this.halfThumb},reverseValue:function(d){var c=this.getRatio();return(d+(this.minValue*c))/c},moveThumb:function(i,h,g){var e=this.thumbs[i].el;if(!g||this.animate===false){e.setLeft(h)}else{e.shift({left:h,stopFx:true,duration:0.35})}},focus:function(){this.focusEl.focus(10)},onResize:function(i,k){var h=this.thumbs,g=h.length,j=0;for(;j<g;++j){h[j].el.stopFx()}if(Ext.isNumber(i)){this.innerEl.setWidth(i-(this.el.getPadding("l")+this.endEl.getPadding("r")))}this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments)},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var g=0;g<this.thumbs.length;g++){var e=this.thumbs[g],h=e.el;e.disable();if(Ext.isIE){var i=h.getXY();h.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})}this.thumbHolder.show().setXY(i)}}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);for(var e=0;e<this.thumbs.length;e++){var d=this.thumbs[e],g=d.el;d.enable();if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}g.show();this.syncThumb()}}},syncThumb:function(){if(this.rendered){for(var b=0;b<this.thumbs.length;b++){this.moveThumb(b,this.translateValue(this.thumbs[b].value))}}},getValue:function(b){return this.thumbs[b].value},getValues:function(){var c=[];for(var d=0;d<this.thumbs.length;d++){c.push(this.thumbs[d].value)}return c},beforeDestroy:function(){var e=this.thumbs;for(var g=0,d=e.length;g<d;++g){e[g].destroy();e[g]=null}Ext.destroyMembers(this,"endEl","innerEl","focusEl","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this)}});Ext.reg("multislider",Ext.slider.MultiSlider);Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(b){b=b||{};Ext.applyIf(b,{values:[b.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,b)},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0)},setValue:function(i,g){var h=Ext.toArray(arguments),e=h.length;if(e==1||(e<=3&&typeof arguments[1]!="number")){h.unshift(0)}return Ext.slider.SingleSlider.superclass.setValue.apply(this,h)},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,[0].concat(arguments))},getNearest:function(){return this.thumbs[0]}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);Ext.slider.Vertical={onResize:function(c,d){this.innerEl.setHeight(d-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){var d=this.innerEl.getHeight(),c=this.maxValue-this.minValue;return d/c},moveThumb:function(j,i,h){var g=this.thumbs[j],k=g.el;if(!h||this.animate===false){k.setBottom(i)}else{k.shift({bottom:i,stopFx:true,duration:0.35})}},onClickChange:function(h){if(h.left>this.clickRange[0]&&h.left<this.clickRange[1]){var e=this.getNearest(h,"top"),g=e.index,i=this.minValue+this.reverseValue(this.innerEl.getHeight()-h.top);this.setValue(g,Ext.util.Format.round(i,this.decimalPrecision),undefined,true)}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var g=this.slider,h=g.innerEl,i=h.translatePoints(this.tracker.getXY()),e=h.getHeight()-i.top;return g.minValue+Ext.util.Format.round(e/g.getRatio(),g.decimalPrecision)}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(j,g){var i=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=g?i.insertBefore(g,{cls:this.baseCls},true):i.append(j,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id}var h=this.el.dom.firstChild;this.progressBar=Ext.get(h.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var k=Ext.get(h.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,k.dom.firstChild]);this.textEl.setWidth(h.offsetWidth)}this.progressBar.setHeight(h.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(h,i,g){this.value=h||0;if(i){this.updateText(i)}if(this.rendered&&!this.isDestroyed){var e=Math.floor(h*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(e,g===true||(g!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(e)}}this.fireEvent("update",this,h,i);return this},wait:function(d){if(!this.waitTimer){var c=this;d=d||{};this.updateText(d.text);this.waitTimer=Ext.TaskMgr.start({run:function(b){var a=d.increment||10;b-=1;this.updateProgress(((((b+a)%a)+1)*(100/a))*0.01,null,d.animate)},interval:d.interval||1000,duration:d.duration,onStop:function(){if(d.fn){d.fn.apply(d.scope||this)}this.reset()},scope:c})}return this},isWaiting:function(){return this.waitTimer!==null},updateText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(d,g){Ext.ProgressBar.superclass.setSize.call(this,d,g);if(this.textTopEl){var e=this.el.dom.firstChild;this.textEl.setSize(e.offsetWidth,e.offsetHeight)}this.syncProgressBar();return this},reset:function(b){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}this.clearTimer();if(b===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}Ext.destroyMembers(this,"textEl","progressBar","textTopEl")}Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);(function(){var c=Ext.EventManager;var d=Ext.lib.Dom;Ext.dd.DragDrop=function(g,a,b){if(g){this.init(g,a,b)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(b,a){},startDrag:function(b,a){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(b,a){},b4DragOver:function(a){},onDragOver:function(b,a){},b4DragOut:function(a){},onDragOut:function(b,a){},b4DragDrop:function(a){},onDragDrop:function(b,a){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(p,a,u){if(Ext.isNumber(a)){a={left:a,right:a,top:a,bottom:a}}a=a||this.defaultPadding;var r=Ext.get(this.getEl()).getBox(),v=Ext.get(p),t=v.getScroll(),q,w=v.dom;if(w==document.body){q={x:t.left,y:t.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var s=v.getXY();q={x:s[0],y:s[1],width:w.clientWidth,height:w.clientHeight}}var b=r.y-q.y,x=r.x-q.x;this.resetConstraints();this.setXConstraint(x-(a.left||0),q.width-x-r.width-(a.right||0),this.xTickSize);this.setYConstraint(b-(a.top||0),q.height-b-r.height-(a.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(g,a,b){this.initTarget(g,a,b);c.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(g,a,b){this.config=b||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof g!=="string"){g=Ext.id(g)}this.id=g;this.addToGroup((a)?a:"default");this.handleElId=g;this.setDragElId(g);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(i,b,a,h){if(!b&&0!==b){this.padding=[i,i,i,i]}else{if(!a&&0!==a){this.padding=[i,b,i,b]}else{this.padding=[i,b,a,h]}}},setInitPosition:function(m,l){var a=this.getEl();if(!this.DDM.verifyEl(a)){return}var k=m||0;var j=l||0;var b=d.getXY(a);this.initPageX=b[0]-k;this.initPageY=b[1]-j;this.lastPageX=b[0];this.lastPageY=b[1];this.setStartPosition(b)},setStartPosition:function(a){var b=a||d.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=b[0];this.startPageY=b[1]},addToGroup:function(a){this.groups[a]=true;this.DDM.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDM.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDM.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}c.on(a,"mousedown",this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){c.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(a,e){if(this.primaryButtonOnly&&a.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var b=new Ext.lib.Point(Ext.lib.Event.getPageX(a),Ext.lib.Event.getPageY(a));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(b,this)){}else{if(this.clickValidator(a)){this.setStartPosition();this.b4MouseDown(a);this.onMouseDown(a);this.DDM.handleMouseDown(a,this);this.DDM.stopEvent(a)}else{}}},clickValidator:function(a){var b=a.getTarget();return(this.isValidHandleChild(b)&&(this.id==this.handleElId||this.DDM.handleWasClicked(b,this.id)))},addInvalidHandleType:function(b){var a=b.toUpperCase();this.invalidHandleTypes[a]=a},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(b){var a=b.toUpperCase();delete this.invalidHandleTypes[a]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var g=0,a=this.invalidHandleClasses.length;g<a;++g){if(this.invalidHandleClasses[g]==b){delete this.invalidHandleClasses[g]}}},isValidHandleChild:function(a){var m=true;var e;try{e=a.nodeName.toUpperCase()}catch(b){e=a.nodeName}m=m&&!this.invalidHandleTypes[e];m=m&&!this.invalidHandleIds[a.id];for(var l=0,i=this.invalidHandleClasses.length;m&&l<i;++l){m=!Ext.fly(a).hasClass(this.invalidHandleClasses[l])}return m},setXTicks:function(a,b){this.xTicks=[];this.xTickSize=b;var i={};for(var h=this.initPageX;h>=this.minX;h=h-b){if(!i[h]){this.xTicks[this.xTicks.length]=h;i[h]=true}}for(h=this.initPageX;h<=this.maxX;h=h+b){if(!i[h]){this.xTicks[this.xTicks.length]=h;i[h]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(a,b){this.yTicks=[];this.yTickSize=b;var i={};for(var h=this.initPageY;h>=this.minY;h=h-b){if(!i[h]){this.yTicks[this.yTicks.length]=h;i[h]=true}}for(h=this.initPageY;h<=this.maxY;h=h+b){if(!i[h]){this.yTicks[this.yTicks.length]=h;i[h]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(g,b,a){this.leftConstraint=g;this.rightConstraint=b;this.minX=this.initPageX-g;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,g,b){this.topConstraint=a;this.bottomConstraint=g;this.minY=this.initPageY-a;this.maxY=this.initPageY+g;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var a=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var b=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(a,b)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(i,o){if(!o){return i}else{if(o[0]>=i){return o[0]}else{for(var m=0,l=o.length;m<l;++m){var n=m+1;if(o[n]&&o[n]>=i){var b=i-o[m];var a=o[n]-i;return(a>b)?o[m]:o[n]}}return o[o.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var b=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(j,i){for(var k in this.ids){for(var h in this.ids[k]){var a=this.ids[k][h];if(!this.isTypeOfDD(a)){continue}a[j].apply(a,i)}}},_onLoad:function(){this.init();b.on(document,"mouseup",this.handleMouseUp,this,true);b.on(document,"mousemove",this.handleMouseMove,this,true);b.on(window,"unload",this._onUnload,this,true);b.on(window,"resize",this._onResize,this,true)},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(d,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][d.id]=d},removeDDFromGroup:function(g,a){if(!this.ids[a]){this.ids[a]={}}var e=this.ids[a];if(e&&e[g.id]){delete e[g.id]}},_remove:function(d){for(var a in d.groups){if(a&&this.ids[a]&&this.ids[a][d.id]){delete this.ids[a][d.id]}}delete this.handleIds[d.id]},regHandle:function(d,a){if(!this.handleIds[d]){this.handleIds[d]={}}this.handleIds[d][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(a,j){var m=[];for(var l in a.groups){for(var k in this.ids[l]){var i=this.ids[l][k];if(!this.isTypeOfDD(i)){continue}if(!j||i.isTarget){m[m.length]=i}}}return m},isLegalTarget:function(a,k){var i=this.getRelated(a,true);for(var j=0,h=i.length;j<h;++j){if(i[j].id==k.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(d,a){return(this.handleIds[d]&&this.handleIds[d][a])},getDDById:function(d){for(var a in this.ids){if(this.ids[a][d]){return this.ids[a][d]}}return null},handleMouseDown:function(g,e){if(Ext.QuickTips){Ext.QuickTips.ddDisable()}if(this.dragCurrent){this.handleMouseUp(g)}this.currentTarget=g.getTarget();this.dragCurrent=e;var a=e.getEl();this.startX=g.getPageX();this.startY=g.getPageY();this.deltaX=this.startX-a.offsetLeft;this.deltaY=this.startY-a.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var c=Ext.dd.DDM;c.startDrag(c.startX,c.startY)},this.clickTimeThresh)},startDrag:function(a,d){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(a,d);this.dragCurrent.startDrag(a,d)}this.dragThreshMet=true},handleMouseUp:function(a){if(Ext.QuickTips){Ext.QuickTips.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(a,true)}else{}this.stopDrag(a);this.stopEvent(a)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(a){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(a);this.dragCurrent.endDrag(a)}this.dragCurrent.onMouseUp(a)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(g){if(!this.dragCurrent){return true}if(Ext.isIE&&(g.button!==0&&g.button!==1&&g.button!==2)){this.stopEvent(g);return this.handleMouseUp(g)}if(!this.dragThreshMet){var e=Math.abs(this.startX-g.getPageX());var a=Math.abs(this.startY-g.getPageY());if(e>this.clickPixelThresh||a>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(g);this.dragCurrent.onDrag(g);if(!this.dragCurrent.moveOnly){this.fireEvents(g,false)}}this.stopEvent(g);return true},fireEvents:function(x,y){var e=this.dragCurrent;if(!e||e.isLocked()){return}var i=x.getPoint();var z=[];var C=[];var v=[];var t=[];var B=[];for(var s in this.dragOvers){var A=this.dragOvers[s];if(!this.isTypeOfDD(A)){continue}if(!this.isOverTarget(i,A,this.mode)){C.push(A)}z[s]=true;delete this.dragOvers[s]}for(var a in e.groups){if("string"!=typeof a){continue}for(s in this.ids[a]){var u=this.ids[a][s];if(!this.isTypeOfDD(u)){continue}if(u.isTarget&&!u.isLocked()&&((u!=e)||(e.ignoreSelf===false))){if(this.isOverTarget(i,u,this.mode)){if(y){t.push(u)}else{if(!z[u.id]){B.push(u)}else{v.push(u)}this.dragOvers[u.id]=u}}}}}if(this.mode){if(C.length){e.b4DragOut(x,C);e.onDragOut(x,C)}if(B.length){e.onDragEnter(x,B)}if(v.length){e.b4DragOver(x,v);e.onDragOver(x,v)}if(t.length){e.b4DragDrop(x,t);e.onDragDrop(x,t)}}else{var w=0;for(s=0,w=C.length;s<w;++s){e.b4DragOut(x,C[s].id);e.onDragOut(x,C[s].id)}for(s=0,w=B.length;s<w;++s){e.onDragEnter(x,B[s].id)}for(s=0,w=v.length;s<w;++s){e.b4DragOver(x,v[s].id);e.onDragOver(x,v[s].id)}for(s=0,w=t.length;s<w;++s){e.b4DragDrop(x,t[s].id);e.onDragDrop(x,t[s].id)}}if(y&&!t.length){e.onInvalidDrop(x)}},getBestMatch:function(j){var a=null;var i=j.length;if(i==1){a=j[0]}else{for(var k=0;k<i;++k){var h=j[k];if(h.cursorIsOver){a=h;break}else{if(!a||a.overlap.getArea()<h.overlap.getArea()){a=h}}}}return a},refreshCache:function(i){for(var h in i){if("string"!=typeof h){continue}for(var j in this.ids[h]){var k=this.ids[h][j];if(this.isTypeOfDD(k)){var a=this.getLocation(k);if(a){this.locationCache[k.id]=a}else{delete this.locationCache[k.id]}}}}},verifyEl:function(e){if(e){var a;if(Ext.isIE){try{a=e.offsetParent}catch(g){}}else{a=e.offsetParent}if(a){return true}}return false},getLocation:function(u){if(!this.isTypeOfDD(u)){return null}var r=u.getEl(),y,B,A,e,a,l,z,x,t,w;try{y=Ext.lib.Dom.getXY(r)}catch(v){}if(!y){return null}B=y[0];A=B+r.offsetWidth;e=y[1];a=e+r.offsetHeight;l=e-u.padding[0];z=A+u.padding[1];x=a+u.padding[2];t=B-u.padding[3];w=new Ext.lib.Region(l,z,x,t);r=Ext.get(r.parentNode);while(r&&w){if(r.isScrollable()){w=w.intersect(r.getRegion())}r=r.parent()}return w},isOverTarget:function(n,o,q){var s=this.locationCache[o.id];if(!s||!this.useCache){s=this.getLocation(o);this.locationCache[o.id]=s}if(!s){return false}o.cursorIsOver=s.contains(n);var m=this.dragCurrent;if(!m||!m.getTargetCoord||(!q&&!m.constrainX&&!m.constrainY)){return o.cursorIsOver}o.overlap=null;var a=m.getTargetCoord(n.x,n.y);var p=m.getDragEl();var r=new Ext.lib.Region(a.y,a.x+p.offsetWidth,a.y+p.offsetHeight,a.x);var l=r.intersect(s);if(l){o.overlap=l;return(q)?true:o.cursorIsOver}else{return false}},_onUnload:function(d,a){b.removeListener(document,"mouseup",this.handleMouseUp,this);b.removeListener(document,"mousemove",this.handleMouseMove,this);b.removeListener(window,"resize",this._onResize,this);Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var a in this.elementCache){delete this.elementCache[a]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(d){var a=this.elementCache[d];if(!a||!a.el){a=this.elementCache[d]=new this.ElementWrapper(Ext.getDom(d))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(d){var a=Ext.getDom(d);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.lib.Dom.getX(a)},getPosY:function(a){return Ext.lib.Dom.getY(a)},swapNode:function(h,a){if(h.swapNode){h.swapNode(a)}else{var i=a.parentNode;var g=a.nextSibling;if(g==h){i.insertBefore(h,a)}else{if(a==h.nextSibling){i.insertBefore(a,h)}else{h.parentNode.replaceChild(a,h);i.insertBefore(h,g)}}}},getScroll:function(){var h,a,i=document.documentElement,g=document.body;if(i&&(i.scrollTop||i.scrollLeft)){h=i.scrollTop;a=i.scrollLeft}else{if(g){h=g.scrollTop;a=g.scrollLeft}else{}}return{top:h,left:a}},getStyle:function(d,a){return Ext.fly(d).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,g){var e=Ext.lib.Dom.getXY(g);Ext.lib.Dom.setXY(a,e)},numericSort:function(a,e){return(a-e)},_timeoutCount:0,_addListeners:function(){var a=Ext.dd.DDM;if(Ext.lib.Event&&document){a._onLoad()}else{if(a._timeoutCount>2000){}else{setTimeout(a._addListeners,10);if(document&&document.body){a._timeoutCount+=1}}}},handleWasClicked:function(a,g){if(this.isHandle(g,a.id)){return true}else{var e=a.parentNode;while(e){if(this.isHandle(g,e.id)){return true}else{e=e.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(g,d,e){if(g){this.init(g,d,e)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(h,g){var e=h-this.startPageX;var i=g-this.startPageY;this.setDelta(e,i)},setDelta:function(d,c){this.deltaX=d;this.deltaY=c},setDragElPos:function(g,e){var d=this.getDragEl();this.alignElWithMouse(d,g,e)},alignElWithMouse:function(n,j,q){var p=this.getTargetCoord(j,q);var m=n.dom?n:Ext.fly(n,"_dd");if(!this.deltaSetXY){var k=[p.x,p.y];m.setXY(k);var o=m.getLeft(true);var l=m.getTop(true);this.deltaSetXY=[o-p.x,l-p.y]}else{m.setLeftTop(p.x+this.deltaSetXY[0],p.y+this.deltaSetXY[1])}this.cachePosition(p.x,p.y);this.autoScroll(p.x,p.y,n.offsetHeight,n.offsetWidth);return p},cachePosition:function(e,d){if(e){this.lastPageX=e;this.lastPageY=d}else{var g=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=g[0];this.lastPageY=g[1]}},autoScroll:function(t,s,B,u){if(this.scroll){var v=Ext.lib.Dom.getViewHeight();var y=Ext.lib.Dom.getViewWidth();var h=this.DDM.getScrollTop();var A=this.DDM.getScrollLeft();var r=B+s;var w=u+t;var q=(v+h-s-this.deltaY);var C=(y+A-t-this.deltaX);var z=40;var x=(document.all)?80:30;if(r>v&&q<z){window.scrollTo(A,h+x)}if(s<h&&h>0&&s-h<z){window.scrollTo(A,h-x)}if(w>y&&C<z){window.scrollTo(A+x,h)}if(t<A&&A>0&&t-A<z){window.scrollTo(A-x,h)}}},getTargetCoord:function(h,g){var e=h-this.deltaX;var i=g-this.deltaY;if(this.constrainX){if(e<this.minX){e=this.minX}if(e>this.maxX){e=this.maxX}}if(this.constrainY){if(i<this.minY){i=this.minY}if(i>this.maxY){i=this.maxY}}e=this.getTick(e,this.xTicks);i=this.getTick(i,this.yTicks);return{x:e,y:i}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){this.autoOffset(b.getPageX(),b.getPageY())},b4Drag:function(b){this.setDragElPos(b.getPageX(),b.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(g,d,e){if(g){this.init(g,d,e);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var g=this;var e=document.body;if(!e||!e.firstChild){setTimeout(function(){g.createFrame()},50);return}var i=this.getDragEl();if(!i){i=document.createElement("div");i.id=this.dragElId;var h=i.style;h.position="absolute";h.visibility="hidden";h.cursor="move";h.border="2px solid #aaa";h.zIndex=999;e.insertBefore(i,e.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(k,j){var i=this.getEl();var g=this.getDragEl();var h=g.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(h.width,10)/2),Math.round(parseInt(h.height,10)/2))}this.setDragElPos(k,j);Ext.fly(g).show()},_resizeProxy:function(){if(this.resizeFrame){var b=this.getEl();Ext.fly(this.getDragEl()).setSize(b.offsetWidth,b.offsetHeight)}},b4MouseDown:function(e){var d=e.getPageX();var g=e.getPageY();this.autoOffset(d,g);this.setDragElPos(d,g)},b4StartDrag:function(c,d){this.showFrame(c,d)},b4EndDrag:function(b){Ext.fly(this.getDragEl()).hide()},endDrag:function(g){var e=this.getEl();var d=this.getDragEl();d.style.visibility="";this.beforeMove();e.style.visibility="hidden";Ext.dd.DDM.moveToEl(e,d);d.style.visibility="hidden";e.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(g,d,e){if(g){this.initTarget(g,d,e)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(b){Ext.apply(this,b);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,b)},initEl:function(b){this.el=Ext.get(b);b.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);delete this.el},onMouseDown:function(d,c){if(this.fireEvent("mousedown",this,d)!==false&&this.onBeforeStart(d)!==false){this.startXY=this.lastXY=d.getXY();this.dragTarget=this.delegate?c:this.el.dom;if(this.preventDefault!==false){d.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this,[d])}}},onMouseMove:function(i,h){if(this.active&&Ext.isIE&&!i.browserEvent.button){i.preventDefault();this.onMouseUp(i);return}i.preventDefault();var g=i.getXY(),e=this.startXY;this.lastXY=g;if(!this.active){if(Math.abs(e[0]-g[0])>this.tolerance||Math.abs(e[1]-g[1])>this.tolerance){this.triggerStart(i)}else{return}}this.fireEvent("mousemove",this,i);this.onDrag(i);this.fireEvent("drag",this,i)},onMouseUp:function(g){var e=Ext.getDoc(),d=this.active;e.un("mousemove",this.onMouseMove,this);e.un("mouseup",this.onMouseUp,this);e.un("selectstart",this.stopSelect,this);g.preventDefault();this.clearStart();this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,g);if(d){this.onEnd(g);this.fireEvent("dragend",this,g)}},triggerStart:function(b){this.clearStart();this.active=true;this.onStart(b);this.fireEvent("dragstart",this,b)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(b){b.stopEvent();return false},onBeforeStart:function(b){},onStart:function(b){},onDrag:function(b){},onEnd:function(b){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(b){return b?this.constrainModes[b].call(this,this.lastXY):this.lastXY},getOffset:function(g){var e=this.getXY(g),d=this.startXY;return[d[0]-e[0],d[1]-e[1]]},constrainModes:{point:function(d){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var c=this.dragRegion;c.left=d[0];c.top=d[1];c.right=d[0];c.bottom=d[1];c.constrainTo(this.elRegion);return[c.left,c.top]}}});Ext.dd.ScrollManager=function(){var r=Ext.dd.DragDropMgr;var t={};var q=null;var m={};var l=function(a){q=null;p()};var n=function(){if(r.dragCurrent){r.refreshCache(r.dragCurrent.groups)}};var s=function(){if(r.dragCurrent){var a=Ext.dd.ScrollManager;var b=m.el.ddScrollConfig?m.el.ddScrollConfig.increment:a.increment;if(!a.animate){if(m.el.scroll(m.dir,b)){n()}}else{m.el.scroll(m.dir,b,true,a.animDuration,n)}}};var p=function(){if(m.id){clearInterval(m.id)}m.id=0;m.el=null;m.dir=""};var u=function(c,b){p();m.el=c;m.dir=b;var a=c.ddScrollConfig?c.ddScrollConfig.ddGroup:undefined,d=(c.ddScrollConfig&&c.ddScrollConfig.frequency)?c.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;if(a===undefined||r.dragCurrent.ddGroup==a){m.id=setInterval(s,d)}};var o=function(d,g){if(g||!r.dragCurrent){return}var h=Ext.dd.ScrollManager;if(!q||q!=r.dragCurrent){q=r.dragCurrent;h.refreshCache()}var i=Ext.lib.Event.getXY(d);var j=new Ext.lib.Point(i[0],i[1]);for(var b in t){var c=t[b],a=c._region;var e=c.ddScrollConfig?c.ddScrollConfig:h;if(a&&a.contains(j)&&c.isScrollable()){if(a.bottom-j.y<=e.vthresh){if(m.el!=c){u(c,"down")}return}else{if(a.right-j.x<=e.hthresh){if(m.el!=c){u(c,"left")}return}else{if(j.y-a.top<=e.vthresh){if(m.el!=c){u(c,"up")}return}else{if(j.x-a.left<=e.hthresh){if(m.el!=c){u(c,"right")}return}}}}}}p()};r.fireEvents=r.fireEvents.createSequence(o,r);r.stopDrag=r.stopDrag.createSequence(l,r);return{register:function(c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.register(c[b])}}else{c=Ext.get(c);t[c.id]=c}},unregister:function(c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.unregister(c[b])}}else{c=Ext.get(c);delete t[c.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){for(var a in t){if(typeof t[a]=="object"){t[a]._region=t[a].getRegion()}}}}}();Ext.dd.Registry=function(){var i={};var g={};var e=0;var h=function(b,c){if(typeof b=="string"){return b}var a=b.id;if(!a&&c!==false){a="extdd-"+(++e);b.id=a}return a};return{register:function(c,d){d=d||{};if(typeof c=="string"){c=document.getElementById(c)}d.ddel=c;i[h(c)]=d;if(d.isHandle!==false){g[d.ddel.id]=d}if(d.handles){var a=d.handles;for(var b=0,l=a.length;b<l;b++){g[h(a[b])]=d}}},unregister:function(b){var d=h(b,false);var c=i[d];if(c){delete i[d];if(c.handles){var a=c.handles;for(var n=0,m=a.length;n<m;n++){delete g[h(a[n],false)]}}}},getHandle:function(a){if(typeof a!="string"){a=a.id}return g[a]},getHandleFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?g[b.id]:null},getTarget:function(a){if(typeof a!="string"){a=a.id}return i[a]},getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);return b?i[b.id]||g[b.id]:null}}}();Ext.dd.StatusProxy=function(b){Ext.apply(this,b);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!b||b.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(b){b=b||this.dropNotAllowed;if(this.dropStatus!=b){this.el.replaceClass(this.dropStatus,b);this.dropStatus=b}},reset:function(b){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(b){this.ghost.update("")}},update:function(c){if(typeof c=="string"){this.ghost.update(c)}else{this.ghost.update("");c.style.margin="0";this.ghost.dom.appendChild(c)}var d=this.ghost.dom.firstChild;if(d){Ext.fly(d).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(b){this.el.hide();if(b){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(e,g,d){this.callback=g;this.scope=d;if(e&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:e,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};Ext.dd.DragSource=function(d,c){this.el=Ext.get(d);if(!this.dragData){this.dragData={}}Ext.apply(this,c);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(b){return this.dragData},onDragEnter:function(h,i){var g=Ext.dd.DragDropMgr.getDDById(i);this.cachedTarget=g;if(this.beforeDragEnter(g,h,i)!==false){if(g.isNotifyTarget){var e=g.notifyEnter(this,h,this.dragData);this.proxy.setStatus(e)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(g,h,i)}}},beforeDragEnter:function(e,d,g){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(h,i){var g=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(i);if(this.beforeDragOver(g,h,i)!==false){if(g.isNotifyTarget){var e=g.notifyOver(this,h,this.dragData);this.proxy.setStatus(e)}if(this.afterDragOver){this.afterDragOver(g,h,i)}}},beforeDragOver:function(e,d,g){return true},onDragOut:function(e,g){var d=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragOut(d,e,g)!==false){if(d.isNotifyTarget){d.notifyOut(this,e,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(d,e,g)}}this.cachedTarget=null},beforeDragOut:function(e,d,g){return true},onDragDrop:function(e,g){var d=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(g);if(this.beforeDragDrop(d,e,g)!==false){if(d.isNotifyTarget){if(d.notifyDrop(this,e,this.dragData)){this.onValidDrop(d,e,g)}else{this.onInvalidDrop(d,e,g)}}else{this.onValidDrop(d,e,g)}if(this.afterDragDrop){this.afterDragDrop(d,e,g)}}delete this.cachedTarget},beforeDragDrop:function(e,d,g){return true},onValidDrop:function(e,d,g){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(e,d,g)}},getRepairXY:function(d,c){return this.el.getXY()},onInvalidDrop:function(e,d,g){this.beforeInvalidDrop(e,d,g);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,d,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(d,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(d,g)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(e,d,g){return true},handleMouseDown:function(d){if(this.dragging){return}var c=this.getDragData(d);if(c&&this.onBeforeDrag(c,d)!==false){this.dragData=c;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(c,d){return true},onStartDrag:Ext.emptyFn,startDrag:function(c,d){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(c,d);this.proxy.show()},onInitDrag:function(d,g){var e=this.el.dom.cloneNode(true);e.id=Ext.id();this.proxy.update(e);this.onStartDrag(d,g);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(b){},endDrag:function(b){this.onEndDrag(this.dragData,b)},onEndDrag:function(c,d){},autoOffset:function(c,d){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.dd.DropTarget=Ext.extend(Ext.dd.DDTarget,{constructor:function(d,c){this.el=Ext.get(d);Ext.apply(this,c);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(d,g,e){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(d,g,e){return this.dropAllowed},notifyOut:function(d,g,e){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(d,g,e){return false},destroy:function(){Ext.dd.DropTarget.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DragZone=Ext.extend(Ext.dd.DragSource,{constructor:function(d,c){Ext.dd.DragZone.superclass.constructor.call(this,d,c);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(b){return Ext.dd.Registry.getHandleFromEvent(b)},onInitDrag:function(c,d){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(c,d);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(b){return Ext.Element.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragZone.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DropZone=function(d,c){Ext.dd.DropZone.superclass.constructor.call(this,d,c)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(b){return Ext.dd.Registry.getTargetFromEvent(b)},onNodeEnter:function(i,e,h,g){},onNodeOver:function(i,e,h,g){return this.dropAllowed},onNodeOut:function(i,e,h,g){},onNodeDrop:function(i,e,h,g){return false},onContainerOver:function(d,g,e){return this.dropNotAllowed},onContainerDrop:function(d,g,e){return false},notifyEnter:function(d,g,e){return this.dropNotAllowed},notifyOver:function(e,h,g){var i=this.getTargetFromEvent(h);if(!i){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,h,g);this.lastOverNode=null}return this.onContainerOver(e,h,g)}if(this.lastOverNode!=i){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,h,g)}this.onNodeEnter(i,e,h,g);this.lastOverNode=i}return this.onNodeOver(i,e,h,g)},notifyOut:function(d,g,e){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,d,g,e);this.lastOverNode=null}},notifyDrop:function(e,h,g){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,e,h,g);this.lastOverNode=null}var i=this.getTargetFromEvent(h);return i?this.onNodeDrop(i,e,h,g):this.onContainerDrop(e,h,g)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(h,g,i){var e=new Ext.dd.DD(Ext.id(this.dom),h,g);return Ext.apply(e,i)},initDDProxy:function(h,g,i){var e=new Ext.dd.DDProxy(Ext.id(this.dom),h,g);return Ext.apply(e,i)},initDDTarget:function(h,g,i){var e=new Ext.dd.DDTarget(Ext.id(this.dom),h,g);return Ext.apply(e,i)}});Ext.data.Api=(function(){var b={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(a){return(Ext.data.Api.actions[a])?true:false},getVerb:function(a){if(b[a]){return b[a]}for(var d in this.actions){if(this.actions[d]===a){b[a]=d;break}}return(b[a]!==undefined)?b[a]:null},isValid:function(a){var i=[];var h=this.actions;for(var g in a){if(!(g in h)){i.push(g)}}return(!i.length)?true:i},hasUniqueUrl:function(i,a){var h=(i.api[a])?i.api[a].url:null;var k=true;for(var j in i.api){if((k=(j===a)?true:(i.api[j].url!=h)?true:false)===false){break}}return k},prepare:function(a){if(!a.api){a.api={}}for(var g in this.actions){var e=this.actions[g];a.api[e]=a.api[e]||a.url||a.directFn;if(typeof(a.api[e])=="string"){a.api[e]={url:a.api[e],method:(a.restful===true)?Ext.data.Api.restActions[e]:undefined}}}},restify:function(a){a.restful=true;for(var d in this.restActions){a.api[this.actions[d]].method||(a.api[this.actions[d]].method=this.restActions[d])}a.onWrite=a.onWrite.createInterceptor(function(k,l,o,n){var m=l.reader;var c=new Ext.data.Response({action:k,raw:o});switch(o.status){case 200:return true;break;case 201:if(Ext.isEmpty(c.raw.responseText)){c.success=true}else{return true}break;case 204:c.success=true;c.data=null;break;default:return true;break}if(c.success===true){this.fireEvent("write",this,k,c.data,c,n,l.request.arg)}else{this.fireEvent("exception",this,"remote",k,l,c,n)}l.request.callback.call(l.request.scope,c.data,c,c.success);return false},a)}}})();Ext.data.Response=function(d,c){Ext.apply(this,d,{raw:c})};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(d,c){this.arg=c;Ext.Error.call(this,d)},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});Ext.data.SortTypes={none:function(b){return b},stripTagsRE:/<\/?[^>]+>/gi,asText:function(b){return String(b).replace(this.stripTagsRE,"")},asUCText:function(b){return String(b).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(b){return String(b).toUpperCase()},asDate:function(b){if(!b){return 0}if(Ext.isDate(b)){return b.getTime()}return Date.parse(String(b))},asFloat:function(c){var d=parseFloat(String(c).replace(/,/g,""));return isNaN(d)?0:d},asInt:function(c){var d=parseInt(String(c).replace(/,/g,""),10);return isNaN(d)?0:d}};Ext.data.Record=function(c,d){this.id=(d||d===0)?d:Ext.data.Record.id(this);this.data=c||{}};Ext.data.Record.create=function(k){var i=Ext.extend(Ext.data.Record,{});var j=i.prototype;j.fields=new Ext.util.MixedCollection(false,function(a){return a.name});for(var h=0,g=k.length;h<g;h++){j.fields.add(new Ext.data.Field(k[h]))}i.getField=function(a){return j.fields.get(a)};return i};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(b){b.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(b){this.store=b},set:function(d,g){var e=Ext.isPrimitive(g)?String:Ext.encode;if(e(this.data[d])==e(g)){return}this.dirty=true;if(!this.modified){this.modified={}}if(this.modified[d]===undefined){this.modified[d]=this.data[d]}this.data[d]=g;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this)}},afterReject:function(){if(this.store){this.store.afterReject(this)}},afterCommit:function(){if(this.store){this.store.afterCommit(this)}},get:function(b){return this.data[b]},beginEdit:function(){this.editing=true;this.modified=this.modified||{}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit()}},reject:function(e){var d=this.modified;for(var g in d){if(typeof d[g]!="function"){this.data[g]=d[g]}}this.dirty=false;delete this.modified;this.editing=false;if(e!==true){this.afterReject()}},commit:function(b){this.dirty=false;delete this.modified;this.editing=false;if(b!==true){this.afterCommit()}},getChanges:function(){var d=this.modified,e={};for(var g in d){if(d.hasOwnProperty(g)){e[g]=this.data[g]}}return e},hasError:function(){return this.error!==null},clearError:function(){this.error=null},copy:function(b){return new this.constructor(Ext.apply({},this.data),b||this.id)},isModified:function(b){return !!(this.modified&&this.modified.hasOwnProperty(b))},isValid:function(){return this.fields.find(function(b){return(b.allowBlank===false&&Ext.isEmpty(this.data[b.name]))?true:false},this)?false:true},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(b){this.modified[b.name]=this.data[b.name]},this)}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var c=0,d;(d=arguments[c]);c++){this.add(d)}},unregister:function(){for(var c=0,d;(d=arguments[c]);c++){this.remove(this.lookup(d))}},lookup:function(k){if(Ext.isArray(k)){var h=["field1"],j=!Ext.isArray(k[0]);if(!j){for(var i=2,g=k[0].length;i<=g;++i){h.push("field"+i)}}return new Ext.data.ArrayStore({fields:h,data:k,expandData:j,autoDestroy:true,autoCreated:true})}return Ext.isObject(k)?(k.events?k:Ext.create(k,"store")):this.get(k)},getKey:function(b){return b.storeId}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(b){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(a){return a.id};this.removed=[];if(b&&b.data){this.inlineData=b.data;delete b.data}Ext.apply(this,b);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy)}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer)}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"])}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear})}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir)}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}this.batchCounter=0;this.batches={}},buildWriter:function(e){var d=undefined,g=(e.format||"json").toLowerCase();switch(g){case"json":d=Ext.data.JsonWriter;break;case"xml":d=Ext.data.XmlWriter;break;default:d=Ext.data.JsonWriter}return new d(e)},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true}},add:function(i){var k,g,h,j;i=[].concat(i);if(i.length<1){return}for(k=0,g=i.length;k<g;k++){h=i[k];h.join(this);if(h.dirty||h.phantom){this.modified.push(h)}}j=this.data.length;this.data.addAll(i);if(this.snapshot){this.snapshot.addAll(i)}this.fireEvent("add",this,i,j)},addSorted:function(c){var d=this.findInsertIndex(c);this.insert(d,c)},doUpdate:function(c){var d=c.id;this.getById(d).join(null);this.data.replace(d,c);if(this.snapshot){this.snapshot.replace(d,c)}c.join(this);this.fireEvent("update",this,c,Ext.data.Record.COMMIT)},remove:function(c){if(Ext.isArray(c)){Ext.each(c,function(a){this.remove(a)},this);return}var d=this.data.indexOf(c);if(d>-1){c.join(null);this.data.removeAt(d)}if(this.pruneModifiedRecords){this.modified.remove(c)}if(this.snapshot){this.snapshot.remove(c)}if(d>-1){this.fireEvent("remove",this,c,d)}},removeAt:function(b){this.remove(this.getAt(b))},removeAll:function(d){var c=[];this.each(function(a){c.push(a)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}if(d!==true){this.fireEvent("clear",this,c)}},onClear:function(d,c){Ext.each(c,function(a,b){this.destroyRecord(this,a,b)},this)},insert:function(j,i){var k,g,h;i=[].concat(i);for(k=0,g=i.length;k<g;k++){h=i[k];this.data.insert(j+k,h);h.join(this);if(h.dirty||h.phantom){this.modified.push(h)}}if(this.snapshot){this.snapshot.addAll(i)}this.fireEvent("add",this,i,j)},indexOf:function(b){return this.data.indexOf(b)},indexOfId:function(b){return this.data.indexOfKey(b)},getById:function(b){return(this.snapshot||this.data).key(b)},getAt:function(b){return this.data.itemAt(b)},getRange:function(d,c){return this.data.getRange(d,c)},storeOptions:function(b){b=Ext.apply({},b);delete b.callback;delete b.scope;this.lastOptions=b},clearData:function(){this.data.each(function(b){b.join(null)});this.data.clear()},load:function(e){e=Ext.apply({},e);this.storeOptions(e);if(this.sortInfo&&this.remoteSort){var d=this.paramNames;e.params=Ext.apply({},e.params);e.params[d.sort]=this.sortInfo.field;e.params[d.dir]=this.sortInfo.direction}try{return this.execute("read",null,e)}catch(g){this.handleException(g);return false}},updateRecord:function(e,d,g){if(g==Ext.data.Record.EDIT&&this.autoSave===true&&(!d.phantom||(d.phantom&&d.isValid()))){this.save()}},createRecords:function(l,k,n){var m=this.modified,i=k.length,j,o;for(o=0;o<i;o++){j=k[o];if(j.phantom&&j.isValid()){j.markDirty();if(m.indexOf(j)==-1){m.push(j)}}}if(this.autoSave===true){this.save()}},destroyRecord:function(e,d,g){if(this.modified.indexOf(d)!=-1){this.modified.remove(d)}if(!d.phantom){this.removed.push(d);d.lastIndex=g;if(this.autoSave===true){this.save()}}},execute:function(k,g,i,h){if(!Ext.data.Api.isAction(k)){throw new Ext.data.Api.Error("execute",k)}i=Ext.applyIf(i||{},{params:{}});if(h!==undefined){this.addToBatch(h)}var j=true;if(k==="read"){j=this.fireEvent("beforeload",this,i);Ext.applyIf(i.params,this.baseParams)}else{if(this.writer.listful===true&&this.restful!==true){g=(Ext.isArray(g))?g:[g]}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}}if((j=this.fireEvent("beforewrite",this,k,g,i))!==false){this.writer.apply(i.params,this.baseParams,k,g)}}if(j!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,k)){i.params.xaction=k}this.proxy.request(Ext.data.Api.actions[k],g,i.params,this.reader,this.createCallback(k,g,h),this,i)}return j},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined")}var i=[],l,m,r,p={},q;if(this.removed.length){i.push(["destroy",this.removed])}var o=[].concat(this.getModifiedRecords());if(o.length){var s=[];for(q=o.length-1;q>=0;q--){if(o[q].phantom===true){var n=o.splice(q,1).shift();if(n.isValid()){s.push(n)}}else{if(!o[q].isValid()){o.splice(q,1)}}}if(s.length){i.push(["create",s])}if(o.length){i.push(["update",o])}}l=i.length;if(l){r=++this.batchCounter;for(q=0;q<l;++q){m=i[q];p[m[0]]=m[1]}if(this.fireEvent("beforesave",this,p)!==false){for(q=0;q<l;++q){m=i[q];this.doTransaction(m[0],m[1],r)}return r}}return -1},doTransaction:function(l,i,j){function m(a){try{this.execute(l,a,undefined,j)}catch(b){this.handleException(b)}}if(this.batch===false){for(var k=0,h=i.length;k<h;k++){m.call(this,i[k])}}else{m.call(this,i)}},addToBatch:function(g){var b=this.batches,h=this.batchKey+g,i=b[h];if(!i){b[h]=i={id:g,count:0,data:{}}}++i.count},removeFromBatch:function(m,b,o){var l=this.batches,n=this.batchKey+m,j=l[n],k;if(j){k=j.data[b]||[];j.data[b]=k.concat(o);if(j.count===1){o=j.data;delete l[n];this.fireEvent("save",this,m,o)}else{--j.count}}},createCallback:function(h,e,g){var i=Ext.data.Api.actions;return(h=="read")?this.loadRecords:function(b,c,a){this["on"+Ext.util.Format.capitalize(h)+"Records"](a,e,[].concat(b));if(a===true){this.fireEvent("write",this,h,b,c,e)}this.removeFromBatch(g,h,b)}},clearModified:function(c){if(Ext.isArray(c)){for(var d=c.length-1;d>=0;d--){this.modified.splice(this.modified.indexOf(c[d]),1)}}else{this.modified.splice(this.modified.indexOf(c),1)}},reMap:function(g){if(Ext.isArray(g)){for(var i=0,e=g.length;i<e;i++){this.reMap(g[i])}}else{delete this.data.map[g._phid];this.data.map[g.id]=g;var h=this.data.keys.indexOf(g._phid);this.data.keys.splice(h,1,g.id);delete g._phid}},onCreateRecords:function(i,e,g){if(i===true){try{this.reader.realize(e,g)}catch(h){this.handleException(h);if(Ext.isArray(e)){this.onCreateRecords(i,e,g)}}}},onUpdateRecords:function(i,e,g){if(i===true){try{this.reader.update(e,g)}catch(h){this.handleException(h);if(Ext.isArray(e)){this.onUpdateRecords(i,e,g)}}}},onDestroyRecords:function(k,h,j){h=(h instanceof Ext.data.Record)?[h]:[].concat(h);for(var i=0,g=h.length;i<g;i++){this.removed.splice(this.removed.indexOf(h[i]),1)}if(k===false){for(i=h.length-1;i>=0;i--){this.insert(h[i].lastIndex,h[i])}}},handleException:function(b){Ext.handleError(b)},reload:function(b){this.load(Ext.applyIf(b||{},this.lastOptions))},loadRecords:function(q,o,i){var t,u;if(this.isDestroyed===true){return}if(!q||i===false){if(i!==false){this.fireEvent("load",this,[],o)}if(o.callback){o.callback.call(o.scope||this,[],o,false,q)}return}var p=q.records,m=q.totalRecords||p.length;if(!o||o.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(t=0,u=p.length;t<u;t++){p[t].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.clearData();this.data.addAll(p);this.totalLength=m;this.applySort();this.fireEvent("datachanged",this)}else{var n=[],s,r=0;for(t=0,u=p.length;t<u;++t){s=p[t];if(this.indexOfId(s.id)>-1){this.doUpdate(s)}else{n.push(s);++r}}this.totalLength=Math.max(m,this.data.length+r);this.add(n)}this.fireEvent("load",this,p,o);if(o.callback){o.callback.call(o.scope||this,p,o,true)}},loadData:function(g,d){var e=this.reader.readRecords(g);this.loadRecords(e,{add:d},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData()}},sortData:function(){var l=this.hasMultiSort?this.multiSortInfo:this.sortInfo,j=l.direction||"ASC",i=l.sorters,n=[];if(!this.hasMultiSort){i=[{direction:j,field:l.field}]}for(var o=0,m=i.length;o<m;o++){n.push(this.createSortFunction(i[o].field,i[o].direction))}if(n.length==0){return}var q=j.toUpperCase()=="DESC"?-1:1;var p=function(e,d){var c=n[0].call(this,e,d);if(n.length>1){for(var b=1,a=n.length;b<a;b++){c=c||n[b].call(this,e,d)}}return q*c};this.data.sort(j,p);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(j,p)}},createSortFunction:function(h,g){g=g||"ASC";var e=g.toUpperCase()=="DESC"?-1:1;var i=this.fields.get(h).sortType;return function(b,d){var c=i(b.data[h]),a=i(d.data[h]);return e*(c>a?1:(c<a?-1:0))}},setDefaultSort:function(d,c){c=c?c.toUpperCase():"ASC";this.sortInfo={field:d,direction:c};this.sortToggle[d]=c},sort:function(d,c){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,d,c)}else{return this.singleSort(d,c)}},singleSort:function(m,j){var l=this.fields.get(m);if(!l){return false}var i=l.name,h=this.sortInfo||null,k=this.sortToggle?this.sortToggle[i]:null;if(!j){if(h&&h.field==i){j=(this.sortToggle[i]||"ASC").toggle("ASC","DESC")}else{j=l.sortDir}}this.sortToggle[i]=j;this.sortInfo={field:i,direction:j};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(k){this.sortToggle[i]=k}if(h){this.sortInfo=h}}}else{this.applySort();this.fireEvent("datachanged",this)}return true},multiSort:function(d,c){this.hasMultiSort=true;c=c||"ASC";if(this.multiSortInfo&&c==this.multiSortInfo.direction){c=c.toggle("ASC","DESC")}this.multiSortInfo={sorters:d,direction:c};if(this.remoteSort){this.singleSort(d[0].field,d[0].direction)}else{this.applySort();this.fireEvent("datachanged",this)}},each:function(d,c){this.data.each(d,c)},getModifiedRecords:function(){return this.modified},sum:function(l,m,h){var j=this.data.items,i=0;m=m||0;h=(h||h===0)?h:j.length-1;for(var k=m;k<=h;k++){i+=(j[k].data[l]||0)}return i},createFilterFn:function(j,i,k,g,h){if(Ext.isEmpty(i,false)){return false}i=this.data.createValueMatcher(i,k,g,h);return function(a){return i.test(a.data[j])}},createMultipleFilterFn:function(b){return function(j){var i=true;for(var m=0,l=b.length;m<l;m++){var a=b[m],o=a.fn,n=a.scope;i=i&&o.call(n,j)}return i}},filter:function(r,q,i,j,x){var p;if(Ext.isObject(r)){r=[r]}if(Ext.isArray(r)){var u=[];for(var y=0,w=r.length;y<w;y++){var t=r[y],v=t.fn,s=t.scope||this;if(!Ext.isFunction(v)){v=this.createFilterFn(t.property,t.value,t.anyMatch,t.caseSensitive,t.exactMatch)}u.push({fn:v,scope:s})}p=this.createMultipleFilterFn(u)}else{p=this.createFilterFn(r,q,i,j,x)}return p?this.filterBy(p):this.clearFilter()},filterBy:function(d,c){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(d,c||this);this.fireEvent("datachanged",this)},clearFilter:function(b){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(b!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},query:function(j,i,k,g){var h=this.createFilterFn(j,i,k,g);return h?this.queryBy(h):this.data.clone()},queryBy:function(e,d){var g=this.snapshot||this.data;return g.filterBy(e,d||this)},find:function(k,j,m,l,h){var i=this.createFilterFn(k,j,l,h);return i?this.data.findIndexBy(i,null,m):-1},findExact:function(e,d,g){return this.data.findIndexBy(function(a){return a.get(e)===d},this,g)},findBy:function(e,d,g){return this.data.findIndexBy(e,d,g)},collect:function(i,l,r){var d=(r===true&&this.snapshot)?this.snapshot.items:this.data.items;var o,p,q=[],s={};for(var t=0,u=d.length;t<u;t++){o=d[t].data[i];p=String(o);if((l||!Ext.isEmpty(o))&&!s[p]){s[p]=true;q[q.length]=o}}return q},afterEdit:function(b){if(this.modified.indexOf(b)==-1){this.modified.push(b)}this.fireEvent("update",this,b,Ext.data.Record.EDIT)},afterReject:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.REJECT)},afterCommit:function(b){this.modified.remove(b);this.fireEvent("update",this,b,Ext.data.Record.COMMIT)},commitChanges:function(){var d=this.modified.slice(0),g=d.length,e;for(e=0;e<g;e++){d[e].commit()}this.modified=[];this.removed=[]},rejectChanges:function(){var g=this.modified.slice(0),k=this.removed.slice(0).reverse(),i=g.length,j=k.length,h;for(h=0;h<i;h++){g[h].reject()}for(h=0;h<j;h++){this.insert(k[h].lastIndex||0,k[h]);k[h].reject()}this.modified=[];this.removed=[]},onMetaChange:function(b){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo}}if(this.writer){this.writer.meta=this.reader.meta}this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(d){this.suspendEvents();var g=this.data.clone();this.data.add(d);this.applySort();var e=this.data.indexOf(d);this.data=g;this.resumeEvents();return e},setBaseParam:function(c,d){this.baseParams=this.baseParams||{};this.baseParams[c]=d}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(g){if(Ext.isString(g)){g={name:g}}Ext.apply(this,g);var i=Ext.data.Types,e=this.sortType,h;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||i.AUTO}}else{this.type=i.AUTO}if(Ext.isString(e)){this.sortType=Ext.data.SortTypes[e]}else{if(Ext.isEmpty(e)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(c,d){this.meta=c;this.recordType=Ext.isArray(d)?Ext.data.Record.create(d):d;if(this.recordType){this.buildExtractors()}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(d,g){if(Ext.isArray(d)){for(var e=d.length-1;e>=0;e--){if(Ext.isArray(g)){this.realize(d.splice(e,1).shift(),g.splice(e,1).shift())}else{this.realize(d.splice(e,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(!this.isData(g)){throw new Ext.data.DataReader.Error("realize",d)}d.phantom=false;d._phid=d.id;d.id=this.getId(g);d.data=g;d.commit();d.store.reMap(d)}},update:function(d,g){if(Ext.isArray(d)){for(var e=d.length-1;e>=0;e--){if(Ext.isArray(g)){this.update(d.splice(e,1).shift(),g.splice(e,1).shift())}else{this.update(d.splice(e,1).shift(),g)}}}else{if(Ext.isArray(g)&&g.length==1){g=g.shift()}if(this.isData(g)){d.data=Ext.apply(d.data,g)}d.commit()}},extractData:function(p,t){var n=(this instanceof Ext.data.JsonReader)?"json":"node";var v=[];if(this.isData(p)&&!(this instanceof Ext.data.XmlReader)){p=[p]}var i=this.recordType.prototype.fields,s=i.items,r=i.length,v=[];if(t===true){var q=this.recordType;for(var x=0;x<p.length;x++){var u=p[x];var y=new q(this.extractValues(u,s,r),this.getId(u));y[n]=u;v.push(y)}}else{for(var x=0;x<p.length;x++){var w=this.extractValues(p[x],s,r);w[this.meta.idProperty]=this.getId(p[x]);v.push(w)}}return v},isData:function(b){return(b&&Ext.isObject(b)&&!Ext.isEmpty(this.getId(b)))?true:false},onMetaChange:function(b){delete this.ef;this.meta=b;this.recordType=Ext.data.Record.create(b.fields);this.buildExtractors()}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(d,c){this.arg=c;Ext.Error.call(this,d)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});Ext.data.DataWriter=function(b){Ext.apply(this,b)};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(l,m,k,h){var j=[],i=k+"Record";if(Ext.isArray(h)){Ext.each(h,function(a){j.push(this[i](a))},this)}else{if(h instanceof Ext.data.Record){j=this[i](h)}}this.render(l,m,j)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(m,j){var l=m.fields.map,k={},i=(this.writeAllFields===false&&m.phantom===false)?m.getChanges():m.data,h;Ext.iterate(i,function(b,a){if((h=l[b])){k[h.mapping?h.mapping:h.name]=a}});if(m.phantom){if(m.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(m.data[this.meta.idProperty])){delete k[this.meta.idProperty]}}else{k[this.meta.idProperty]=m.id}return k},toArray:function(d){var c=[];Ext.iterate(d,function(a,b){c.push({name:a,value:b})},this);return c}};Ext.data.DataProxy=function(c){c=c||{};this.api=c.api;this.url=c.url;this.restful=c.restful;this.listeners=c.listeners;this.prettyUrls=c.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(d){if(d instanceof Ext.data.Api.Error){d.toConsole()}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var b=Ext.data.Api.isValid(arguments[0]);if(b===true){this.api=arguments[0]}else{throw new Ext.data.Api.Error("invalid",b)}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0])}this.api[arguments[0]]=arguments[1]}}Ext.data.Api.prepare(this)},isApiAction:function(b){return(this.api[b])?true:false},request:function(n,k,o,j,i,m,l){if(!this.api[n]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",n)}o=o||{};if((n===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,o):this.fireEvent("beforewrite",this,n,k,o)!==false){this.doRequest.apply(this,arguments)}else{i.call(m||this,null,l,false)}},load:null,doRequest:function(n,k,o,j,i,m,l){this.load(o,j,i,m,l)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(j,h){h=h||null;var i=(this.conn&&this.conn.url)?this.conn.url:(this.api[j])?this.api[j].url:this.url;if(!i){throw new Ext.data.Api.Error("invalid-url",j)}var k=null;var g=i.match(/(.*)(\.json|\.xml|\.html)$/);if(g){k=g[2];i=g[1]}if((this.restful===true||this.prettyUrls===true)&&h instanceof Ext.data.Record&&!h.phantom){i+="/"+h.id}return(k===null)?i:i+k},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(d,c){this.arg=c;Ext.Error.call(this,d)},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(b){Ext.apply(this,b)};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(b){Ext.apply(this,b)};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};Ext.data.ScriptTagProxy=function(b){Ext.apply(this,b);Ext.data.ScriptTagProxy.superclass.constructor.call(this,b);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(x,y,w,n,p,q,r){var v=Ext.urlEncode(Ext.apply(w,this.extraParams));var u=this.buildUrl(x,y);if(!u){throw new Ext.data.Api.Error("invalid-url",u)}u=Ext.urlAppend(u,v);if(this.nocache){u=Ext.urlAppend(u,"_dc="+(new Date().getTime()))}var t=++Ext.data.ScriptTagProxy.TRANS_ID;var s={id:t,action:x,cb:"stcCallback"+t,scriptId:"stcScript"+t,params:w,arg:r,url:u,callback:p,scope:q,reader:n};window[s.cb]=this.createCallback(x,y,s);u+=String.format("&{0}={1}",this.callbackParam,s.cb);if(this.autoAbort!==false){this.abort()}s.timeoutId=this.handleFailure.defer(this.timeout,this,[s]);var o=document.createElement("script");o.setAttribute("src",u);o.setAttribute("type","text/javascript");o.setAttribute("id",s.scriptId);this.head.appendChild(o);this.trans=s},createCallback:function(i,g,h){var e=this;return function(a){e.trans=false;e.destroyTrans(h,true);if(i===Ext.data.Api.actions.read){e.onRead.call(e,i,h,a)}else{e.onWrite.call(e,i,h,a,g)}}},onRead:function(k,j,i){var h;try{h=j.reader.readRecords(i)}catch(e){this.fireEvent("loadexception",this,j,i,e);this.fireEvent("exception",this,"response",k,j,i,e);j.callback.call(j.scope||window,null,j.arg,false);return}if(h.success===false){this.fireEvent("loadexception",this,j,i);this.fireEvent("exception",this,"remote",k,j,i,null)}else{this.fireEvent("load",this,i,j.arg)}j.callback.call(j.scope||window,h,j.arg,h.success)},onWrite:function(e,o,m,l){var k=o.reader;try{var n=k.readResponse(e,m)}catch(j){this.fireEvent("exception",this,"response",e,o,n,j);o.callback.call(o.scope||window,null,n,false);return}if(!n.success===true){this.fireEvent("exception",this,"remote",e,o,n,l);o.callback.call(o.scope||window,null,n,false);return}this.fireEvent("write",this,e,n.data,n,l,o.arg);o.callback.call(o.scope||window,n.data,n,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(e,d){this.head.removeChild(document.getElementById(e.scriptId));clearTimeout(e.timeoutId);if(d){window[e.cb]=undefined;try{delete window[e.cb]}catch(g){}}else{window[e.cb]=function(){window[e.cb]=undefined;try{delete window[e.cb]}catch(a){}}}},handleFailure:function(b){this.trans=false;this.destroyTrans(b,false);if(b.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,b.arg)}this.fireEvent("exception",this,"response",b.action,{response:null,options:b.arg});b.callback.call(b.scope||window,null,b.arg,false)},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});Ext.data.HttpProxy=function(d){Ext.data.HttpProxy.superclass.constructor.call(this,d);this.conn=d;this.conn.url=null;this.useAjax=!d||!d.events;var g=Ext.data.Api.actions;this.activeRequest={};for(var e in g){this.activeRequest[g[e]]=undefined}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(c,d){this.conn.url=c;if(d===true){this.url=c;this.api=null;Ext.data.Api.prepare(this)}},doRequest:function(q,o,k,n,m,p,l){var j={method:(this.api[q])?this.api[q]["method"]:undefined,request:{callback:m,scope:p,arg:l},reader:n,callback:this.createCallback(q,o),scope:this};if(k.jsonData){j.jsonData=k.jsonData}else{if(k.xmlData){j.xmlData=k.xmlData}else{j.params=k||{}}}this.conn.url=this.buildUrl(q,o);if(this.useAjax){Ext.applyIf(j,this.conn);if(this.activeRequest[q]){}this.activeRequest[q]=Ext.Ajax.request(j)}else{this.conn.request(j)}this.conn.url=null},createCallback:function(d,c){return function(g,b,a){this.activeRequest[d]=undefined;if(!b){if(d===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,g,a)}this.fireEvent("exception",this,"response",d,g,a);g.request.callback.call(g.request.scope,null,g.request.arg,false);return}if(d===Ext.data.Api.actions.read){this.onRead(d,g,a)}else{this.onWrite(d,g,a,c)}}},onRead:function(l,e,j){var i;try{i=e.reader.read(j)}catch(m){this.fireEvent("loadexception",this,e,j,m);this.fireEvent("exception",this,"response",l,e,j,m);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}if(i.success===false){this.fireEvent("loadexception",this,e,j);var k=e.reader.readResponse(l,j);this.fireEvent("exception",this,"remote",l,e,k,null)}else{this.fireEvent("load",this,e,e.request.arg)}e.request.callback.call(e.request.scope,i,e.request.arg,i.success)},onWrite:function(o,j,m,l){var k=j.reader;var n;try{n=k.readResponse(o,m)}catch(e){this.fireEvent("exception",this,"response",o,j,m,e);j.request.callback.call(j.request.scope,null,j.request.arg,false);return}if(n.success===true){this.fireEvent("write",this,o,n.data,n,l,j.request.arg)}else{this.fireEvent("exception",this,"remote",o,j,n,l)}j.request.callback.call(j.request.scope,n.data,n,n.success)},destroy:function(){if(!this.useAjax){this.conn.abort()}else{if(this.activeRequest){var d=Ext.data.Api.actions;for(var c in d){if(this.activeRequest[d[c]]){Ext.Ajax.abort(this.activeRequest[d[c]])}}}}Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.MemoryProxy=function(d){var c={};c[Ext.data.Api.actions.read]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:c});this.data=d};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(p,q,o,r,e,l,m){o=o||{};var n;try{n=r.readRecords(this.data)}catch(s){this.fireEvent("loadexception",this,null,m,s);this.fireEvent("exception",this,"response",p,m,null,s);e.call(l,null,m,false);return}e.call(l,n,m,true)}});Ext.data.Types=new function(){var b=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(a){return a},sortType:b.none,type:"auto"},STRING:{convert:function(a){return(a===undefined||a===null)?"":String(a)},sortType:b.asUCString,type:"string"},INT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseInt(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"int"},FLOAT:{convert:function(a){return a!==undefined&&a!==null&&a!==""?parseFloat(String(a).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:b.none,type:"float"},BOOL:{convert:function(a){return a===true||a==="true"||a==1},sortType:b.none,type:"bool"},DATE:{convert:function(e){var g=this.dateFormat;if(!e){return null}if(Ext.isDate(e)){return e}if(g){if(g=="timestamp"){return new Date(e*1000)}if(g=="time"){return new Date(parseInt(e,10))}return Date.parseDate(e,g)}var a=Date.parse(e);return a?new Date(a):null},sortType:b.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(b){Ext.data.JsonWriter.superclass.constructor.call(this,b)},render:function(h,i,g){if(this.encode===true){Ext.apply(h,i);h[this.meta.root]=Ext.encode(g)}else{var e=Ext.apply({},i);e[this.meta.root]=g;h.jsonData=e}},createRecord:function(b){return this.toHash(b)},updateRecord:function(b){return this.toHash(b)},destroyRecord:function(d){if(this.encodeDelete){var c={};c[this.meta.idProperty]=d.id;return c}else{return d.id}}});Ext.data.JsonReader=function(c,d){c=c||{};Ext.applyIf(c,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,c,d||c.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(d){var e=d.responseText;var g=Ext.decode(e);if(!g){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(g)},readResponse:function(n,k){var i=(k.responseText!==undefined)?Ext.decode(k.responseText):k;if(!i){throw new Ext.data.JsonReader.Error("response")}var j=this.getRoot(i),o=this.getSuccess(i);if(o&&n===Ext.data.Api.actions.create){var m=Ext.isDefined(j);if(m&&Ext.isEmpty(j)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!m){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}var l=new Ext.data.Response({action:n,success:o,data:(j)?this.extractData(j,false):[],message:this.getMessage(i),raw:i});if(Ext.isEmpty(l.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty)}return l},readRecords:function(s){this.jsonData=s;if(s.metaData){this.onMetaChange(s.metaData)}var r=this.meta,c=this.recordType,t=c.prototype.fields,q=t.items,n=t.length,o;var w=this.getRoot(s),v=w.length,u=v,p=true;if(r.totalProperty){o=parseInt(this.getTotal(s),10);if(!isNaN(o)){u=o}}if(r.successProperty){o=this.getSuccess(s);if(o===false||o==="false"){p=false}}return{success:p,records:this.extractData(w,true),totalRecords:u}},buildExtractors:function(){if(this.ef){return}var n=this.meta,g=this.recordType,s=g.prototype.fields,m=s.items,i=s.length;if(n.totalProperty){this.getTotal=this.createAccessor(n.totalProperty)}if(n.successProperty){this.getSuccess=this.createAccessor(n.successProperty)}if(n.messageProperty){this.getMessage=this.createAccessor(n.messageProperty)}this.getRoot=n.root?this.createAccessor(n.root):function(a){return a};if(n.id||n.idProperty){var r=this.createAccessor(n.id||n.idProperty);this.getId=function(b){var a=r(b);return(a===undefined||a==="")?null:a}}else{this.getId=function(){return null}}var q=[];for(var p=0;p<i;p++){s=m[p];var o=(s.mapping!==undefined&&s.mapping!==null)?s.mapping:s.name;q.push(this.createAccessor(o))}this.ef=q},simpleAccess:function(d,c){return d[c]},createAccessor:function(){var b=/[\[\.]/;return function(d){if(Ext.isEmpty(d)){return Ext.emptyFn}if(Ext.isFunction(d)){return d}var a=String(d).search(b);if(a>=0){return new Function("obj","return obj"+(a>0?".":"")+d)}return function(c){return c[d]}}}(),extractValues:function(i,m,j){var o,l={};for(var n=0;n<j;n++){o=m[n];var k=this.ef[n](i);l[o.name]=o.convert((k!==undefined)?k:o.defaultValue,i)}return l}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(d,c){this.arg=c;Ext.Error.call(this,d)},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(s){this.arrayData=s;var G=this.meta,L=G?Ext.num(G.idIndex,G.id):null,J=this.recordType,o=J.prototype.fields,k=[],M=true,O;var D=this.getRoot(s);for(var j=0,N=D.length;j<N;j++){var C=D[j],I={},n=((L||L===0)&&C[L]!==undefined&&C[L]!==""?C[L]:null);for(var i=0,H=o.length;i<H;i++){var v=o.items[i],E=v.mapping!==undefined&&v.mapping!==null?v.mapping:i;O=C[E]!==undefined?C[E]:v.defaultValue;O=v.convert(O,C);I[v.name]=O}var K=new J(I,n);K.json=C;k[k.length]=K}var F=k.length;if(G.totalProperty){O=parseInt(this.getTotal(s),10);if(!isNaN(O)){F=O}}if(G.successProperty){O=this.getSuccess(s);if(O===false||O==="false"){M=false}}return{success:M,records:k,totalRecords:F}}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.ArrayReader(b)}))},loadData:function(k,h){if(this.expandData===true){var j=[];for(var i=0,g=k.length;i<g;i++){j[j.length]=[k[i]]}k=j}Ext.data.ArrayStore.superclass.loadData.call(this,k,h)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.JsonReader(b)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(b){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl=(typeof(this.tpl)==="string")?new Ext.XTemplate(this.tpl).compile():this.tpl.compile()};Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:false,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><\u003fxml version="{version}" encoding="{encoding}"\u003f><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}></tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(e,g,d){g=this.toArray(g);e.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:(g.length>0||this.forceDocumentRoot===true)?this.documentRoot:false,record:this.meta.record,root:this.root,baseParams:g,records:(Ext.isArray(d[0]))?d:[d]})},createRecord:function(b){return this.toArray(this.toHash(b))},updateRecord:function(b){return this.toArray(this.toHash(b))},destroyRecord:function(d){var c={};c[this.meta.idProperty]=d.id;return this.toArray(c)}});Ext.data.XmlReader=function(c,d){c=c||{};Ext.applyIf(c,{idProperty:c.idProperty||c.idPath||c.id,successProperty:c.successProperty||c.success});Ext.data.XmlReader.superclass.constructor.call(this,c,d||c.fields)};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(c){var d=c.responseXML;if(!d){throw {message:"XmlReader.read: XML Document not available"}}return this.readRecords(d)},readRecords:function(k){this.xmlData=k;var h=k.documentElement||k,j=Ext.DomQuery,m=0,l=true;if(this.meta.totalProperty){m=this.getTotal(h,0)}if(this.meta.successProperty){l=this.getSuccess(h)}var i=this.extractData(j.select(this.meta.record,h),true);return{success:l,records:i,totalRecords:m||i.length}},readResponse:function(o,k){var n=Ext.DomQuery,i=k.responseXML,j=i.documentElement||i;var l=new Ext.data.Response({action:o,success:this.getSuccess(j),message:this.getMessage(j),data:this.extractData(n.select(this.meta.record,j)||n.select(this.meta.root,j),false),raw:i});if(Ext.isEmpty(l.success)){throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty)}if(o===Ext.data.Api.actions.create){var m=Ext.isDefined(l.data);if(m&&Ext.isEmpty(l.data)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!m){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}return l},getSuccess:function(){return true},buildExtractors:function(){if(this.ef){return}var n=this.meta,g=this.recordType,s=g.prototype.fields,m=s.items,i=s.length;if(n.totalProperty){this.getTotal=this.createAccessor(n.totalProperty)}if(n.successProperty){this.getSuccess=this.createAccessor(n.successProperty)}if(n.messageProperty){this.getMessage=this.createAccessor(n.messageProperty)}this.getRoot=function(a){return(!Ext.isEmpty(a[this.meta.record]))?a[this.meta.record]:a[this.meta.root]};if(n.idPath||n.idProperty){var r=this.createAccessor(n.idPath||n.idProperty);this.getId=function(a){var b=r(a)||a.id;return(b===undefined||b==="")?null:b}}else{this.getId=function(){return null}}var q=[];for(var p=0;p<i;p++){s=m[p];var o=(s.mapping!==undefined&&s.mapping!==null)?s.mapping:s.name;q.push(this.createAccessor(o))}this.ef=q},createAccessor:function(){var b=Ext.DomQuery;return function(a){if(Ext.isFunction(a)){return a}switch(a){case this.meta.totalProperty:return function(g,e){return b.selectNumber(a,g,e)};break;case this.meta.successProperty:return function(j,k){var i=b.selectValue(a,j,true);var h=i!==false&&i!=="false";return h};break;default:return function(g,e){return b.selectValue(a,g,e)};break}}}(),extractValues:function(i,m,j){var o,l={};for(var n=0;n<j;n++){o=m[n];var k=this.ef[n](i);l[o.name]=o.convert((k!==undefined)?k:o.defaultValue,i)}return l}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(b){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(b,{reader:new Ext.data.XmlReader(b)}))}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(j){j=j||{};this.hasMultiSort=true;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var k=this.multiSortInfo.sorters,i=j.groupField||this.groupField,h=j.sortInfo||this.sortInfo,g=j.groupDir||this.groupDir;if(i){k.push({field:i,direction:g})}if(h){k.push(h)}Ext.data.GroupingStore.superclass.constructor.call(this,j);this.addEvents("groupchange");this.applyGroupField()},remoteGroup:false,groupOnSort:false,groupDir:"ASC",clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;delete this.baseParams.groupDir}var b=this.lastOptions;if(b&&b.params){delete b.params.groupBy;delete b.params.groupDir}this.reload()}else{this.sort();this.fireEvent("datachanged",this)}},groupBy:function(k,g,j){j=j?(String(j).toUpperCase()=="DESC"?"DESC":"ASC"):this.groupDir;if(this.groupField==k&&this.groupDir==j&&!g){return}var i=this.multiSortInfo.sorters;if(i.length>0&&i[0].field==this.groupField){i.shift()}this.groupField=k;this.groupDir=j;this.applyGroupField();var h=function(){this.fireEvent("groupchange",this,this.getGroupState())};if(this.groupOnSort){this.sort(k,j);h.call(this);return}if(this.remoteGroup){this.on("load",h,this,{single:true});this.reload()}else{this.sort(i);h.call(this)}},sort:function(i,l){if(this.remoteSort){return Ext.data.GroupingStore.superclass.sort.call(this,i,l)}var o=[];if(Ext.isArray(arguments[0])){o=arguments[0]}else{if(i==undefined){o=this.sortInfo?[this.sortInfo]:[]}else{var n=this.fields.get(i);if(!n){return false}var k=n.name,j=this.sortInfo||null,m=this.sortToggle?this.sortToggle[k]:null;if(!l){if(j&&j.field==k){l=(this.sortToggle[k]||"ASC").toggle("ASC","DESC")}else{l=n.sortDir}}this.sortToggle[k]=l;this.sortInfo={field:k,direction:l};o=[this.sortInfo]}}if(this.groupField){o.unshift({direction:this.groupDir,field:this.groupField})}return this.multiSort.call(this,o,l)},applyGroupField:function(){if(this.remoteGroup){if(!this.baseParams){this.baseParams={}}Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var b=this.lastOptions;if(b&&b.params){b.params.groupDir=this.groupDir;delete b.params.groupBy}}},applyGrouping:function(b){if(this.groupField!==false){this.groupBy(this.groupField,true,this.groupDir);return true}else{if(b===true){this.fireEvent("datachanged",this)}return false}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField}});Ext.reg("groupingstore",Ext.data.GroupingStore);Ext.data.DirectProxy=function(b){Ext.apply(this,b);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/)}Ext.data.DirectProxy.superclass.constructor.call(this,b)};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,doRequest:function(u,v,t,x,p,q,s){var o=[],i=this.api[u]||this.directFn;switch(u){case Ext.data.Api.actions.create:o.push(t.jsonData);break;case Ext.data.Api.actions.read:if(i.directCfg.method.len>0){if(this.paramOrder){for(var w=0,y=this.paramOrder.length;w<y;w++){o.push(t[this.paramOrder[w]])}}else{if(this.paramsAsHash){o.push(t)}}}break;case Ext.data.Api.actions.update:o.push(t.jsonData);break;case Ext.data.Api.actions.destroy:o.push(t.jsonData);break}var r={params:t||{},request:{callback:p,scope:q,arg:s},reader:x};o.push(this.createCallback(u,v,r),this);i.apply(window,o)},createCallback:function(i,e,g){var h=this;return function(b,a){if(!a.status){if(i===Ext.data.Api.actions.read){h.fireEvent("loadexception",h,g,a,null)}h.fireEvent("exception",h,"remote",i,g,a,null);g.request.callback.call(g.request.scope,null,g.request.arg,false);return}if(i===Ext.data.Api.actions.read){h.onRead(i,g,b,a)}else{h.onWrite(i,g,b,a,e)}}},onRead:function(m,l,h,k){var i;try{i=l.reader.readRecords(h)}catch(j){this.fireEvent("loadexception",this,l,k,j);this.fireEvent("exception",this,"response",m,l,k,j);l.request.callback.call(l.request.scope,null,l.request.arg,false);return}this.fireEvent("load",this,k,l.request.arg);l.request.callback.call(l.request.scope,i,l.request.arg,true)},onWrite:function(o,m,j,l,k){var n=m.reader.extractData(m.reader.getRoot(j),false);var i=m.reader.getSuccess(j);i=(i!==false);if(i){this.fireEvent("write",this,o,n,l,k,m.request.arg)}else{this.fireEvent("exception",this,"remote",o,m,j,k)}m.request.callback.call(m.request.scope,n,l,i)}});Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(c){var d=Ext.apply({},{batchTransactions:false},c);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(d,{proxy:Ext.isDefined(d.proxy)?d.proxy:new Ext.data.DirectProxy(Ext.copyTo({},d,"paramOrder,paramsAsHash,directFn,api")),reader:(!Ext.isDefined(d.reader)&&d.fields)?new Ext.data.JsonReader(Ext.copyTo({},d,"totalProperty,root,idProperty"),d.fields):d.reader}))}});Ext.reg("directstore",Ext.data.DirectStore);Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={}},addProvider:function(i){var g=arguments;if(g.length>1){for(var h=0,a=g.length;h<a;h++){this.addProvider(g[h])}return}if(!i.events){i=new Ext.Direct.PROVIDERS[i.type](i)}i.id=i.id||Ext.id();this.providers[i.id]=i;i.on("data",this.onProviderData,this);i.on("exception",this.onProviderException,this);if(!i.isConnected()){i.connect()}return i},getProvider:function(b){return this.providers[b]},removeProvider:function(d){var c=d.id?d:this.providers[d];c.un("data",this.onProviderData,this);c.un("exception",this.onProviderException,this);delete this.providers[c.id];return c},addTransaction:function(b){this.transactions[b.tid]=b;return b},removeTransaction:function(b){delete this.transactions[b.tid||b];return b},getTransaction:function(b){return this.transactions[b.tid||b]},onProviderData:function(i,h){if(Ext.isArray(h)){for(var g=0,e=h.length;g<e;g++){this.onProviderData(i,h[g])}return}if(h.name&&h.name!="event"&&h.name!="exception"){this.fireEvent(h.name,h)}else{if(h.type=="exception"){this.fireEvent("exception",h)}}this.fireEvent("event",h,i)},createEvent:function(c,d){return new Ext.Direct.eventTypes[c.type](Ext.apply(c,d))}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(b){Ext.apply(this,b);this.tid=++Ext.Direct.TID;this.retryCount=0};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}};Ext.Direct.Event=function(b){Ext.apply(this,b)};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(b){Ext.apply(this,b);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,b)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(b){if(!Ext.isEmpty(b.responseText)){if(typeof b.responseText=="object"){return b.responseText}return Ext.decode(b.responseText)}return null},getEvents:function(i){var o=null;try{o=this.parseResponse(i)}catch(e){var n=new Ext.Direct.ExceptionEvent({data:e,xhr:i,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+o});return[n]}var m=[];if(Ext.isArray(o)){for(var l=0,k=o.length;l<k;l++){m.push(Ext.Direct.createEvent(o[l]))}}else{m.push(Ext.Direct.createEvent(o))}return m}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(b){Ext.direct.PollingProvider.superclass.constructor.call(this,b);this.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams)}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams})}}},interval:this.interval,scope:this});this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing PollingProvider, no url configured."}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this)}},onData:function(n,i,e){if(i){var m=this.getEvents(e);for(var l=0,k=m.length;l<k;l++){var o=m[l];this.fireEvent("data",this,o)}}else{var o=new Ext.Direct.ExceptionEvent({data:o,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:e});this.fireEvent("data",this,o)}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(b){Ext.direct.RemotingProvider.superclass.constructor.call(this,b);this.addEvents("beforecall","call");this.namespace=(Ext.isString(this.namespace))?Ext.ns(this.namespace):this.namespace||window;this.transactions={};this.callBuffer=[]},initAPI:function(){var c=this.actions;for(var i in c){var m=this.namespace[i]||(this.namespace[i]={}),n=c[i];for(var o=0,l=n.length;o<l;o++){var k=n[o];m[k.name]=this.createMethod(i,k)}}},isConnected:function(){return !!this.connected},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured."}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this)}},onData:function(o,e,i){if(e){var m=this.getEvents(i);for(var p=0,q=m.length;p<q;p++){var r=m[p],n=this.getTransaction(r);this.fireEvent("data",this,r);if(n){this.doCallback(n,r,true);Ext.Direct.removeTransaction(n)}}}else{var s=[].concat(o.ts);for(var p=0,q=s.length;p<q;p++){var n=this.getTransaction(s[p]);if(n&&n.retryCount<this.maxRetries){n.retry()}else{var r=new Ext.Direct.ExceptionEvent({data:r,transaction:n,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:i});this.fireEvent("data",this,r);if(n){this.doCallback(n,r,false);Ext.Direct.removeTransaction(n)}}}}},getCallData:function(b){return{action:b.action,method:b.method,data:b.data,type:"rpc",tid:b.tid}},doSend:function(k){var m={url:this.url,callback:this.onData,scope:this,ts:k,timeout:this.timeout},i;if(Ext.isArray(k)){i=[];for(var j=0,h=k.length;j<h;j++){i.push(this.getCallData(k[j]))}}else{i=this.getCallData(k)}if(this.enableUrlEncode){var l={};l[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(i);m.params=l}else{m.jsonData=i}Ext.Ajax.request(m)},combineAndSend:function(){var b=this.callBuffer.length;if(b>0){this.doSend(b==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[]}},queueTransaction:function(b){if(b.form){this.processForm(b);return}this.callBuffer.push(b);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)}this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)}else{this.combineAndSend()}},doCall:function(j,k,l){var c=null,n=l[k.len],o=l[k.len+1];if(k.len!==0){c=l.slice(0,k.len)}var m=new Ext.Direct.Transaction({provider:this,args:l,action:j,method:k.name,data:c,cb:o&&Ext.isFunction(n)?n.createDelegate(o):n});if(this.fireEvent("beforecall",this,m,k)!==false){Ext.Direct.addTransaction(m);this.queueTransaction(m);this.fireEvent("call",this,m,k)}},doForm:function(l,n,q,k,p){var o=new Ext.Direct.Transaction({provider:this,action:l,method:n.name,args:[q,k,p],cb:p&&Ext.isFunction(k)?k.createDelegate(p):k,isForm:true});if(this.fireEvent("beforecall",this,o,n)!==false){Ext.Direct.addTransaction(o);var m=String(q.getAttribute("enctype")).toLowerCase()=="multipart/form-data",c={extTID:o.tid,extAction:l,extMethod:n.name,extType:"rpc",extUpload:String(m)};Ext.apply(o,{form:Ext.getDom(q),isUpload:m,params:k&&Ext.isObject(k.params)?Ext.apply(c,k.params):c});this.fireEvent("call",this,o,n);this.processForm(o)}},processForm:function(b){Ext.Ajax.request({url:this.url,params:b.params,callback:this.onData,scope:this,form:b.form,isUpload:b.isUpload,ts:b})},createMethod:function(g,c){var e;if(!c.formHandler){e=function(){this.doCall(g,c,Array.prototype.slice.call(arguments,0))}.createDelegate(this)}else{e=function(d,a,b){this.doForm(g,c,d,a,b)}.createDelegate(this)}e.directCfg={action:g,method:c};return e},getTransaction:function(b){return b&&b.tid?Ext.Direct.getTransaction(b.tid):null},doCallback:function(j,e){var k=e.status?"success":"failure";if(j&&j.cb){var i=j.cb,h=Ext.isDefined(e.result)?e.result:e.data;if(Ext.isFunction(i)){i(h,e)}else{Ext.callback(i[k],i.scope,[h,e]);Ext.callback(i.callback,i.scope,[h,e])}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(y,z){this.el=Ext.get(y);if(z&&z.wrap){z.resizeChild=this.el;this.el=this.el.wrap(typeof z.wrap=="object"?z.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=z.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(z.resizeChild.getPositioning());z.resizeChild.clearPositioning();if(!z.width||!z.height){var A=z.resizeChild.getSize();this.el.setSize(A.width,A.height)}if(z.pinned&&!z.adjustments){z.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,z);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var q=this.el.getStyle("position");if(q!="absolute"&&q!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var u=this.handles.split(/\s*?[,;]\s*?| /);var x=Ext.Resizable.positions;for(var p=0,r=u.length;p<r;p++){if(u[p]&&x[u[p]]){var t=x[u[p]];this[t]=new Ext.Resizable.Handle(this,t,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var w=this.resizeChild;var s=this.west,i=this.east,v=this.north,u=this.south;if(w&&(s||v)){w.position("relative");w.setLeft(s?s.el.getWidth():0);w.setTop(v?v.el.getHeight():0)}this.adjustments=[(i?-i.el.getWidth():0)+(s?-s.el.getWidth():0),(v?-v.el.getHeight():0)+(u?-u.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(d,c){this.el.setSize(d,c);this.updateChildSize();this.fireEvent("resize",this,d,c,null)},startSizing:function(g,e){this.fireEvent("beforeresize",this,g);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",e.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=g.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var d=Ext.get(this.constrainTo);this.resizeRegion=d.getRegion().adjust(d.getFrameWidth("t"),d.getFrameWidth("l"),-d.getFrameWidth("b"),-d.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(c,d){if(this.enabled){d.stopEvent();this.activeHandle=c;this.startSizing(d,c)}},onMouseUp:function(d){this.activeHandle=null;var c=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,c.width,c.height,d)},updateChildSize:function(){if(this.resizeChild){var h=this.el;var i=this.resizeChild;var g=this.adjustments;if(h.dom.offsetWidth){var b=h.getSize(true);i.setSize(b.width+g[0],b.height+g[1])}if(Ext.isIE){setTimeout(function(){if(h.dom.offsetWidth){var a=h.getSize(true);i.setSize(a.width+g[0],a.height+g[1])}},10)}}},snap:function(i,k,h){if(!k||!i){return i}var j=i;var g=i%k;if(g>0){if(g>(k/2)){j=i+(k-g)}else{j=i-g}}return Math.max(h,j)},resizeElement:function(){var b=this.proxy.getBox();if(this.updateBox){this.el.setBox(b,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(b.width,b.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return b},constrain:function(g,h,e,i){if(g-h<e){h=g-e}else{if(g-h>i){h=g-i}}return h},onMouseMove:function(e){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(e.getPoint())){return}var G=this.curSize||this.startBox,M=this.startBox.x,L=this.startBox.y,S=M,R=L,N=G.width,H=G.height,T=N,P=H,O=this.minWidth,U=this.minHeight,F=this.maxWidth,X=this.maxHeight,J=this.widthIncrement,Q=this.heightIncrement,V=e.getXY(),y=-(this.startPoint[0]-Math.max(this.minX,V[0])),w=-(this.startPoint[1]-Math.max(this.minY,V[1])),K=this.activeHandle.position,Y,h;switch(K){case"east":N+=y;N=Math.min(Math.max(O,N),F);break;case"south":H+=w;H=Math.min(Math.max(U,H),X);break;case"southeast":N+=y;H+=w;N=Math.min(Math.max(O,N),F);H=Math.min(Math.max(U,H),X);break;case"north":w=this.constrain(H,w,U,X);L+=w;H-=w;break;case"west":y=this.constrain(N,y,O,F);M+=y;N-=y;break;case"northeast":N+=y;N=Math.min(Math.max(O,N),F);w=this.constrain(H,w,U,X);L+=w;H-=w;break;case"northwest":y=this.constrain(N,y,O,F);w=this.constrain(H,w,U,X);L+=w;H-=w;M+=y;N-=y;break;case"southwest":y=this.constrain(N,y,O,F);H+=w;H=Math.min(Math.max(U,H),X);M+=y;N-=y;break}var x=this.snap(N,J,O);var W=this.snap(H,Q,U);if(x!=N||W!=H){switch(K){case"northeast":L-=W-H;break;case"north":L-=W-H;break;case"southwest":M-=x-N;break;case"west":M-=x-N;break;case"northwest":M-=x-N;L-=W-H;break}N=x;H=W}if(this.preserveRatio){switch(K){case"southeast":case"east":H=P*(N/T);H=Math.min(Math.max(U,H),X);N=T*(H/P);break;case"south":N=T*(H/P);N=Math.min(Math.max(O,N),F);H=P*(N/T);break;case"northeast":N=T*(H/P);N=Math.min(Math.max(O,N),F);H=P*(N/T);break;case"north":Y=N;N=T*(H/P);N=Math.min(Math.max(O,N),F);H=P*(N/T);M+=(Y-N)/2;break;case"southwest":H=P*(N/T);H=Math.min(Math.max(U,H),X);Y=N;N=T*(H/P);M+=Y-N;break;case"west":h=H;H=P*(N/T);H=Math.min(Math.max(U,H),X);L+=(h-H)/2;Y=N;N=T*(H/P);M+=Y-N;break;case"northwest":Y=N;h=H;H=P*(N/T);H=Math.min(Math.max(U,H),X);N=T*(H/P);L+=h-H;M+=Y-N;break}}this.proxy.setBounds(M,L,N,H);if(this.dynamic){this.resizeElement()}}catch(I){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(e){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var g=Ext.Resizable.positions;for(var d in g){if(typeof g[d]!="function"&&this[g[d]]){this[g[d]].destroy()}}if(e){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var b=this.el.getHeight(true);if(this.west){this.west.el.setHeight(b)}if(this.east){this.east.el.setHeight(b)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(k,m,j,l,h){if(!this.tpl){var i=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});i.compile();Ext.Resizable.Handle.prototype.tpl=i}this.position=m;this.rz=k;this.el=this.tpl.append(k.el.dom,[this.position],true);this.el.unselectable();if(l){this.el.setOpacity(0)}if(!Ext.isEmpty(h)){this.el.addClass(h)}this.el.on("mousedown",this.onMouseDown,this);if(!j){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(b){},onMouseDown:function(b){this.rz.onMouseDown(this,b)},onMouseOver:function(b){this.rz.handleOver(this,b)},onMouseOut:function(b){this.rz.handleOut(this,b)},destroy:function(){Ext.destroy(this.el);this.el=null}});Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,showAnimDuration:0.25,hideAnimDuration:0.25,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden}if(this.hidden===false){this.hidden=true;this.show()}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true))},onRender:function(d,c){Ext.Window.superclass.onRender.call(this,d,c);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this)}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var b=this.getKeyMap();b.on(27,this.onEsc,this);b.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(c,d){if(this.activeGhost){this.unghost()}d.stopEvent();this[this.closeAction]()},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)}Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true})}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var b=this.proxy.getBox();this.proxy.hide();this.window.handleResize(b);return b},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(d){var c=this.resizeBox;if(c.x!=d.x||c.y!=d.y){this.updateBox(d)}else{this.setSize(d);if(Ext.isIE6&&Ext.isStrict){this.doLayout()}}this.focus();this.updateHandles();this.saveState()},focus:function(){var k=this.focusEl,g=this.defaultButton,i=typeof g,j,h;if(Ext.isDefined(g)){if(Ext.isNumber(g)&&this.fbar){k=this.fbar.items.get(g)}else{if(Ext.isString(g)){k=Ext.getCmp(g)}else{k=g}}j=k.getEl();h=Ext.getDom(this.container);if(j&&h){if(h!=document.body&&!Ext.lib.Region.getRegion(h).contains(Ext.lib.Region.getRegion(j.dom))){return}}}k=k||this.focusEl;k.focus.defer(10,k)},setAnimateTarget:function(b){b=Ext.get(b);this.animateTarget=b},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var c=this.el.getAlignToXY(this.container,"c-c");var d=this.el.translatePoints(c[0],c[1]);this.x=this.x===undefined?d.left:this.x;this.y=this.y===undefined?d.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(g,d,e){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return this}if(this.fireEvent("beforeshow",this)===false){return this}if(d){this.on("show",d,e,{single:true})}this.hidden=false;if(Ext.isDefined(g)){this.setAnimateTarget(g)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}return this},afterShow:function(d){if(this.isDestroyed){return false}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();if(d&&(Ext.isIE||Ext.isWebKit)){var c=this.getSize();this.onResize(c.width,c.height)}this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var b=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(b,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:this.showAnimDuration,opacity:0.5}))},hide:function(g,d,e){if(this.hidden||this.fireEvent("beforehide",this)===false){return this}if(d){this.on("hide",d,e,{single:true})}this.hidden=true;if(g!==undefined){this.setAnimateTarget(g)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}return this},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.keyMap){this.keyMap.disable()}this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var b=this.getBox(false);this.proxy.setBox(b);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:this.hideAnimDuration,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var b=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var e;if(this.constrain){e={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var d=this.getSize();e={right:-(d.width-100),bottom:-(d.height-25+this.el.getConstrainOffset())}}var g=this.el.getConstrainToXY(this.container,true,e);if(g){this.setPosition(g[0],g[1])}}},ghost:function(d){var g=this.createGhost(d);var e=this.getBox(true);g.setLeftTop(e.x,e.y);g.setWidth(e.width);this.el.hide();this.activeGhost=g;return g},unghost:function(d,c){if(!this.activeGhost){return}if(d!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}}if(c!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose()}else{this.hide(null,this.doClose,this)}}},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){if(this.maximized){var b=this.tools;this.el.removeClass("x-window-maximized");if(b.restore){b.restore.hide()}if(b.maximize){b.maximize.show()}this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible&&b.toggle){b.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var b=this.container.getViewSize(false);this.setSize(b.width,b.height)},setZIndex:function(b){if(this.modal){this.mask.setStyle("z-index",b)}this.el.setZIndex(++b);b+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++b)}this.lastZIndex=b},alignTo:function(g,e,h){var i=this.el.getAlignToXY(g,e,h);this.setPagePosition(i[0],i[1]);return this},anchorTo:function(i,k,j,h){this.clearAnchor();this.anchorTarget={el:i,alignment:k,offsets:j};Ext.EventManager.onWindowResize(this.doAnchor,this);var g=typeof h;if(g!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:g=="number"?h:50})}return this.doAnchor()},doAnchor:function(){var b=this.anchorTarget;this.alignTo(b.el,b.alignment,b.offsets);return this},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget}return this},toFront:function(b){if(this.manager.bringToFront(this)){if(!b||!b.getTarget().focus){this.focus()}}return this},setActive:function(b){if(b){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var b=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(b[0],b[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=Ext.extend(Ext.dd.DD,{constructor:function(b){this.win=b;Ext.Window.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false},moveOnly:true,headerOffsets:[100,25],startDrag:function(){var d=this.win;this.proxy=d.ghost(d.initialConfig.cls);if(d.constrain!==false){var g=d.el.shadowOffset;this.constrainTo(d.container,{right:g,left:g,bottom:g})}else{if(d.constrainHeader!==false){var e=this.proxy.getSize();this.constrainTo(d.container,{right:-(e.width-this.headerOffsets[0]),bottom:-(e.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(b){this.alignElWithMouse(this.proxy,b.getPageX(),b.getPageY())},endDrag:function(b){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var o={};var m=[];var n=null;var l=function(b,a){return(!b._lastAccess||b._lastAccess<a._lastAccess)?-1:1};var i=function(){var c=m,a=c.length;if(a>0){c.sort(l);var b=c[0].manager.zseed;for(var d=0;d<a;d++){var e=c[d];if(e&&!e.hidden){e.setZIndex(b+(d*10))}}}j()};var k=function(a){if(a!=n){if(n){n.setActive(false)}n=a;if(a){a.setActive(true)}}};var j=function(){for(var a=m.length-1;a>=0;--a){if(!m[a].hidden){k(m[a]);return}}k(null)};return{zseed:9000,register:function(a){if(a.manager){a.manager.unregister(a)}a.manager=this;o[a.id]=a;m.push(a);a.on("hide",j)},unregister:function(a){delete a.manager;delete o[a.id];a.un("hide",j);m.remove(a)},get:function(a){return typeof a=="object"?a:o[a]},bringToFront:function(a){a=this.get(a);if(a!=n){a._lastAccess=new Date().getTime();i();return true}return false},sendToBack:function(a){a=this.get(a);a._lastAccess=-(new Date().getTime());i();return a},hideAll:function(){for(var a in o){if(o[a]&&typeof o[a]!="function"&&o[a].isVisible()){o[a].hide()}}},getActive:function(){return n},getBy:function(c,b){var d=[];for(var a=m.length-1;a>=0;--a){var e=m[a];if(c.call(b||e,e)!==false){d.push(e)}}return d},each:function(b,a){for(var c in o){if(o[c]&&typeof o[c]!="function"){if(b.call(a||o[c],o[c])===false){return}}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var C,O,y,B,F,J,A,N,L,x,H,S,z,D,M,G="",Q="",K=["ok","yes","no","cancel"];var P=function(a){z[a].blur();if(C.isVisible()){C.hide();E();Ext.callback(O.fn,O.scope||window,[a,D.dom.value,O],1)}};var E=function(){if(O&&O.cls){C.el.removeClass(O.cls)}L.reset()};var R=function(a,b,c){if(O&&O.closable!==false){C.hide();E()}if(c){c.stopEvent()}};var I=function(b){var a=0,c;if(!b){Ext.each(K,function(d){z[d].hide()});return a}C.footer.dom.style.display="";Ext.iterate(z,function(d,e){c=b[d];if(c){e.show();e.setText(Ext.isString(c)?c:Ext.MessageBox.buttonText[d]);a+=e.getEl().getWidth()+15}else{e.hide()}});return a};return{getDialog:function(b){if(!C){var a=[];z={};Ext.each(K,function(d){a.push(z[d]=new Ext.Button({text:this.buttonText[d],handler:P.createCallback(d),hideMode:"offsets"}))},this);C=new Ext.Window({autoCreate:true,title:b,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(O&&O.buttons&&O.buttons.no&&!O.buttons.cancel){P("no")}else{P("cancel")}},fbar:new Ext.Toolbar({items:a,enableOverflow:false})});C.render(document.body);C.getEl().addClass("x-window-dlg");y=C.mask;F=C.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});H=Ext.get(F.dom.firstChild);var c=F.dom.childNodes[1];J=Ext.get(c.firstChild);A=Ext.get(c.childNodes[2].firstChild);A.enableDisplayMode();A.addKeyListener([10,13],function(){if(C.isVisible()&&O&&O.buttons){if(O.buttons.ok){P("ok")}else{if(O.buttons.yes){P("yes")}}}});N=Ext.get(c.childNodes[2].childNodes[1]);N.enableDisplayMode();L=new Ext.ProgressBar({renderTo:F});F.createChild({cls:"x-clear"})}return C},updateText:function(d){if(!C.isVisible()&&!O.width){C.setSize(this.maxWidth,100)}J.update(d?d+" ":"&#160;");var b=Q!=""?(H.getWidth()+H.getMargins("lr")):0,g=J.getWidth()+J.getMargins("lr"),c=C.getFrameWidth("lr"),e=C.body.getFrameWidth("lr"),a;a=Math.max(Math.min(O.width||b+g+c+e,O.maxWidth||this.maxWidth),Math.max(O.minWidth||this.minWidth,M||0));if(O.prompt===true){D.setWidth(a-b-c-e)}if(O.progress===true||O.wait===true){L.setSize(a-b-c-e)}if(Ext.isIE&&a==M){a+=4}J.update(d||"&#160;");C.setSize(a,"auto").center();return this},updateProgress:function(c,b,a){L.updateProgress(c,b);if(a){this.updateText(a)}return this},isVisible:function(){return C&&C.isVisible()},hide:function(){var a=C?C.activeGhost:null;if(this.isVisible()||a){C.hide();E();if(a){C.unghost(false,false)}}return this},show:function(d){if(this.isVisible()){this.hide()}O=d;var e=this.getDialog(O.title||"&#160;");e.setTitle(O.title||"&#160;");var c=(O.closable!==false&&O.progress!==true&&O.wait!==true);e.tools.close.setDisplayed(c);D=A;O.prompt=O.prompt||(O.multiline?true:false);if(O.prompt){if(O.multiline){A.hide();N.show();N.setHeight(Ext.isNumber(O.multiline)?O.multiline:this.defaultTextHeight);D=N}else{A.show();N.hide()}}else{A.hide();N.hide()}D.dom.value=O.value||"";if(O.prompt){e.focusEl=D}else{var a=O.buttons;var b=null;if(a&&a.ok){b=z.ok}else{if(a&&a.yes){b=z.yes}}if(b){e.focusEl=b}}if(Ext.isDefined(O.iconCls)){e.setIconClass(O.iconCls)}this.setIcon(Ext.isDefined(O.icon)?O.icon:G);M=I(O.buttons);L.setVisible(O.progress===true||O.wait===true);this.updateProgress(0,O.progressText);this.updateText(O.msg);if(O.cls){e.el.addClass(O.cls)}e.proxyDrag=O.proxyDrag===true;e.modal=O.modal!==false;e.mask=O.modal!==false?y:false;if(!e.isVisible()){document.body.appendChild(C.el.dom);e.setAnimateTarget(O.animEl);e.on("show",function(){if(c===true){e.keyMap.enable()}else{e.keyMap.disable()}},this,{single:true});e.show(O.animEl)}if(O.wait===true){L.wait(O.waitConfig)}return this},setIcon:function(a){if(!C){G=a;return}G=undefined;if(a&&a!=""){H.removeClass("x-hidden");H.replaceClass(Q,a);F.addClass("x-dlg-icon");Q=a}else{H.replaceClass(Q,"x-hidden");F.removeClass("x-dlg-icon");Q=""}return this},progress:function(a,c,b){this.show({title:a,msg:c,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:b});return this},wait:function(a,c,b){this.show({title:c,msg:a,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:b});return this},alert:function(c,a,d,b){this.show({title:c,msg:a,buttons:this.OK,fn:d,scope:b,minWidth:this.minWidth});return this},confirm:function(c,a,d,b){this.show({title:c,msg:a,buttons:this.YESNO,fn:d,scope:b,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(g,e,c,b,a,d){this.show({title:g,msg:e,buttons:this.OKCANCEL,fn:c,minWidth:this.minPromptWidth,scope:b,prompt:true,multiline:a,value:d});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=Ext.extend(Object,{constructor:function(c,d){this.panel=c;this.id=this.panel.id+"-ddproxy";Ext.apply(this,d)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(this.panel.initialConfig.cls,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize())}this.panel.el.dom.style.display="none"}},repair:function(e,g,d){this.hide();if(typeof g=="function"){g.call(d||this)}},moveProxy:function(c,d){if(this.proxy){c.insertBefore(this.proxy.dom,d)}}});Ext.Panel.DD=Ext.extend(Ext.dd.DragSource,{constructor:function(g,e){this.panel=g;this.dragData={panel:g};this.proxy=new Ext.dd.PanelProxy(g,e);Ext.Panel.DD.superclass.constructor.call(this,g.el,e);var i=g.header,h=g.body;if(i){this.setHandleElId(i.id);h=g.header}h.setStyle("cursor","move");this.scroll=false},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(c,d){this.proxy.show()},b4MouseDown:function(e){var d=e.getPageX(),g=e.getPageY();this.autoOffset(d,g)},onInitDrag:function(c,d){this.onStartDrag(c,d);return true},createFrame:Ext.emptyFn,getDragEl:function(b){return this.proxy.ghost.dom},endDrag:function(b){this.proxy.hide();this.panel.saveState()},autoOffset:function(c,d){c-=this.startPageX;d-=this.startPageY;this.setDelta(c,d)}});Ext.state.Provider=Ext.extend(Ext.util.Observable,{constructor:function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)},get:function(d,c){return typeof this.state[d]=="undefined"?c:this.state[d]},clear:function(b){delete this.state[b];this.fireEvent("statechange",this,b,null)},set:function(c,d){this.state[c]=d;this.fireEvent("statechange",this,c,d)},decodeValue:function(k){var n=/^(a|n|d|b|s|o|e)\:(.*)$/,i=n.exec(unescape(k)),m,l,j,o;if(!i||!i[1]){return}l=i[1];j=i[2];switch(l){case"e":return null;case"n":return parseFloat(j);case"d":return new Date(Date.parse(j));case"b":return(j=="1");case"a":m=[];if(j!=""){Ext.each(j.split("^"),function(a){m.push(this.decodeValue(a))},this)}return m;case"o":m={};if(j!=""){Ext.each(j.split("^"),function(a){o=a.split("=");m[o[0]]=this.decodeValue(o[1])},this)}return m;default:return j}},encodeValue:function(j){var i,m="",l=0,h,k;if(j==null){return"e:1"}else{if(typeof j=="number"){i="n:"+j}else{if(typeof j=="boolean"){i="b:"+(j?"1":"0")}else{if(Ext.isDate(j)){i="d:"+j.toGMTString()}else{if(Ext.isArray(j)){for(h=j.length;l<h;l++){m+=this.encodeValue(j[l]);if(l!=h-1){m+="^"}}i="a:"+m}else{if(typeof j=="object"){for(k in j){if(typeof j[k]!="function"&&j[k]!==undefined){m+=k+"="+this.encodeValue(j[k])+"^"}}i="o:"+m.substring(0,m.length-1)}else{i="s:"+j}}}}}}return escape(i)}});Ext.state.Manager=function(){var b=new Ext.state.Provider();return{setProvider:function(a){b=a},get:function(d,a){return b.get(d,a)},set:function(a,d){b.set(a,d)},clear:function(a){b.clear(a)},getProvider:function(){return b}}}();Ext.state.CookieProvider=Ext.extend(Ext.state.Provider,{constructor:function(b){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,b);this.state=this.readCookies()},set:function(c,d){if(typeof d=="undefined"||d===null){this.clear(c);return}this.setCookie(c,d);Ext.state.CookieProvider.superclass.set.call(this,c,d)},clear:function(b){this.clearCookie(b);Ext.state.CookieProvider.superclass.clear.call(this,b)},readCookies:function(){var k={},c=document.cookie+";",j=/\s?(.*?)=(.*?);/g,m,i,l;while((m=j.exec(c))!=null){i=m[1];l=m[2];if(i&&i.substring(0,3)=="ys-"){k[i.substr(3)]=this.decodeValue(l)}}return k},setCookie:function(c,d){document.cookie="ys-"+c+"="+this.encodeValue(d)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(b){document.cookie="ys-"+b+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.bindStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);var d=this.getTemplateTarget(),c=this.store.getRange();d.update("");if(c.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){d.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(d,this.collectData(c,0));this.all.fill(Ext.query(this.itemSelector,d.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true},getTemplateTarget:function(){return this.el},prepareData:function(b){return b},collectData:function(h,k){var j=[],i=0,g=h.length;for(;i<g;i++){j[j.length]=this.prepareData(h[i].data,k+i,h[i])}return j},bufferRender:function(d,e){var g=document.createElement("div");this.tpl.overwrite(g,this.collectData(d,e));return Ext.query(this.itemSelector,g)},onUpdate:function(m,h){var i=this.store.indexOf(h);if(i>-1){var l=this.isSelected(i),j=this.all.elements[i],k=this.bufferRender([h],i)[0];this.all.replaceElement(i,k,true);if(l){this.selected.replaceElement(j,k);this.all.item(i).addClass(this.selectedClass)}this.updateIndexes(i,i)}},onAdd:function(m,k,l){if(this.all.getCount()===0){this.refresh();return}var j=this.bufferRender(k,l),a,i=this.all.elements;if(l<this.all.getCount()){a=this.all.item(l).insertSibling(j,"before",true);i.splice.apply(i,[l,0].concat(j))}else{a=this.all.last().insertSibling(j,"after",true);i.push.apply(i,j)}this.updateIndexes(l)},onRemove:function(g,d,e){this.deselect(e);this.all.removeElement(e,true);this.updateIndexes(e);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(b){this.onUpdate(this.store,this.store.getAt(b))},updateIndexes:function(i,h){var g=this.all.elements;i=i||0;h=h||((h===0)?0:(g.length-1));for(var e=i;e<=h;e++){g[e].viewIndex=e}},getStore:function(){return this.store},bindStore:function(c,d){if(!d&&this.store){if(c!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(!c){this.store=null}}if(c){c=Ext.StoreMgr.lookup(c);c.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=c;if(c){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemFromChild:function(b){return Ext.fly(b).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(g){var e=g.getTarget(this.itemSelector,this.getTemplateTarget()),d;if(e){d=this.indexOf(e);if(this.onItemClick(e,d,g)!==false){this.fireEvent("click",this,d,e,g)}}else{if(this.fireEvent("containerclick",this,g)!==false){this.onContainerClick(g)}}},onContainerClick:function(b){this.clearSelections()},onContextMenu:function(d){var c=d.getTarget(this.itemSelector,this.getTemplateTarget());if(c){this.fireEvent("contextmenu",this,this.indexOf(c),c,d)}else{this.fireEvent("containercontextmenu",this,d)}},onDblClick:function(d){var c=d.getTarget(this.itemSelector,this.getTemplateTarget());if(c){this.fireEvent("dblclick",this,this.indexOf(c),c,d)}},onMouseOver:function(d){var c=d.getTarget(this.itemSelector,this.getTemplateTarget());if(c&&c!==this.lastItem){this.lastItem=c;Ext.fly(c).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(c),c,d)}},onMouseOut:function(b){if(this.lastItem){if(!b.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,b);delete this.lastItem}}},onItemClick:function(e,d,g){if(this.fireEvent("beforeclick",this,d,e,g)===false){return false}if(this.multiSelect){this.doMultiSelection(e,d,g);g.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(e,d,g);g.preventDefault()}}return true},doSingleSelection:function(e,d,g){if(g.ctrlKey&&this.isSelected(d)){this.deselect(d)}else{this.select(d,false)}},doMultiSelection:function(h,e,i){if(i.shiftKey&&this.last!==false){var g=this.last;this.selectRange(g,e,i.ctrlKey);this.last=g}else{if((i.ctrlKey||this.simpleSelect)&&this.isSelected(e)){this.deselect(e)}else{this.select(e,i.ctrlKey||i.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var g=[],i=this.selected.elements,h=0,e=i.length;for(;h<e;h++){g.push(i[h].viewIndex)}return g},getSelectedRecords:function(){return this.getRecords(this.selected.elements)},getRecords:function(h){var g=[],i=0,e=h.length;for(;i<e;i++){g[g.length]=this.store.getAt(h[i].viewIndex)}return g},getRecord:function(b){return this.store.getAt(b.viewIndex)},clearSelections:function(c,d){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!d){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!c){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(b){return this.selected.contains(this.getNode(b))},deselect:function(b){if(this.isSelected(b)){b=this.getNode(b);this.selected.removeElement(b);if(this.last==b.viewIndex){this.last=false}Ext.fly(b).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(k,m,i){if(Ext.isArray(k)){if(!m){this.clearSelections(true)}for(var j=0,h=k.length;j<h;j++){this.select(k[j],true,true)}if(!i){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var l=this.getNode(k);if(!m){this.clearSelections(true)}if(l&&!this.isSelected(l)){if(this.fireEvent("beforeselect",this,l,this.selected.elements)!==false){Ext.fly(l).addClass(this.selectedClass);this.selected.add(l);this.last=l.viewIndex;if(!i){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(g,d,e){if(!e){this.clearSelections(true)}this.select(this.getNodes(g,d),true)},getNode:function(d){if(Ext.isString(d)){return document.getElementById(d)}else{if(Ext.isNumber(d)){return this.all.elements[d]}else{if(d instanceof Ext.data.Record){var c=this.store.indexOf(d);return this.all.elements[c]}}}return d},getNodes:function(k,g){var j=this.all.elements,h=[],i;k=k||0;g=!Ext.isDefined(g)?Math.max(j.length-1,0):g;if(k<=g){for(i=k;i<=g&&j[i];i++){h.push(j[i])}}else{for(i=k;i>=g&&j[i];i--){h.push(j[i])}}return h},indexOf:function(b){b=this.getNode(b);if(Ext.isNumber(b.viewIndex)){return b.viewIndex}return this.all.indexOf(b)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:undefined,columnResize:true,columnSort:true,maxColumnWidth:Ext.isIE?99:100,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.list.ColumnResizer(this.colResizer);this.colResizer.init(this)}if(this.columnSort){this.colSorter=new Ext.list.Sorter(this.columnSort);this.colSorter.init(this)}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>")}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>")}var j=this.columns,c=0,i=0,o=j.length,r=[];for(var u=0;u<o;u++){var p=j[u];if(!p.isColumn){p.xtype=p.xtype?(/^lv/.test(p.xtype)?p.xtype:"lv"+p.xtype):"lvcolumn";p=Ext.create(p)}if(p.width){c+=p.width*100;if(c>this.maxColumnWidth){p.width-=(c-this.maxColumnWidth)/100}i++}r.push(p)}j=this.columns=r;if(i<o){var s=o-i;if(c<this.maxColumnWidth){var q=((this.maxColumnWidth-c)/s)/100;for(var t=0;t<o;t++){var p=j[t];if(!p.width){p.width=q}}}}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"};Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none"}},getTemplateTarget:function(){return this.innerBody},collectData:function(){var b=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:b}},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height)}},onResize:function(j,l){var i=this.innerBody.dom,m=this.innerHd.dom,k=j-Ext.num(this.scrollOffset,Ext.getScrollBarWidth())+"px",h;if(!i){return}h=i.parentNode;if(Ext.isNumber(j)){if(this.reserveScrollOffset||((h.offsetWidth-h.clientWidth)>10)){i.style.width=k;m.style.width=k}else{i.style.width=j+"px";m.style.width=j+"px";setTimeout(function(){if((h.offsetWidth-h.clientWidth)>10){i.style.width=k;m.style.width=k}},10)}}if(Ext.isNumber(l)){h.style.height=Math.max(0,l-m.parentNode.offsetHeight)+"px"}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize()},findHeaderIndex:function(c){c=c.dom||c;var h=c.parentNode,j=h.parentNode.childNodes,i=0,k;for(;k=j[i];i++){if(k==h){return i}}return -1},setHdWidths:function(){var i=this.innerHd.dom.getElementsByTagName("div"),h=0,g=this.columns,e=g.length;for(;h<e;h++){i[h].style.width=(g[h].width*100)+"%"}}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;Ext.list.Column=Ext.extend(Object,{isColumn:true,align:"left",header:"",width:null,cls:"",constructor:function(b){if(!b.tpl){b.tpl=new Ext.XTemplate("{"+b.dataIndex+"}")}else{if(Ext.isString(b.tpl)){b.tpl=new Ext.XTemplate(b.tpl)}}Ext.apply(this,b)}});Ext.reg("lvcolumn",Ext.list.Column);Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':number("'+(b.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,b)}});Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(b){b.tpl=b.tpl||new Ext.XTemplate("{"+b.dataIndex+':date("'+(b.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,b)}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(i){i.tpl=i.tpl||new Ext.XTemplate("{"+i.dataIndex+":this.format}");var g=this.trueText,h=this.falseText,c=this.undefinedText;i.tpl.format=function(a){if(a===undefined){return c}if(!a||a==="false"){return h}return g};Ext.list.DateColumn.superclass.constructor.call(this,i)}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(b){Ext.apply(this,b);Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(b){this.view=b;b.on("render",this.initEvents,this)},initEvents:function(b){b.mon(b.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(b.innerHd);b.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(k,p){var o=5,n=k.getPageX(),l=k.getTarget("em",3,true);if(l){var e=l.getRegion(),q=l.dom.style,m=l.dom.parentNode;if(n-e.left<=o&&m!=m.parentNode.firstChild){this.activeHd=Ext.get(m.previousSibling.firstChild);q.cursor=Ext.isWebKit?"e-resize":"col-resize"}else{if(e.right-n<=o&&m!=m.parentNode.lastChild.previousSibling){this.activeHd=l;q.cursor=Ext.isWebKit?"w-resize":"col-resize"}else{delete this.activeHd;q.cursor=""}}}},onBeforeStart:function(b){this.dragHd=this.activeHd;return !!this.dragHd},onStart:function(e){var k=this,i=k.view,j=k.dragHd,h=k.tracker.getXY()[0];k.proxy=i.el.createChild({cls:"x-list-resizer"});k.dragX=j.getX();k.headerIndex=i.findHeaderIndex(j);k.headersDisabled=i.disableHeaders;i.disableHeaders=true;k.proxy.setHeight(i.el.getHeight());k.proxy.setX(k.dragX);k.proxy.setWidth(h-k.dragX);this.setBoundaries()},setBoundaries:function(o){var p=this.view,m=this.headerIndex,t=p.innerHd.getWidth(),o=p.innerHd.getX(),s=Math.ceil(t*this.minPct),q=t-s,v=p.columns.length,u=p.innerHd.select("em",true),w=s+o,r=q+o,n;if(v==2){this.minX=w;this.maxX=r}else{n=u.item(m+2);this.minX=u.item(m).getX()+s;this.maxX=n?n.getX()-s:r;if(m==0){this.minX=w}else{if(m==v-2){this.maxX=r}}}},onDrag:function(g){var e=this,d=e.tracker.getXY()[0].constrain(e.minX,e.maxX);e.proxy.setWidth(d-this.dragX)},onEnd:function(n){var w=this.proxy.getWidth(),e=this.headerIndex,q=this.view,u=q.columns,t=q.innerHd.getWidth(),p=Math.ceil(w*q.maxColumnWidth/t)/100,v=this.headersDisabled,r=u[e],o=u[e+1],s=r.width+o.width;this.proxy.remove();r.width=p;o.width=s-p;delete this.dragHd;q.setHdWidths();q.refresh();setTimeout(function(){q.disableHeaders=v},100)}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(b){Ext.apply(this,b);Ext.list.Sorter.superclass.constructor.call(this)},init:function(b){this.view=b;b.on("render",this.initEvents,this)},initEvents:function(b){b.mon(b.innerHd,"click",this.onHdClick,this);b.innerHd.setStyle("cursor","pointer");b.mon(b.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[b.store])},updateSortState:function(l){var o=l.getSortState();if(!o){return}this.sortState=o;var n=this.view.columns,i=-1;for(var m=0,j=n.length;m<j;m++){if(n[m].dataIndex==o.field){i=m;break}}if(i!=-1){var k=o.direction;this.updateSortIcon(i,k)}},updateSortIcon:function(g,e){var i=this.sortClasses;var h=this.view.innerHd.select("em").removeClass(i);h.item(g).addClass(i[e=="DESC"?1:0])},onHdClick:function(g){var e=g.getTarget("em",3);if(e&&!this.view.disableHeaders){var d=this.view.findHeaderIndex(e);this.view.store.sort(this.view.columns[d].dataIndex)}}});Ext.ListView.Sorter=Ext.list.Sorter;Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},onRender:function(j,h){Ext.TabPanel.superclass.onRender.call(this,j,h);if(this.plain){var m=this.tabPosition=="top"?"header":"footer";this[m].addClass("x-tab-panel-"+m+"-plain")}var i=this[this.stripTarget];this.stripWrap=i.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var l=(this.tabPosition=="bottom"?this.stripWrap:null);i.createChild({cls:"x-tab-strip-spacer"},l);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var k=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");k.disableFormats=true;k.compile();Ext.TabPanel.prototype.itemTpl=k}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}if(this.activeTab!==undefined){var b=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(b)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this)}},findTargets:function(g){var e=null,d=g.getTarget("li:not(.x-tab-edge)",this.strip);if(d){e=this.getComponent(d.id.split(this.idDelimiter)[1]);if(e.disabled){return{close:null,item:null,el:null}}}return{close:g.getTarget(".x-tab-strip-close",this.strip),item:e,el:d}},onStripMouseDown:function(d){if(d.button!==0){return}d.preventDefault();var c=this.findTargets(d);if(c.close){if(c.item.fireEvent("beforeclose",c.item)!==false){c.item.fireEvent("close",c.item);this.remove(c.item)}return}if(c.item&&c.item!=this.activeTab){this.setActiveTab(c.item)}},onStripContextMenu:function(d){d.preventDefault();var c=this.findTargets(d);if(c.item){this.fireEvent("contextmenu",this,c.item,d)}},readTabs:function(k){if(k===true){this.items.each(function(a){this.remove(a)},this)}var j=this.el.query(this.autoTabSelector);for(var i=0,h=j.length;i<h;i++){var l=j[i],m=l.getAttribute("title");l.removeAttribute("title");this.add({title:m,contentEl:l})}},initTab:function(m,k){var n=this.strip.dom.childNodes[k],o=this.getTemplateArgs(m),l=n?this.itemTpl.insertBefore(n,o):this.itemTpl.append(this.strip,o),j="x-tab-strip-over",i=Ext.get(l);i.hover(function(){if(!m.disabled){i.addClass(j)}},function(){i.removeClass(j)});if(m.tabTip){i.child("span.x-tab-strip-text",true).qtip=m.tabTip}m.tabEl=l;i.select("a").on("click",function(a){if(!a.getPageX()){this.onStripMouseDown(a)}},this,{preventDefault:true});m.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(d){var c=d.closable?"x-tab-strip-closable":"";if(d.disabled){c+=" x-item-disabled"}if(d.iconCls){c+=" x-tab-with-icon"}if(d.tabCls){c+=" "+d.tabCls}return{id:this.id+this.idDelimiter+d.getItemId(),text:d.title,cls:c,iconCls:d.iconCls||""}},onAdd:function(d){Ext.TabPanel.superclass.onAdd.call(this,d);if(this.rendered){var c=this.items;this.initTab(d,c.indexOf(d));this.delegateUpdates()}},onBeforeAdd:function(e){var d=e.events?(this.items.containsKey(e.getItemId())?e:null):this.items.get(e);if(d){this.setActiveTab(e);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var g=e.elements;e.elements=g?g.replace(",header",""):g;e.border=(e.border===true)},onRemove:function(g){var e=Ext.get(g.tabEl);if(e){e.select("a").removeAllListeners();Ext.destroy(e)}Ext.TabPanel.superclass.onRemove.call(this,g);this.stack.remove(g);delete g.tabEl;g.un("disable",this.onItemDisabled,this);g.un("enable",this.onItemEnabled,this);g.un("titlechange",this.onItemTitleChanged,this);g.un("iconchange",this.onItemIconChanged,this);g.un("beforeshow",this.onBeforeShowItem,this);if(g==this.activeTab){var c=this.stack.next();if(c){this.setActiveTab(c)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.setActiveTab(null)}}}if(!this.destroying){this.delegateUpdates()}},onBeforeShowItem:function(b){if(b!=this.activeTab){this.setActiveTab(b);return false}},onItemDisabled:function(d){var c=this.getTabEl(d);if(c){Ext.fly(c).addClass("x-item-disabled")}this.stack.remove(d)},onItemEnabled:function(d){var c=this.getTabEl(d);if(c){Ext.fly(c).removeClass("x-item-disabled")}},onItemTitleChanged:function(d){var c=this.getTabEl(d);if(c){Ext.fly(c).child("span.x-tab-strip-text",true).innerHTML=d.title}},onItemIconChanged:function(i,e,h){var g=this.getTabEl(i);if(g){g=Ext.get(g);g.child("span.x-tab-strip-text").replaceClass(h,e);g[Ext.isEmpty(e)?"removeClass":"addClass"]("x-tab-with-icon")}},getTabEl:function(c){var d=this.getComponent(c);return d?d.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(d){d=this.getComponent(d);var c=this.getTabEl(d);if(c){c.style.display="none";this.delegateUpdates()}this.stack.remove(d)},unhideTabStripItem:function(d){d=this.getComponent(d);var c=this.getTabEl(d);if(c){c.style.display="";this.delegateUpdates()}},delegateUpdates:function(){var b=this.rendered;if(this.suspendUpdates){return}if(this.resizeTabs&&b){this.autoSizeTabs()}if(this.enableTabScroll&&b){this.autoScrollTabs()}},autoSizeTabs:function(){var i=this.items.length,u=this.tabPosition!="bottom"?"header":"footer",v=this[u].dom.offsetWidth,t=this[u].dom.clientWidth;if(!this.resizeTabs||i<1||!t){return}var p=Math.max(Math.min(Math.floor((t-4)/i)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=p;var r=this.strip.query("li:not(.x-tab-edge)");for(var x=0,o=r.length;x<o;x++){var q=r[x],s=Ext.fly(q).child(".x-tab-strip-inner",true),y=q.offsetWidth,w=s.offsetWidth;s.style.width=(p-(y-w))+"px"}},adjustBodyWidth:function(b){if(this.header){this.header.setWidth(b)}if(this.footer){this.footer.setWidth(b)}return b},setActiveTab:function(g){g=this.getComponent(g);if(this.fireEvent("beforetabchange",this,g,this.activeTab)===false){return}if(!this.rendered){this.activeTab=g;return}if(this.activeTab!=g){if(this.activeTab){var d=this.getTabEl(this.activeTab);if(d){Ext.fly(d).removeClass("x-tab-strip-active")}}this.activeTab=g;if(g){var e=this.getTabEl(g);Ext.fly(e).addClass("x-tab-strip-active");this.stack.add(g);this.layout.setActiveItem(g);this.delegateUpdates();if(this.scrolling){this.scrollToTab(g,this.animScroll)}}this.fireEvent("tabchange",this,g)}},getActiveTab:function(){return this.activeTab||null},getItem:function(b){return this.getComponent(b)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var j=this.items.length,o=this.pos.dom.offsetWidth,n=this.pos.dom.clientWidth,q=this.stripWrap,p=q.dom,m=p.offsetWidth,k=this.getScrollPos(),l=this.edge.getOffsetsTo(this.stripWrap)[0]+k;if(!this.enableTabScroll||m<20){return}if(j==0||l<=n){p.scrollLeft=0;q.setWidth(n);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){p.style.marginLeft="";p.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isWebKit){p.style.marginLeft="18px";p.style.marginRight="18px"}}n-=q.getMargins("lr");q.setWidth(n>20?n:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(k>(l-n)){p.scrollLeft=l-n}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var g=this.stripWrap.dom.offsetHeight;var d=this.pos.insertFirst({cls:"x-tab-scroller-left"});d.setHeight(g);d.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(d,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=d;var e=this.pos.insertFirst({cls:"x-tab-scroller-right"});e.setHeight(g);e.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(e,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=e},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(n,j){if(!n){return}var l=this.getTabEl(n),i=this.getScrollPos(),m=this.getScrollArea(),o=Ext.fly(l).getOffsetsTo(this.stripWrap)[0]+i,k=o+l.offsetWidth;if(o<i){this.scrollTo(o,j)}else{if(k>(i+m)){this.scrollTo(k-m,j)}}},scrollTo:function(d,c){this.stripWrap.scrollTo("left",d,c?this.getScrollAnim():false);if(!c){this.updateScrollButtons()}},onWheel:function(m){var d=m.getWheelDelta()*this.wheelIncrement*-1;m.stopEvent();var e=this.getScrollPos(),l=e+d,j=this.getScrollWidth()-this.getScrollArea();var k=Math.max(0,Math.min(j,l));if(k!=e){this.scrollTo(k,false)}},onScrollRight:function(){var d=this.getScrollWidth()-this.getScrollArea(),g=this.getScrollPos(),e=Math.min(d,g+this.getScrollIncrement());if(e!=g){this.scrollTo(e,this.animScroll)}},onScrollLeft:function(){var d=this.getScrollPos(),c=Math.max(0,d-this.getScrollIncrement());if(c!=d){this.scrollTo(c,this.animScroll)}},updateScrollButtons:function(){var b=this.getScrollPos();this.scrollLeft[b===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[b>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var b=[];return{add:function(a){b.push(a);if(b.length>10){b.shift()}},remove:function(i){var h=[];for(var g=0,a=b.length;g<a;g++){if(b[g]!=i){h.push(b[g])}}b=h},next:function(){return b.pop()}}};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){if(this.menu){if(Ext.isArray(this.menu)){this.menu={items:this.menu}}if(Ext.isObject(this.menu)){this.menu.ownerCt=this}this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=undefined}Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(Ext.isString(this.toggleGroup)){this.enableToggle=true}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"])}this.oldCls=(this.iconCls||this.icon)?(this.text?"x-btn-text-icon":"x-btn-icon"):"x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null])}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):""},onRender:function(h,e){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile()}this.template=Ext.Button.buttonTemplate}var g,i=this.getTemplateArgs();if(e){g=this.template.insertBefore(e,i,true)}else{g=this.template.append(h,i,true)}this.btnEl=g.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(g,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(e,g){this.el=e;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){g.dom.tabIndex=this.tabIndex}if(this.tooltip){this.setTooltip(this.tooltip,true)}if(this.handleMouseEvents){this.mon(e,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown})}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide})}if(this.repeat){var d=new Ext.util.ClickRepeater(e,Ext.isObject(this.repeat)?this.repeat:{});this.mon(d,"click",this.onRepeatClick,this)}else{this.mon(e,this.clickEvent,this.onClick,this)}},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(b){this.iconCls=b;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",b||""]);this.setButtonClass()}return this},setTooltip:function(d,c){if(this.rendered){if(!c){this.clearTip()}if(Ext.isObject(d)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},d));this.tooltip=d}else{this.btnEl.dom[this.tooltipType]=d}}else{this.tooltip=d}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.btnEl,this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(this.autoWidth!==false&&this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var b=this.btnEl;if(b&&b.getWidth()>20){b.clip();b.setWidth(Ext.util.TextMetrics.measure(b,this.text).width+b.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(d,c){this.handler=d;this.scope=c;return this},setText:function(b){this.text=b;if(this.el){this.btnEl.update(b||"&#160;");this.setButtonClass()}this.doAutoWidth();return this},setIcon:function(b){this.icon=b;if(this.el){this.btnEl.setStyle("background-image",b?"url("+b+")":"");this.setButtonClass()}return this},getText:function(){return this.text},toggle:function(d,c){d=d===undefined?!this.pressed:!!d;if(d!=this.pressed){if(this.rendered){this.el[d?"addClass":"removeClass"]("x-btn-pressed")}this.pressed=d;if(!c){this.fireEvent("toggle",this,d);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,d)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(b){if(this.el){if(!Ext.isIE6||!this.text){this.el[b?"addClass":"removeClass"](this.disabledClass)}this.el.dom.disabled=b}this.disabled=b},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onRepeatClick:function(c,d){this.onClick(d)},onClick:function(b){if(b){b.preventDefault()}if(b.button!==0){return}if(!this.disabled){this.doToggle();if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b)}}},doToggle:function(){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}},isMenuTriggerOver:function(d,c){return this.menu&&!c},isMenuTriggerOut:function(d,c){return this.menu&&!c},onMouseOver:function(d){if(!this.disabled){var c=d.within(this.el,true);if(!c){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,d)}if(this.isMenuTriggerOver(d,c)){this.fireEvent("menutriggerover",this,this.menu,d)}}},monitorMouseOver:function(b){if(b.target!=this.el.dom&&!b.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(b)}},onMouseOut:function(d){var c=d.within(this.el)&&d.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,d);if(this.isMenuTriggerOut(d,c)){this.fireEvent("menutriggerout",this,this.menu,d)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(b){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(b){this.el.removeClass("x-btn-focus")},getClickEl:function(d,c){return this.el},onMouseDown:function(b){if(!this.disabled&&b.button===0){this.getClickEl(b).addClass("x-btn-click");this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(b){if(b.button===0){this.getClickEl(b,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(b){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)}},onMenuHide:function(b){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt}},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var c={};function d(k,b){if(b){var a=c[k.toggleGroup];for(var i=0,g=a.length;i<g;i++){if(a[i]!=k){a[i].toggle(false)}}}}return{register:function(b){if(!b.toggleGroup){return}var a=c[b.toggleGroup];if(!a){a=c[b.toggleGroup]=[]}a.push(b);b.on("toggle",d)},unregister:function(b){if(!b.toggleGroup){return}var a=c[b.toggleGroup];if(a){a.remove(b);b.un("toggle",d)}},getPressed:function(a){var i=c[a];if(i){for(var g=0,b=i.length;g<b;g++){if(i[g].pressed===true){return i[g]}}}return null}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},setArrowHandler:function(d,c){this.arrowHandler=d;this.scope=c},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"")},isClickOnArrow:function(g){if(this.arrowAlign!="bottom"){var e=this.el.child("em.x-btn-split");var d=e.getRegion().right-e.getPadding("r");return g.getPageX()>d}else{return g.getPageY()>this.btnEl.getRegion().bottom}},onClick:function(d,c){d.preventDefault();if(!this.disabled){if(this.isClickOnArrow(d)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,d);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,d)}}else{this.doToggle();this.fireEvent("click",this,d);if(this.handler){this.handler.call(this.scope||this,this,d)}}}},isMenuTriggerOver:function(b){return this.menu&&b.target.tagName==this.arrowSelector},isMenuTriggerOut:function(d,c){return this.menu&&d.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(c){if(c&&this.showText===true){var d="";if(this.prependText){d+=this.prependText}d+=c.text;return d}return undefined},setActiveItem:function(g,d){if(!Ext.isObject(g)){g=this.menu.getComponent(g)}if(g){if(!this.rendered){this.text=this.getItemText(g);this.iconCls=g.iconCls}else{var e=this.getItemText(g);if(e){this.setText(e)}this.setIconClass(g.iconCls)}this.activeItem=g;if(!g.checked){g.setChecked(true,d)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!d){this.fireEvent("change",this,g)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var b=0;Ext.each(this.items,function(d,a){Ext.apply(d,{group:d.group||this.id,itemIndex:a,checkHandler:this.checkHandler,scope:this,checked:d.checked||false});this.menu.items.push(d);if(d.checked){b=a}},this);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);this.setActiveItem(b,true)},checkHandler:function(c,d){if(d){this.setActiveItem(c)}},toggleSelected:function(){var e=this.menu;e.render();if(!e.hasLayout){e.doLayout()}var i,g;for(var h=1;h<this.itemCount;h++){i=(this.activeItem.itemIndex+h)%this.itemCount;g=e.items.itemAt(i);if(!g.disabled){g.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(b){if(Ext.isArray(b)){b={items:b,layout:"toolbar"}}else{b=Ext.apply({layout:"toolbar"},b);if(b.buttons){b.items=b.buttons}}Ext.Toolbar.superclass.constructor.call(this,b)};(function(){var b=Ext.Toolbar;Ext.extend(b,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){b.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(d,a){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"}}this.el=d.createChild(Ext.apply({id:this.id},this.autoCreate),a);Ext.Toolbar.superclass.onRender.apply(this,arguments)}},lookupComponent:function(a){if(Ext.isString(a)){if(a=="-"){a=new b.Separator()}else{if(a==" "){a=new b.Spacer()}else{if(a=="->"){a=new b.Fill()}else{a=new b.TextItem(a)}}}this.applyDefaults(a)}else{if(a.isFormField||a.render){a=this.createComponent(a)}else{if(a.tag){a=new b.Item({autoEl:a})}else{if(a.tagName){a=new b.Item({el:a})}else{if(Ext.isObject(a)){a=a.xtype?this.createComponent(a):this.constructButton(a)}}}}}return a},applyDefaults:function(c){if(!Ext.isString(c)){c=Ext.Toolbar.superclass.applyDefaults.call(this,c);var a=this.internalDefaults;if(c.events){Ext.applyIf(c.initialConfig,a);Ext.apply(c,a)}else{Ext.applyIf(c,a)}}return c},addSeparator:function(){return this.add(new b.Separator())},addSpacer:function(){return this.add(new b.Spacer())},addFill:function(){this.add(new b.Fill())},addElement:function(a){return this.addItem(new b.Item({el:a}))},addItem:function(a){return this.add.apply(this,arguments)},addButton:function(g){if(Ext.isArray(g)){var i=[];for(var h=0,a=g.length;h<a;h++){i.push(this.addButton(g[h]))}return i}return this.add(this.constructButton(g))},addText:function(a){return this.addItem(new b.TextItem(a))},addDom:function(a){return this.add(new b.Item({autoEl:a}))},addField:function(a){return this.add(a)},insertButton:function(i,a){if(Ext.isArray(a)){var k=[];for(var j=0,h=a.length;j<h;j++){k.push(this.insertButton(i+j,a[j]))}return k}return Ext.Toolbar.superclass.insert.call(this,i,a)},trackMenu:function(e,a){if(this.trackMenus&&e.menu){var g=a?"mun":"mon";this[g](e,"menutriggerover",this.onButtonTriggerOver,this);this[g](e,"menushow",this.onButtonMenuShow,this);this[g](e,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(a){var e=a.events?a:this.createComponent(a,a.split?"splitbutton":this.defaultType);return e},onAdd:function(a){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(a);if(this.disabled){a.disable()}},onRemove:function(a){Ext.Toolbar.superclass.onRemove.call(this);if(a==this.activeMenuBtn){delete this.activeMenuBtn}this.trackMenu(a,true)},onDisable:function(){this.items.each(function(a){if(a.disable){a.disable()}})},onEnable:function(){this.items.each(function(a){if(a.enable){a.enable()}})},onButtonTriggerOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!=a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);b.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",b.Item);b.Separator=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"span",cls:"xtb-sep"},a)}});Ext.reg("tbseparator",b.Separator);b.Spacer=Ext.extend(b.Item,{onRender:function(d,a){this.el=d.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},a)}});Ext.reg("tbspacer",b.Spacer);b.Fill=Ext.extend(b.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",b.Fill);b.TextItem=Ext.extend(b.Item,{constructor:function(a){b.TextItem.superclass.constructor.call(this,Ext.isString(a)?{text:a}:a)},onRender:function(d,a){this.autoEl={cls:"xtb-text",html:this.text||""};b.TextItem.superclass.onRender.call(this,d,a)},setText:function(a){if(this.rendered){this.el.update(a)}else{this.text=a}}});Ext.reg("tbtext",b.TextItem);b.Button=Ext.extend(Ext.Button,{});b.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",b.Button);Ext.reg("tbsplit",b.SplitButton)})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle")}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(d){d=Ext.ButtonGroup.superclass.applyDefaults.call(this,d);var c=this.internalDefaults;if(d.events){Ext.applyIf(d.initialConfig,c);Ext.apply(d,c)}else{Ext.applyIf(d,c)}return d},onAfterLayout:function(){var b=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(b);this.el.setWidth(b+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var b=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var d=[this.first=new b.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new b.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new b.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new b.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new b.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new b.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];var a=this.items||this.buttons||[];if(this.prependButtons){this.items=a.concat(d)}else{this.items=d.concat(a)}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new b.TextItem({}))}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true)},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayItem){var a=this.store.getCount();var d=a==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+a,this.store.getTotalCount());this.displayItem.setText(d)}},onLoad:function(l,n,k){if(!this.rendered){this.dsLoaded=[l,n,k];return}var o=this.getParams();this.cursor=(k.params&&k.params[o.start])?k.params[o.start]:0;var d=this.getPageData(),m=d.activePage,a=d.pages;this.afterTextItem.setText(String.format(this.afterPageText,d.pages));this.inputItem.setValue(m);this.first.setDisabled(m==1);this.prev.setDisabled(m==1);this.next.setDisabled(m==a);this.last.setDisabled(m==a);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,d)},getPageData:function(){var a=this.store.getTotalCount();return{total:a,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:a<this.pageSize?1:Math.ceil(a/this.pageSize)}},changePage:function(a){this.doLoad(((a-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){if(!this.rendered){return}this.refresh.enable()},readPage:function(g){var a=this.inputItem.getValue(),d;if(!a||isNaN(d=parseInt(a,10))){this.inputItem.setValue(g.activePage);return false}return d},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(a){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(d,a){var l=a.getKey(),e=this.getPageData(),m;if(l==a.RETURN){a.stopEvent();m=this.readPage(e);if(m!==false){m=Math.min(Math.max(1,m),e.pages)-1;this.doLoad(m*this.pageSize)}}else{if(l==a.HOME||l==a.END){a.stopEvent();m=l==a.HOME?1:e.pages;d.setValue(m)}else{if(l==a.UP||l==a.PAGEUP||l==a.DOWN||l==a.PAGEDOWN){a.stopEvent();if((m=this.readPage(e))){var k=a.shiftKey?10:1;if(l==a.DOWN||l==a.PAGEDOWN){k*=-1}m+=k;if(m>=1&m<=e.pages){d.setValue(m)}}}}}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(g){var e={},a=this.getParams();e[a.start]=g;e[a.limit]=this.pageSize;if(this.fireEvent("beforechange",this,e)!==false){this.store.load({params:e})}},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var d=this.store.getTotalCount(),a=d%this.pageSize;this.doLoad(a?(d-a):d-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(e,g){var a;if(!g&&this.store){if(e!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this)}if(!e){this.store=null}}if(e){e=Ext.StoreMgr.lookup(e);e.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});a=true}this.store=e;if(a){this.onLoad(e,null,{})}},unbind:function(a){this.bindStore(null)},bind:function(a){this.bindStore(a)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);Ext.History=(function(){var t,r;var o=false;var s;function u(){var a=location.href,b=a.indexOf("#"),c=b>=0?a.substr(b+1):null;if(Ext.isGecko){c=decodeURIComponent(c)}return c}function p(){r.value=s}function l(a){s=a;Ext.History.fireEvent("change",a)}function m(c){var b=['<html><body><div id="state">',Ext.util.Format.htmlEncode(c),"</div></body></html>"].join("");try{var a=t.contentWindow.document;a.open();a.write(b);a.close();return true}catch(d){return false}}function q(){if(!t.contentWindow||!t.contentWindow.document){setTimeout(q,10);return}var a=t.contentWindow.document;var c=a.getElementById("state");var b=c?c.innerText:null;var d=u();setInterval(function(){a=t.contentWindow.document;c=a.getElementById("state");var g=c?c.innerText:null;var e=u();if(g!==b){b=g;l(b);location.hash=b;d=b;p()}else{if(e!==d){d=e;m(e)}}},50);o=true;Ext.History.fireEvent("ready",Ext.History)}function n(){s=r.value?r.value:u();if(Ext.isIE){q()}else{var a=u();setInterval(function(){var b=u();if(b!==a){a=b;l(a);p()}},50);o=true;Ext.History.fireEvent("ready",Ext.History)}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(b,a){if(o){Ext.callback(b,a,[this]);return}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(b,a)});return}r=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){t=Ext.getDom(Ext.History.iframeId)}this.addEvents("ready","change");if(b){this.on("ready",b,a,{single:true})}n()},add:function(a,b){if(b!==false){if(this.getToken()==a){return true}}if(Ext.isIE){return m(a)}else{location.hash=a;return true}},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return o?s:u()}}})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this})}},showAt:function(b){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){b=this.el.adjustForConstraints(b)}this.setPagePosition(b[0],b[1])},doAutoWidth:function(c){c=c||0;var d=this.body.getTextWidth();if(this.title){d=Math.max(d,this.header.child("span").getTextWidth(this.title))}d+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+c;this.setWidth(d.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(c,d){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(c,d||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(d,c){Ext.apply(this,c);this.tip=d;Ext.Tip.DD.superclass.constructor.call(this,d.el.id,"WindowDD-"+d.id);this.setHandleElId(d.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(b){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(d,c){Ext.ToolTip.superclass.onRender.call(this,d,c);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1).setVisibilityMode(Ext.Element.DISPLAY)},initTarget:function(g){var d;if((d=Ext.get(g))){if(this.target){var e=Ext.get(this.target);this.mun(e,"mouseover",this.onTargetOver,this);this.mun(e,"mouseout",this.onTargetOut,this);this.mun(e,"mousemove",this.onMouseMove,this)}this.mon(d,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=d}if(this.anchor){this.anchorTarget=this.target}},onMouseMove:function(d){var c=this.delegate?d.getTarget(this.delegate):this.triggerElement=true;if(c){this.targetXY=d.getXY();if(c===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(d)}}else{if(!this.closable&&this.isVisible()){this.hide()}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement}if(this.anchor){this.targetCounter++;var t=this.getOffsets(),q=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,r=Ext.lib.Dom.getViewWidth()-5,m=Ext.lib.Dom.getViewHeight()-5,n=document.documentElement,v=document.body,p=(n.scrollLeft||v.scrollLeft||0)+5,o=(n.scrollTop||v.scrollTop||0)+5,s=[q[0]+t[0],q[1]+t[1]],w=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(s[0]<p){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="left";return this.getTargetXY()}if(s[0]+w.width>r){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="right";return this.getTargetXY()}if(s[1]<o){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="top";return this.getTargetXY()}if(s[1]+w.height>m){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return s}else{var u=this.getMouseOffset();return[this.targetXY[0]+u[0],this.targetXY[1]+u[1]]}},getMouseOffset:function(){var b=this.anchor?[0,0]:[15,18];if(this.mouseOffset){b[0]+=this.mouseOffset[0];b[1]+=this.mouseOffset[1]}return b},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0)}else{var b=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!b){throw"AnchorTip.defaultAlign is invalid"}this.tipAnchor=b[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var e,d=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse){switch(d){case"t":e=[0,9];break;case"b":e=[0,-13];break;case"r":e=[-13,0];break;default:e=[9,0];break}}else{switch(d){case"t":e=[-15-this.anchorOffset,30];break;case"b":e=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":e=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:e=[25,-13-this.anchorOffset];break}}var g=this.getMouseOffset();e[0]+=g[0];e[1]+=g[1];return e},onTargetOver:function(d){if(this.disabled||d.within(this.target.dom,true)){return}var c=d.getTarget(this.delegate);if(c){this.triggerElement=c;this.clearTimer("hide");this.targetXY=d.getXY();this.delayShow()}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(b){if(this.disabled||b.within(this.target.dom,true)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide()}Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor}this.showAt(this.getTargetXY());if(this.anchor){this.anchorEl.show();this.syncAnchor();this.constrainPosition=this.origConstrainPosition}else{this.anchorEl.hide()}},showAt:function(b){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,b);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();this.anchorEl.show()}else{this.anchorEl.hide()}},syncAnchor:function(){var d,e,g;switch(this.tipAnchor.charAt(0)){case"t":d="b";e="tl";g=[20+this.anchorOffset,2];break;case"r":d="l";e="tr";g=[-2,11+this.anchorOffset];break;case"b":d="t";e="bl";g=[20+this.anchorOffset,-2];break;default:d="r";e="tl";g=[2,11+this.anchorOffset];break}this.anchorEl.alignTo(this.el,d+"-"+e,g)},setPagePosition:function(c,d){Ext.ToolTip.superclass.setPagePosition.call(this,c,d);if(this.anchor){this.syncAnchor()}},clearTimer:function(b){b=b+"Timer";clearTimeout(this[b]);delete this[b]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(b){if(this.autoHide!==true&&!this.closable&&!b.within(this.el.dom)){this.disable();this.doEnable.defer(100,this)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(e,i){if(this.constrainPosition){var h=this.targetXY[1],g=this.getSize().height;if(i<=h&&(i+g)>=h){i=h-g-5}}return{x:e,y:i}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(p){var c=Ext.isArray(p)?p:arguments;for(var q=0,m=c.length;q<m;q++){var j=c[q];var i=j.target;if(i){if(Ext.isArray(i)){for(var o=0,n=i.length;o<n;o++){this.targets[Ext.id(i[o])]=j}}else{this.targets[Ext.id(i)]=j}}}},unregister:function(b){delete this.targets[Ext.id(b)]},cancelShow:function(d){var c=this.activeTarget;d=Ext.get(d).dom;if(this.isVisible()){if(c&&c.el==d){this.hide()}}else{if(c&&c.el==d){this.clearTimer("show")}}},getTipCfg:function(i){var g=i.getTarget(),h,e;if(this.interceptTitles&&g.title&&Ext.isString(g.title)){h=g.title;g.qtip=h;g.removeAttribute("title");i.preventDefault()}else{e=this.tagConfig;h=g.qtip||Ext.fly(g).getAttribute(e.attribute,e.namespace)}return h},onTargetOver:function(j){if(this.disabled){return}this.targetXY=j.getXY();var m=j.getTarget();if(!m||m.nodeType!==1||m==document||m==document.body){return}if(this.activeTarget&&((m==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(m))){this.clearTimer("hide");this.show();return}if(m&&this.targets[m.id]){this.activeTarget=this.targets[m.id];this.activeTarget.el=m;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=m}this.delayShow();return}var o,e=Ext.fly(m),l=this.tagConfig,n=l.namespace;if(o=this.getTipCfg(j)){var k=e.getAttribute(l.hide,n);this.activeTarget={el:m,text:o,width:e.getAttribute(l.width,n),autoHide:k!="user"&&k!=="false",title:e.getAttribute(l.title,n),cls:e.getAttribute(l.cls,n),align:e.getAttribute(l.align,n)};this.anchor=e.getAttribute(l.anchor,n);if(this.anchor){this.anchorTarget=m}this.delayShow()}},onTargetOut:function(b){if(this.activeTarget&&b.within(this.activeTarget.el)&&!this.getTipCfg(b)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(d){var c=this.activeTarget;if(c){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=c}if(c.width){this.setWidth(c.width);this.body.setWidth(this.adjustBodyWidth(c.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(c.title||"");this.body.update(c.text);this.autoHide=c.autoHide;this.dismissDelay=c.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(c.cls){this.el.addClass(c.cls);this.lastCls=c.cls}if(this.anchor){this.constrainPosition=false}else{if(c.align){d=this.el.getAlignToXY(c.el,c.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.QuickTip.superclass.showAt.call(this,d)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var d,c=false;return{init:function(a){if(!d){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(a)});return}d=new Ext.QuickTip({elements:"header,body",disabled:c});if(a!==false){d.render(Ext.getBody())}}},ddDisable:function(){if(d&&!c){d.disable()}},ddEnable:function(){if(d&&!c){d.enable()}},enable:function(){if(d){d.enable()}c=false},disable:function(){if(d){d.disable()}c=true},isEnabled:function(){return d!==undefined&&!d.disabled},getQuickTip:function(){return d},register:function(){d.register.apply(d,arguments)},unregister:function(){d.unregister.apply(d,arguments)},tips:function(){d.register.apply(d,arguments)}}}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(b){b.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(e,g,d){this.show();this.body.update(this.getText(d));this.doAutoWidth();this.el.alignTo(d.el,"b-t?",this.offsets)},getText:function(b){return String(b.value)}});Ext.ux.SliderTip=Ext.slider.Tip;Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this)}var c=this.loader;if(!c){c=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod})}else{if(Ext.isObject(c)&&!c.load){c=new Ext.tree.TreeLoader(c)}}this.loader=c;this.nodeHash={};if(this.root){var d=this.root;delete this.root;this.setRootNode(d)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this)}},proxyNodeEvent:function(l,k,j,i,o,n,m){if(l=="collapse"||l=="expand"||l=="beforecollapse"||l=="beforeexpand"||l=="move"||l=="beforemove"){l=l+"node"}return this.fireEvent(l,k,j,i,o,n,m)},getRootNode:function(){return this.root},setRootNode:function(d){this.destroyRoot();if(!d.render){d=this.loader.createNode(d)}this.root=d;d.ownerTree=this;d.isRoot=true;this.registerNode(d);if(!this.rootVisible){var c=d.attributes.uiProvider;d.ui=c?new c(d):new Ext.tree.RootTreeNodeUI(d)}if(this.innerCt){this.clearInnerCt();this.renderRoot()}return d},clearInnerCt:function(){this.innerCt.update("")},renderRoot:function(){this.root.render();if(!this.rootVisible){this.root.renderChildren()}},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(b){this.nodeHash[b.id]=b},unregisterNode:function(b){delete this.nodeHash[b.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(c){var d=c.parentNode;if(d){if(d.expandedChild&&d.expandedChild.parentNode==d){d.expandedChild.collapse()}d.expandedChild=c}},getChecked:function(a,g){g=g||this.root;var h=[];var i=function(){if(this.attributes.checked){h.push(!a?this:(a=="id"?this.id:this.attributes[a]))}};g.cascade(i);return h},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(true)},collapseAll:function(){this.root.collapse(true)},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel()}return this.selModel},expandPath:function(o,j,i){if(Ext.isEmpty(o)){if(i){i(false,undefined)}return}j=j||"id";var m=o.split(this.pathSeparator);var l=this.root;if(l.attributes[j]!=m[1]){if(i){i(false,null)}return}var k=1;var n=function(){if(++k==m.length){if(i){i(true,l)}return}var a=l.findChild(j,m[k]);if(!a){if(i){i(false,l)}return}l=a;a.expand(false,false,n)};l.expand(false,false,n)},selectPath:function(l,h,m){if(Ext.isEmpty(l)){if(m){m(false,undefined)}return}h=h||"id";var j=l.split(this.pathSeparator),i=j.pop();if(j.length>1){var k=function(b,a){if(b&&a){var c=a.findChild(h,i);if(c){c.select();if(m){m(true,c)}}else{if(m){m(false,c)}}}else{if(m){m(false,c)}}};this.expandPath(j.join(this.pathSeparator),h,k)}else{this.root.select();if(m){m(true,this.root)}}},getTreeEl:function(){return this.body},onRender:function(d,c){Ext.tree.TreePanel.superclass.onRender.call(this,d,c);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body)}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true})}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})}this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot()},beforeDestroy:function(){if(this.rendered){Ext.dd.ScrollManager.unregister(this.body);Ext.destroy(this.dropZone,this.dragZone)}this.destroyRoot();Ext.destroy(this.loader);this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this)},destroyRoot:function(){if(this.root&&this.root.destroy){this.root.destroy(true)}}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(b){this.tree=b;this.tree.on("render",this.initEvents,this)};Ext.tree.TreeEventModel.prototype={initEvents:function(){var b=this.tree;if(b.trackMouseOver!==false){b.mon(b.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut})}b.mon(b.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(e){var d;if(d=e.getTarget(".x-tree-node-el",10)){var g=Ext.fly(d,"_treeEvents").getAttribute("tree-node-id","ext");if(g){return this.tree.getNodeById(g)}}return null},getNodeTarget:function(d){var c=d.getTarget(".x-tree-node-icon",1);if(!c){c=d.getTarget(".x-tree-node-el",6)}return c},delegateOut:function(e,d){if(!this.beforeEvent(e)){return}if(e.getTarget(".x-tree-ec-icon",1)){var g=this.getNode(e);this.onIconOut(e,g);if(g==this.lastEcOver){delete this.lastEcOver}}if((d=this.getNodeTarget(e))&&!e.within(d,true)){this.onNodeOut(e,this.getNode(e))}},delegateOver:function(d,c){if(!this.beforeEvent(d)){return}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true}if(this.lastEcOver){this.onIconOut(d,this.lastEcOver);delete this.lastEcOver}if(d.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(d);this.onIconOver(d,this.lastEcOver)}if(c=this.getNodeTarget(d)){this.onNodeOver(d,this.getNode(d))}},trackExit:function(b){if(this.lastOverNode){if(this.lastOverNode.ui&&!b.within(this.lastOverNode.ui.getEl())){this.onNodeOut(b,this.lastOverNode)}delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false}},delegateClick:function(d,c){if(this.beforeEvent(d)){if(d.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(d,this.getNode(d))}else{if(d.getTarget(".x-tree-ec-icon",1)){this.onIconClick(d,this.getNode(d))}else{if(this.getNodeTarget(d)){this.onNodeClick(d,this.getNode(d))}}}}else{this.checkContainerEvent(d,"click")}},delegateDblClick:function(d,c){if(this.beforeEvent(d)){if(this.getNodeTarget(d)){this.onNodeDblClick(d,this.getNode(d))}}else{this.checkContainerEvent(d,"dblclick")}},delegateContextMenu:function(d,c){if(this.beforeEvent(d)){if(this.getNodeTarget(d)){this.onNodeContextMenu(d,this.getNode(d))}}else{this.checkContainerEvent(d,"contextmenu")}},checkContainerEvent:function(d,c){if(this.disabled){d.stopEvent();return false}this.onContainerEvent(d,c)},onContainerEvent:function(d,c){this.tree.fireEvent("container"+c,this.tree,d)},onNodeClick:function(d,c){c.ui.onClick(d)},onNodeOver:function(d,c){this.lastOverNode=c;c.ui.onOver(d)},onNodeOut:function(d,c){c.ui.onOut(d)},onIconOver:function(d,c){c.ui.addClass("x-tree-ec-over")},onIconOut:function(d,c){c.ui.removeClass("x-tree-ec-over")},onIconClick:function(d,c){c.ui.ecClick(d)},onCheckboxClick:function(d,c){c.ui.onCheckChange(d)},onNodeDblClick:function(d,c){c.ui.onDblClick(d)},onNodeContextMenu:function(d,c){c.ui.onContextMenu(d)},beforeEvent:function(d){var c=this.getNode(d);if(this.disabled||!c||!c.ui){d.stopEvent();return false}return true},disable:function(){this.disabled=true},enable:function(){this.disabled=false}};Ext.tree.DefaultSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(b){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,b);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)},init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this)},onNodeClick:function(c,d){this.select(c)},select:function(g,d){if(!Ext.fly(g.ui.wrap).isVisible()&&d){return d.call(this,g)}var e=this.selNode;if(g==e){g.ui.onSelectedChange(true)}else{if(this.fireEvent("beforeselect",this,g,e)!==false){if(e&&e.ui){e.ui.onSelectedChange(false)}this.selNode=g;g.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,g,e)}}return g},unselect:function(d,c){if(this.selNode==d){this.clearSelections(c)}},clearSelections:function(c){var d=this.selNode;if(d){d.ui.onSelectedChange(false);this.selNode=null;if(c!==true){this.fireEvent("selectionchange",this,null)}}return d},getSelectedNode:function(){return this.selNode},isSelected:function(b){return this.selNode==b},selectPrevious:function(d){if(!(d=d||this.selNode||this.lastSelNode)){return null}var g=d.previousSibling;if(g){if(!g.isExpanded()||g.childNodes.length<1){return this.select(g,this.selectPrevious)}else{var e=g.lastChild;while(e&&e.isExpanded()&&Ext.fly(e.ui.wrap).isVisible()&&e.childNodes.length>0){e=e.lastChild}return this.select(e,this.selectPrevious)}}else{if(d.parentNode&&(this.tree.rootVisible||!d.parentNode.isRoot)){return this.select(d.parentNode,this.selectPrevious)}}return null},selectNext:function(d){if(!(d=d||this.selNode||this.lastSelNode)){return null}if(d.firstChild&&d.isExpanded()&&Ext.fly(d.ui.wrap).isVisible()){return this.select(d.firstChild,this.selectNext)}else{if(d.nextSibling){return this.select(d.nextSibling,this.selectNext)}else{if(d.parentNode){var c=null;d.parentNode.bubble(function(){if(this.nextSibling){c=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext);return false}});return c}}}return null},onKeyDown:function(h){var g=this.selNode||this.lastSelNode;var i=this;if(!g){return}var e=h.getKey();switch(e){case h.DOWN:h.stopEvent();this.selectNext();break;case h.UP:h.stopEvent();this.selectPrevious();break;case h.RIGHT:h.preventDefault();if(g.hasChildNodes()){if(!g.isExpanded()){g.expand()}else{if(g.firstChild){this.select(g.firstChild,h)}}}break;case h.LEFT:h.preventDefault();if(g.hasChildNodes()&&g.isExpanded()){g.collapse()}else{if(g.parentNode&&(this.tree.rootVisible||g.parentNode!=this.tree.getRootNode())){this.select(g.parentNode,h)}}break}}});Ext.tree.MultiSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(b){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,b);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)},init:function(b){this.tree=b;b.mon(b.getTreeEl(),"keydown",this.onKeyDown,this);b.on("click",this.onNodeClick,this)},onNodeClick:function(c,d){if(d.ctrlKey&&this.isSelected(c)){this.unselect(c)}else{this.select(c,d,d.ctrlKey)}},select:function(d,g,e){if(e!==true){this.clearSelections(true)}if(this.isSelected(d)){this.lastSelNode=d;return d}this.selNodes.push(d);this.selMap[d.id]=d;this.lastSelNode=d;d.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return d},unselect:function(e){if(this.selMap[e.id]){e.ui.onSelectedChange(false);var g=this.selNodes;var d=g.indexOf(e);if(d!=-1){this.selNodes.splice(d,1)}delete this.selMap[e.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(g){var i=this.selNodes;if(i.length>0){for(var h=0,e=i.length;h<e;h++){i[h].ui.onSelectedChange(false)}this.selNodes=[];this.selMap={};if(g!==true){this.fireEvent("selectionchange",this,this.selNodes)}}},isSelected:function(b){return this.selMap[b.id]?true:false},getSelectedNodes:function(){return this.selNodes.concat([])},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(b){this.nodeHash={};this.root=null;if(b){this.setRootNode(b)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(b){this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);return b},getNodeById:function(b){return this.nodeHash[b]},registerNode:function(b){this.nodeHash[b.id]=b},unregisterNode:function(b){delete this.nodeHash[b.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(b){this.attributes=b||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(d){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var c=this.getOwnerTree();if(c){if(c.proxyNodeEvent.apply(c,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(b){this.firstChild=b},setLastChild:function(b){this.lastChild=b},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(n){var o=false;if(Ext.isArray(n)){o=n}else{if(arguments.length>1){o=arguments}}if(o){for(var m=0,j=o.length;m<j;m++){this.appendChild(o[m])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,n)===false){return false}var k=this.childNodes.length;var l=n.parentNode;if(l){if(n.fireEvent("beforemove",n.getOwnerTree(),n,l,this,k)===false){return false}l.removeChild(n)}k=this.childNodes.length;if(k===0){this.setFirstChild(n)}this.childNodes.push(n);n.parentNode=this;var i=this.childNodes[k-1];if(i){n.previousSibling=i;i.nextSibling=n}else{n.previousSibling=null}n.nextSibling=null;this.setLastChild(n);n.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,n,k);if(l){n.fireEvent("move",this.ownerTree,n,l,this,k)}return n}},removeChild:function(g,e){var d=this.childNodes.indexOf(g);if(d==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,g)===false){return false}this.childNodes.splice(d,1);if(g.previousSibling){g.previousSibling.nextSibling=g.nextSibling}if(g.nextSibling){g.nextSibling.previousSibling=g.previousSibling}if(this.firstChild==g){this.setFirstChild(g.nextSibling)}if(this.lastChild==g){this.setLastChild(g.previousSibling)}this.fireEvent("remove",this.ownerTree,this,g);if(e){g.destroy(true)}else{g.clear()}return g},clear:function(b){this.setOwnerTree(null,b);this.parentNode=this.previousSibling=this.nextSibling=null;if(b){this.firstChild=this.lastChild=null}},destroy:function(b){if(b===true){this.purgeListeners();this.clear(true);Ext.each(this.childNodes,function(a){a.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(k,h){if(!h){return this.appendChild(k)}if(k==h){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,k,h)===false){return false}var i=this.childNodes.indexOf(h);var j=k.parentNode;var l=i;if(j==this&&this.childNodes.indexOf(k)<i){l--}if(j){if(k.fireEvent("beforemove",k.getOwnerTree(),k,j,this,i,h)===false){return false}j.removeChild(k)}if(l===0){this.setFirstChild(k)}this.childNodes.splice(l,0,k);k.parentNode=this;var m=this.childNodes[l-1];if(m){k.previousSibling=m;m.nextSibling=k}else{k.previousSibling=null}k.nextSibling=h;h.previousSibling=k;k.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,k,h);if(j){k.fireEvent("move",this.ownerTree,k,j,this,l,h)}return k},remove:function(b){if(this.parentNode){this.parentNode.removeChild(this,b)}return this},removeAll:function(d){var g=this.childNodes,e;while((e=g[0])){this.removeChild(e,d)}return this},item:function(b){return this.childNodes[b]},replaceChild:function(d,g){var e=g?g.nextSibling:null;this.removeChild(g);this.insertBefore(d,e);return g},indexOf:function(b){return this.childNodes.indexOf(b)},getOwnerTree:function(){if(!this.ownerTree){var b=this;while(b){if(b.ownerTree){this.ownerTree=b.ownerTree;break}b=b.parentNode}}return this.ownerTree},getDepth:function(){var d=0;var c=this;while(c.parentNode){++d;c=c.parentNode}return d},setOwnerTree:function(c,d){if(c!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=c;if(d!==true){Ext.each(this.childNodes,function(a){a.setOwnerTree(c)})}if(c){c.registerNode(this)}}},setId:function(d){if(d!==this.id){var c=this.ownerTree;if(c){c.unregisterNode(this)}this.id=this.attributes.id=d;if(c){c.registerNode(this)}this.onIdChange(d)}},onIdChange:Ext.emptyFn,getPath:function(g){g=g||"id";var i=this.parentNode;var b=[this.attributes[g]];while(i){b.unshift(i.attributes[g]);i=i.parentNode}var h=this.getOwnerTree().pathSeparator;return h+b.join(h)},bubble:function(h,g,e){var i=this;while(i){if(h.apply(g||i,e||[i])===false){break}i=i.parentNode}},cascade:function(m,l,i){if(m.apply(l||this,i||[this])!==false){var k=this.childNodes;for(var j=0,h=k.length;j<h;j++){k[j].cascade(m,l,i)}}},eachChild:function(m,l,i){var k=this.childNodes;for(var j=0,h=k.length;j<h;j++){if(m.apply(l||k[j],i||[k[j]])===false){break}}},findChild:function(e,g,d){return this.findChildBy(function(){return this.attributes[e]==g},null,d)},findChildBy:function(i,q,m){var p=this.childNodes,l=p.length,o=0,k,n;for(;o<l;o++){k=p[o];if(i.call(q||k,k)===true){return k}else{if(m){n=k.findChildBy(i,q,m);if(n!=null){return n}}}}return null},sort:function(n,m){var l=this.childNodes;var j=l.length;if(j>0){var o=m?function(){n.apply(m,arguments)}:n;l.sort(o);for(var k=0;k<j;k++){var i=l[k];i.previousSibling=l[k-1];i.nextSibling=l[k+1];if(k===0){this.setFirstChild(i)}if(k==j-1){this.setLastChild(i)}}}},contains:function(b){return b.isAncestor(this)},isAncestor:function(c){var d=this.parentNode;while(d){if(d==c){return true}d=d.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.tree.TreeNode=Ext.extend(Ext.data.Node,{constructor:function(c){c=c||{};if(Ext.isString(c)){c={text:c}}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,c);this.expanded=c.expanded===true;this.isTarget=c.isTarget!==false;this.draggable=c.draggable!==false&&c.allowDrag!==false;this.allowChildren=c.allowChildren!==false&&c.allowDrop!==false;this.text=c.text;this.disabled=c.disabled===true;this.hidden=c.hidden===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var d=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new d(this)},preventHScroll:true,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var b;return this.loader||((b=this.getOwnerTree())&&b.loader?b.loader:(this.loader=new Ext.tree.TreeLoader()))},setFirstChild:function(c){var d=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,c);if(this.childrenRendered&&d&&c!=d){d.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},setLastChild:function(d){var c=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,d);if(this.childrenRendered&&c&&d!=c){c.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},appendChild:function(d){if(!d.render&&!Ext.isArray(d)){d=this.getLoader().createNode(d)}var c=Ext.tree.TreeNode.superclass.appendChild.call(this,d);if(c&&this.childrenRendered){c.render()}this.ui.updateExpandIcon();return c},removeChild:function(e,d){this.ownerTree.getSelectionModel().unselect(e);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(!d){var g=e.ui.rendered;if(g){e.ui.remove()}if(g&&this.childNodes.length<1){this.collapse(false,false)}else{this.ui.updateExpandIcon()}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false}}return e},insertBefore:function(g,d){if(!g.render){g=this.getLoader().createNode(g)}var e=Ext.tree.TreeNode.superclass.insertBefore.call(this,g,d);if(e&&d&&this.childrenRendered){g.render()}this.ui.updateExpandIcon();return e},setText:function(d){var c=this.text;this.text=this.attributes.text=d;if(this.rendered){this.ui.onTextChange(this,d,c)}this.fireEvent("textchange",this,d,c)},setIconCls:function(d){var c=this.attributes.iconCls;this.attributes.iconCls=d;if(this.rendered){this.ui.onIconClsChange(this,d,c)}},setTooltip:function(c,d){this.attributes.qtip=c;this.attributes.qtipTitle=d;if(this.rendered){this.ui.onTipChange(this,c,d)}},setIcon:function(b){this.attributes.icon=b;if(this.rendered){this.ui.onIconChange(this,b)}},setHref:function(c,d){this.attributes.href=c;this.attributes.hrefTarget=d;if(this.rendered){this.ui.onHrefChange(this,c,d)}},setCls:function(d){var c=this.attributes.cls;this.attributes.cls=d;if(this.rendered){this.ui.onClsChange(this,d,c)}},select:function(){var b=this.getOwnerTree();if(b){b.getSelectionModel().select(this)}},unselect:function(c){var d=this.getOwnerTree();if(d){d.getSelectionModel().unselect(this,c)}},isSelected:function(){var b=this.getOwnerTree();return b?b.getSelectionModel().isSelected(this):false},expand:function(e,h,i,g){if(!this.expanded){if(this.fireEvent("beforeexpand",this,e,h)===false){return}if(!this.childrenRendered){this.renderChildren()}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&h!==false)||h){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(i,g||this,[this]);if(e===true){this.expandChildNodes(true,true)}}.createDelegate(this));return}else{this.ui.expand();this.fireEvent("expand",this);this.runCallback(i,g||this,[this])}}else{this.runCallback(i,g||this,[this])}if(e===true){this.expandChildNodes(true)}},runCallback:function(d,g,e){if(Ext.isFunction(d)){d.apply(g,e)}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(k,o,i,n){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,k,o)===false){return}this.expanded=false;if((this.getOwnerTree().animate&&o!==false)||o){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(i,n||this,[this]);if(k===true){this.collapseChildNodes(true)}}.createDelegate(this));return}else{this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(i,n||this,[this])}}else{if(!this.expanded){this.runCallback(i,n||this,[this])}}if(k===true){var m=this.childNodes;for(var l=0,j=m.length;l<j;l++){m[l].collapse(true,false)}}},delayedExpand:function(b){if(!this.expandProcId){this.expandProcId=this.expand.defer(b,this)}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId)}this.expandProcId=false},toggle:function(){if(this.expanded){this.collapse()}else{this.expand()}},ensureVisible:function(g,e){var d=this.getOwnerTree();d.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var a=d.getNodeById(this.id);d.getTreeEl().scrollChildIntoView(a.ui.anchor);this.runCallback(g,e||this,[this])}.createDelegate(this))},expandChildNodes:function(h,k){var j=this.childNodes,i,g=j.length;for(i=0;i<g;i++){j[i].expand(h,k)}},collapseChildNodes:function(g){var i=this.childNodes;for(var h=0,e=i.length;h<e;h++){i[h].collapse(g)}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true)}this.fireEvent("disabledchange",this,true)},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false)}this.fireEvent("disabledchange",this,false)},renderChildren:function(g){if(g!==false){this.fireEvent("beforechildrenrendered",this)}var i=this.childNodes;for(var h=0,e=i.length;h<e;h++){i[h].render(true)}this.childrenRendered=true},sort:function(k,j){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var i=this.childNodes;for(var h=0,g=i.length;h<g;h++){i[h].render(true)}}},render:function(b){this.ui.render(b);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false)}}},renderIndent:function(h,k){if(k){this.ui.childIndent=null}this.ui.renderIndent();if(h===true&&this.childrenRendered){var j=this.childNodes;for(var i=0,g=j.length;i<g;i++){j[i].renderIndent(true,k)}}},beginUpdate:function(){this.childrenRendered=false},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren()}},destroy:function(b){if(b===true){this.unselect(true)}Ext.tree.TreeNode.superclass.destroy.call(this,b);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null},onIdChange:function(b){this.ui.onIdChange(b)}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(b){this.loaded=b&&b.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(k,n,i,l){if(this.loading){var o;var m=function(){if(!this.loading){clearInterval(o);this.expand(k,n,i,l)}}.createDelegate(this);o=setInterval(m,200);return}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return}this.loading=true;this.ui.beforeLoad(this);var j=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(j){j.load(this,this.loadComplete.createDelegate(this,[k,n,i,l]),this);return}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,k,n,i,l)},isLoading:function(){return this.loading},loadComplete:function(e,h,i,g){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(e,h,i,g)},isLoaded:function(){return this.loaded},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)}},reload:function(d,c){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy()}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false}this.expand(false,false,d,c)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=Ext.extend(Object,{constructor:function(b){Ext.apply(this,{node:b,rendered:false,animating:false,wasLeaf:true,ecc:"x-tree-ec-icon x-tree-elbow",emptyIcon:Ext.BLANK_IMAGE_URL})},removeChild:function(b){if(this.rendered){this.ctNode.removeChild(b.ui.getEl())}},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(e,g,d){if(this.rendered){this.textNode.innerHTML=g}},onIconClsChange:function(g,d,e){if(this.rendered){Ext.fly(this.iconNode).replaceClass(e,d)}},onIconChange:function(e,d){if(this.rendered){var g=Ext.isEmpty(d);this.iconNode.src=g?this.emptyIcon:d;Ext.fly(this.iconNode)[g?"removeClass":"addClass"]("x-tree-node-inline-icon")}},onTipChange:function(g,h,i){if(this.rendered){var e=Ext.isDefined(i);if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",h);if(e){this.textNode.setAttributeNS("ext","qtitle",i)}}else{this.textNode.setAttribute("ext:qtip",h);if(e){this.textNode.setAttribute("ext:qtitle",i)}}}},onHrefChange:function(e,d,g){if(this.rendered){this.anchor.href=this.getHref(d);if(Ext.isDefined(g)){this.anchor.target=g}}},onClsChange:function(g,d,e){if(this.rendered){Ext.fly(this.elNode).replaceClass(e,d)}},onDisableChange:function(c,d){this.disabled=d;if(this.checkbox){this.checkbox.disabled=d}this[d?"addClass":"removeClass"]("x-tree-node-disabled")},onSelectedChange:function(b){if(b){this.focus();this.addClass("x-tree-selected")}else{this.removeClass("x-tree-selected")}},onMove:function(l,j,p,q,o,m){this.childIndent=null;if(this.rendered){var k=q.ui.getContainer();if(!k){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return}var n=m?m.ui.getEl():null;if(n){k.insertBefore(this.wrap,n)}else{k.appendChild(this.wrap)}this.node.renderIndent(true,p!=q)}},addClass:function(b){if(this.elNode){Ext.fly(this.elNode).addClass(b)}},removeClass:function(b){if(this.elNode){Ext.fly(this.elNode).removeClass(b)}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap)}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.onDisableChange(this.node,true)}if(this.node.hidden){this.hide()}var d=this.node.getOwnerTree();var c=d.enableDD||d.enableDrag||d.enableDrop;if(c&&(!this.node.isRoot||d.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false})}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none"}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display=""}},onContextMenu:function(b){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){b.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,b)}},onClick:function(d){if(this.dropping){d.stopEvent();return}if(this.fireEvent("beforeclick",this.node,d)!==false){var a=d.getTarget("a");if(!this.disabled&&this.node.attributes.href&&a){this.fireEvent("click",this.node,d);return}else{if(a&&d.ctrlKey){d.stopEvent()}}d.preventDefault();if(this.disabled){return}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("click",this.node,d)}else{d.stopEvent()}},onDblClick:function(b){b.preventDefault();if(this.disabled){return}if(this.fireEvent("beforedblclick",this.node,b)!==false){if(this.checkbox){this.toggleCheck()}if(!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("dblclick",this.node,b)}},onOver:function(b){this.addClass("x-tree-node-over")},onOut:function(b){this.removeClass("x-tree-node-over")},onCheckChange:function(){var b=this.checkbox.checked;this.checkbox.defaultChecked=b;this.node.attributes.checked=b;this.fireEvent("checkchange",this.node,b)},ecClick:function(b){if(!this.animating&&this.node.isExpandable()){this.node.toggle()}},startDrop:function(){this.dropping=true},endDrop:function(){setTimeout(function(){this.dropping=false}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus()}catch(g){}}else{try{var e=this.node.getOwnerTree().getTreeEl().dom;var d=e.scrollLeft;this.anchor.focus();e.scrollLeft=d}catch(g){}}},toggleCheck:function(d){var c=this.checkbox;if(c){c.checked=(d===undefined?!c.checked:d);this.onCheckChange()}},blur:function(){try{this.anchor.blur()}catch(b){}},animExpand:function(d){var c=Ext.get(this.ctNode);c.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(d);return}this.animating=true;this.updateExpandIcon();c.slideIn("t",{callback:function(){this.animating=false;Ext.callback(d)},scope:this,duration:this.node.ownerTree.duration||0.25})},highlight:function(){var b=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(b.hlColor||"C3DAF9",{endColor:b.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(d){var c=Ext.get(this.ctNode);c.enableDisplayMode("block");c.stopFx();this.animating=true;this.updateExpandIcon();c.slideOut("t",{callback:function(){this.animating=false;Ext.callback(d)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(b){b.appendChild(this.elNode.cloneNode(true))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(g){var i=this.node,a=i.attributes;var h=i.parentNode?i.parentNode.ui.getContainer():i.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(i,a,h,g);if(a.qtip){this.onTipChange(i,a.qtip,a.qtipTitle)}else{if(a.qtipCfg){a.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(a.qtipCfg)}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true)}}else{if(g===true){h.appendChild(this.wrap)}}},renderElements:function(t,o,n,p){this.indentMarkup=t.parentNode?t.parentNode.ui.getChildIndent():"";var u=Ext.isBoolean(o.checked),q,r=this.getHref(o.href),s=['<li class="x-tree-node"><div ext:tree-node-id="',t.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',o.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img alt="" src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img alt="" src="',o.icon||this.emptyIcon,'" class="x-tree-node-icon',(o.icon?" x-tree-node-inline-icon":""),(o.iconCls?" "+o.iconCls:""),'" unselectable="on" />',u?('<input class="x-tree-node-cb" type="checkbox" '+(o.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',r,'" tabIndex="1" ',o.hrefTarget?' target="'+o.hrefTarget+'"':"",'><span unselectable="on">',t.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");if(p!==true&&t.nextSibling&&(q=t.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",q,s)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",n,s)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var m=this.elNode.childNodes;this.indentNode=m[0];this.ecNode=m[1];this.iconNode=m[2];var a=3;if(u){this.checkbox=m[3];this.checkbox.defaultChecked=this.checkbox.checked;a++}this.anchor=m[a];this.textNode=m[a].firstChild},getHref:function(b){return Ext.isEmpty(b)?(Ext.isGecko?"":"#"):b},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:false},updateExpandIcon:function(){if(this.rendered){var m=this.node,k,j,h=m.isLast()?"x-tree-elbow-end":"x-tree-elbow",l=m.hasChildNodes();if(l||m.attributes.expandable){if(m.expanded){h+="-minus";k="x-tree-node-collapsed";j="x-tree-node-expanded"}else{h+="-plus";k="x-tree-node-expanded";j="x-tree-node-collapsed"}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false}if(this.c1!=k||this.c2!=j){Ext.fly(this.elNode).replaceClass(k,j);this.c1=k;this.c2=j}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed");delete this.c1;delete this.c2;this.wasLeaf=true}}var i="x-tree-ec-icon "+h;if(this.ecc!=i){this.ecNode.className=i;this.ecc=i}}},onIdChange:function(b){if(this.rendered){this.elNode.setAttribute("ext:tree-node-id",b)}},getChildIndent:function(){if(!this.childIndent){var c=[],d=this.node;while(d){if(!d.isRoot||(d.isRoot&&d.ownerTree.rootVisible)){if(!d.isLast()){c.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')}else{c.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-icon" />')}}d=d.parentNode}this.childIndent=c.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var c="",d=this.node.parentNode;if(d){c=d.ui.getChildIndent()}if(this.indentMarkup!=c){this.indentNode.innerHTML=c;this.indentMarkup=c}this.updateExpandIcon()}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id)}Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(b){if(this[b]){Ext.fly(this[b]).remove();delete this[b]}},this);delete this.node}});Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var b=this.node.ownerTree.innerCt.dom;this.node.expanded=true;b.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=b.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(b){this.baseParams={};Ext.apply(this,b);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,paramOrder:undefined,paramsAsHash:false,nodeParameter:"node",directFn:undefined,load:function(e,g,d){if(this.clearOnLoad){while(e.firstChild){e.removeChild(e.firstChild)}}if(this.doPreload(e)){this.runCallback(g,d||e,[e])}else{if(this.directFn||this.dataUrl||this.url){this.requestData(e,g,d||e)}}},doPreload:function(j){if(j.attributes.children){if(j.childNodes.length<1){var i=j.attributes.children;j.beginUpdate();for(var h=0,g=i.length;h<g;h++){var k=j.appendChild(this.createNode(i[h]));if(this.preloadChildren){this.doPreload(k)}}j.endUpdate()}return true}return false},getParams:function(o){var n=Ext.apply({},this.baseParams),i=this.nodeParameter,k=this.paramOrder;i&&(n[i]=o.id);if(this.directFn){var l=[o.id];if(k){if(i&&k.indexOf(i)>-1){l=[]}for(var m=0,j=k.length;m<j;m++){l.push(n[k[m]])}}else{if(this.paramsAsHash){l=[n]}}return l}else{return n}},requestData:function(h,i,g){if(this.fireEvent("beforeload",this,h,i)!==false){if(this.directFn){var e=this.getParams(h);e.push(this.processDirectResponse.createDelegate(this,[{callback:i,node:h,scope:g}],true));this.directFn.apply(window,e)}else{this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:i,node:h,scope:g},params:this.getParams(h)})}}else{this.runCallback(i,g||h,[])}},processDirectResponse:function(d,e,g){if(e.status){this.handleResponse({responseData:Ext.isArray(d)?d:null,responseText:d,argument:g})}else{this.handleFailure({argument:g})}},runCallback:function(d,g,e){if(Ext.isFunction(d)){d.apply(g,e)}},isLoading:function(){return !!this.transId},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId)}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs)}if(this.applyLoader!==false&&!attr.loader){attr.loader=this}if(Ext.isString(attr.uiProvider)){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr)}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)}},processResponse:function(t,s,n,o){var p=t.responseText;try{var q=t.responseData||Ext.decode(p);s.beginUpdate();for(var u=0,e=q.length;u<e;u++){var r=this.createNode(q[u]);if(r){s.appendChild(r)}}s.endUpdate();this.runCallback(n,o||s,[s])}catch(i){this.handleFailure(t)}},handleResponse:function(d){this.transId=false;var a=d.argument;this.processResponse(d,a.node,a.callback,a.scope);this.fireEvent("load",this,a.node,d)},handleFailure:function(d){this.transId=false;var a=d.argument;this.fireEvent("loadexception",this,a.node,d);this.runCallback(a.callback,a.scope||a.node,[a.node])},destroy:function(){this.abort();this.purgeListeners()}});Ext.tree.TreeFilter=function(c,d){this.tree=c;this.filtered={};Ext.apply(this,d)};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(j,g,h){g=g||"text";var i;if(typeof j=="string"){var k=j.length;if(k==0&&this.clearBlank){this.clear();return}j=j.toLowerCase();i=function(a){return a.attributes[g].substr(0,k).toLowerCase()==j}}else{if(j.exec){i=function(a){return j.test(a.attributes[g])}}else{throw"Illegal filter type, must be string or regex"}}this.filterBy(i,null,h)},filterBy:function(o,n,m){m=m||this.tree.root;if(this.autoClear){this.clear()}var l=this.filtered,k=this.reverse;var p=function(a){if(a==m){return true}if(l[a.id]){return false}var b=o.call(n||a,a);if(!b||k){l[a.id]=a;a.ui.hide();return false}return true};m.cascade(p);if(this.remove){for(var j in l){if(typeof j!="function"){var q=l[j];if(q&&q.parentNode){q.parentNode.removeChild(q)}}}}},clear:function(){var g=this.tree;var e=this.filtered;for(var i in e){if(typeof i!="function"){var h=e[i];if(h){h.ui.show()}}}this.filtered={}}};Ext.tree.TreeSorter=Ext.extend(Object,{constructor:function(l,n){Ext.apply(this,n);l.on({scope:this,beforechildrenrendered:this.doSort,append:this.updateSort,insert:this.updateSort,textchange:this.updateSortParent});var p=this.dir&&this.dir.toLowerCase()=="desc",k=this.property||"text",o=this.sortType,j=this.folderSort,m=this.caseSensitive===true,q=this.leafAttr||"leaf";if(Ext.isString(o)){o=Ext.data.SortTypes[o]}this.sortFn=function(g,d){var b=g.attributes,a=d.attributes;if(j){if(b[q]&&!a[q]){return 1}if(!b[q]&&a[q]){return -1}}var e=b[k],c=a[k],i=o?o(e):(m?e:e.toUpperCase()),h=o?o(c):(m?c:c.toUpperCase());if(i<h){return p?1:-1}else{if(i>h){return p?-1:1}}return 0}},doSort:function(b){b.sort(this.sortFn)},updateSort:function(c,d){if(d.childrenRendered){this.doSort.defer(1,this,[d])}},updateSortParent:function(c){var d=c.parentNode;if(d&&d.childrenRendered){this.doSort.defer(1,this,[d])}}});if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(c,d){this.allowParentInsert=d.allowParentInsert||false;this.allowContainerDrop=d.allowContainerDrop||false;this.appendOnly=d.appendOnly||false;Ext.tree.TreeDropZone.superclass.constructor.call(this,c.getTreeEl(),d);this.tree=c;this.dragOverData={};this.lastInsertClass="x-tree-no-status"};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(b){if(b.hasChildNodes()&&!b.isExpanded()){b.expand(false,null,this.triggerCacheRefresh.createDelegate(this))}},queueExpand:function(b){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[b])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},isValidDropPoint:function(o,n,l,r,q){if(!o||!q){return false}var s=o.node;var e=q.node;if(!(s&&s.isTarget&&n)){return false}if(n=="append"&&s.allowChildren===false){return false}if((n=="above"||n=="below")&&(s.parentNode&&s.parentNode.allowChildren===false)){return false}if(e&&(s==e||e.contains(s))){return false}var p=this.dragOverData;p.tree=this.tree;p.target=s;p.data=q;p.point=n;p.source=l;p.rawEvent=r;p.dropNode=e;p.cancel=false;var m=this.tree.fireEvent("nodedragover",p);return p.cancel===false&&m!==false},getDropPoint:function(b,w,q){var r=w.node;if(r.isRoot){return r.allowChildren!==false?"append":false}var u=w.ddel;var s=Ext.lib.Dom.getY(u),n=s+u.offsetHeight;var e=Ext.lib.Event.getPageY(b);var p=r.allowChildren===false||r.isLeaf();if(this.appendOnly||r.parentNode.allowChildren===false){return p?false:"append"}var v=false;if(!this.allowParentInsert){v=r.hasChildNodes()&&r.isExpanded()}var t=(n-s)/(p?2:3);if(e>=s&&e<(s+t)){return"above"}else{if(!v&&(p||e>=n-t&&e<=n)){return"below"}else{return"append"}}},onNodeEnter:function(i,e,h,g){this.cancelExpand()},onContainerOver:function(d,g,e){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",d,g,e)){return this.dropAllowed}return this.dropNotAllowed},onNodeOver:function(p,l,e,s){var n=this.getDropPoint(e,p,l);var q=p.node;if(!this.expandProcId&&n=="append"&&q.hasChildNodes()&&!p.node.isExpanded()){this.queueExpand(q)}else{if(n!="append"){this.cancelExpand()}}var r=this.dropNotAllowed;if(this.isValidDropPoint(p,n,l,e,s)){if(n){var o=p.ddel;var m;if(n=="above"){r=p.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";m="x-tree-drag-insert-above"}else{if(n=="below"){r=p.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";m="x-tree-drag-insert-below"}else{r="x-tree-drop-ok-append";m="x-tree-drag-append"}}if(this.lastInsertClass!=m){Ext.fly(o).replaceClass(this.lastInsertClass,m);this.lastInsertClass=m}}}return r},onNodeOut:function(i,e,h,g){this.cancelExpand();this.removeDropIndicators(i)},onNodeDrop:function(j,l,e,n){var k=this.getDropPoint(e,j,l);var o=j.node;o.ui.startDrop();if(!this.isValidDropPoint(j,k,l,e,n)){o.ui.endDrop();return false}var m=n.node||(l.getTreeNode?l.getTreeNode(n,o,k,e):null);return this.processDrop(o,n,k,l,e,m)},onContainerDrop:function(h,e,j){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",h,e,j)){var k=this.tree.getRootNode();k.ui.startDrop();var i=j.node||(h.getTreeNode?h.getTreeNode(j,k,"append",e):null);return this.processDrop(k,j,"append",h,e,i)}return false},processDrop:function(l,e,n,m,k,p){var q={tree:this.tree,target:l,data:e,point:n,source:m,rawEvent:k,dropNode:p,cancel:!p,dropStatus:false};var o=this.tree.fireEvent("beforenodedrop",q);if(o===false||q.cancel===true||!q.dropNode){l.ui.endDrop();return q.dropStatus}l=q.target;if(n=="append"&&!l.isExpanded()){l.expand(false,null,function(){this.completeDrop(q)}.createDelegate(this))}else{this.completeDrop(q)}return true},completeDrop:function(i){var m=i.dropNode,n=i.point,l=i.target;if(!Ext.isArray(m)){m=[m]}var o;for(var k=0,j=m.length;k<j;k++){o=m[k];if(n=="above"){l.parentNode.insertBefore(o,l)}else{if(n=="below"){l.parentNode.insertBefore(o,l.nextSibling)}else{l.appendChild(o)}}}o.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){o.ui.highlight()}l.ui.endDrop();this.tree.fireEvent("nodedrop",i)},afterNodeMoved:function(h,j,e,k,i){if(Ext.enableFx&&this.tree.hlDrop){i.ui.focus();i.ui.highlight()}this.tree.fireEvent("nodedrop",this.tree,k,j,h,e)},getTree:function(){return this.tree},removeDropIndicators:function(d){if(d&&d.ddel){var c=d.ddel;Ext.fly(c).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass"}},beforeDragDrop:function(e,d,g){this.cancelExpand();return true},afterRepair:function(b){if(b&&Ext.enableFx){b.node.ui.highlight()}this.hideProxy()}})}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(c,d){Ext.tree.TreeDragZone.superclass.constructor.call(this,c.innerCt,d);this.tree=c};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(d,e){var g=d.node;return g&&g.draggable&&!g.disabled},onInitDrag:function(d){var c=this.dragData;this.tree.getSelectionModel().select(c.node);this.tree.eventModel.disable();this.proxy.update("");c.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,c.node,d)},getRepairXY:function(d,c){return c.node.ui.getDDRepairXY()},onEndDrag:function(c,d){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,c.node,d)},onValidDrop:function(d,e,g){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,d,e);this.hideProxy()},beforeInvalidDrop:function(d,g){var e=this.tree.getSelectionModel();e.clearSelections();e.select(this.dragData.node)},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false}})}Ext.tree.TreeEditor=function(e,h,g){h=h||{};var i=h.events?h:new Ext.form.TextField(h);Ext.tree.TreeEditor.superclass.constructor.call(this,i,g);this.tree=e;if(!e.rendered){e.on("render",this.initEditor,this)}else{this.initEditor(e)}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(b){b.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(h,i){var k=this.tree.getTreeEl().dom,j=i.dom;if(k.scrollLeft>j.offsetLeft){k.scrollLeft=j.offsetLeft}var g=Math.min(this.maxWidth,(k.clientWidth>20?k.clientWidth:k.offsetWidth)-Math.max(0,j.offsetLeft-k.scrollLeft)-5);this.setSize(g,"")},triggerEdit:function(d,g){this.completeEdit();if(d.attributes.editable!==false){this.editNode=d;if(this.tree.autoScroll){Ext.fly(d.ui.getEl()).scrollIntoView(this.tree.body)}var e=d.text||"";if(!Ext.isGecko&&Ext.isEmpty(d.text)){d.setText("&#160;")}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[d.ui.textNode,e]);return false}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(c,d){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(c)){d.stopEvent();return this.triggerEdit(c)}},onNodeDblClick:function(c,d){clearTimeout(this.autoEditTimer)},updateNode:function(c,d){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(d)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui)}},onSpecialKey:function(g,e){var d=e.getKey();if(d==e.ESC){e.stopEvent();this.cancelEdit()}else{if(d==e.ENTER&&!e.hasModifier()){e.stopEvent();this.completeEdit()}}},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var b=this.tree;b.un("beforeclick",this.beforeNodeClick,this);b.un("dblclick",this.onNodeDblClick,this)}});var swfobject=function(){var ac="undefined",al="object",aK="Shockwave Flash",aF="ShockwaveFlash.ShockwaveFlash",ak="application/x-shockwave-flash",aJ="SWFObjectExprInst",ag="onreadystatechange",aG=window,au=document,an=navigator,aL=false,aM=[ar],ai=[],aV=[],aQ=[],aw,aI,ad,aa,aR=false,az=false,ay,aO,ax=true,aU=function(){var i=typeof au.getElementById!=ac&&typeof au.getElementsByTagName!=ac&&typeof au.createElement!=ac,d=an.userAgent.toLowerCase(),e=an.platform.toLowerCase(),a=e?(/win/).test(e):/win/.test(d),k=e?(/mac/).test(e):/mac/.test(d),b=/webkit/.test(d)?parseFloat(d.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,g=!+"\v1",c=[0,0,0],j=null;if(typeof an.plugins!=ac&&typeof an.plugins[aK]==al){j=an.plugins[aK].description;if(j&&!(typeof an.mimeTypes!=ac&&an.mimeTypes[ak]&&!an.mimeTypes[ak].enabledPlugin)){aL=true;g=false;j=j.replace(/^.*\s+(\S+\s+\S+$)/,"$1");c[0]=parseInt(j.replace(/^(.*)\..*$/,"$1"),10);c[1]=parseInt(j.replace(/^.*\.(.*)\s.*$/,"$1"),10);c[2]=/[a-zA-Z]/.test(j)?parseInt(j.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof aG.ActiveXObject!=ac){try{var l=new ActiveXObject(aF);if(l){j=l.GetVariable("$version");if(j){g=true;j=j.split(" ")[1].split(",");c=[parseInt(j[0],10),parseInt(j[1],10),parseInt(j[2],10)]}}}catch(h){}}}return{w3:i,pv:c,wk:b,ie:g,win:a,mac:k}}(),av=function(){if(!aU.w3){return}if((typeof au.readyState!=ac&&au.readyState=="complete")||(typeof au.readyState==ac&&(au.getElementsByTagName("body")[0]||au.body))){aE()}if(!aR){if(typeof au.addEventListener!=ac){au.addEventListener("DOMContentLoaded",aE,false)}if(aU.ie&&aU.win){au.attachEvent(ag,function(){if(au.readyState=="complete"){au.detachEvent(ag,arguments.callee);aE()}});if(aG==top){(function(){if(aR){return}try{au.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aE()})()}}if(aU.wk){(function(){if(aR){return}if(!(/loaded|complete/).test(au.readyState)){setTimeout(arguments.callee,0);return}aE()})()}am(aE)}}();function aE(){if(aR){return}try{var c=au.getElementsByTagName("body")[0].appendChild(ab("span"));c.parentNode.removeChild(c)}catch(d){return}aR=true;var b=aM.length;for(var a=0;a<b;a++){aM[a]()}}function aS(a){if(aR){a()}else{aM[aM.length]=a}}function am(b){if(typeof aG.addEventListener!=ac){aG.addEventListener("load",b,false)}else{if(typeof au.addEventListener!=ac){au.addEventListener("load",b,false)}else{if(typeof aG.attachEvent!=ac){at(aG,"onload",b)}else{if(typeof aG.onload=="function"){var a=aG.onload;aG.onload=function(){a();b()}}else{aG.onload=b}}}}}function ar(){if(aL){aN()}else{aP()}}function aN(){var b=au.getElementsByTagName("body")[0];var d=ab(al);d.setAttribute("type",ak);var c=b.appendChild(d);if(c){var a=0;(function(){if(typeof c.GetVariable!=ac){var e=c.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");aU.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(a<10){a++;setTimeout(arguments.callee,10);return}}b.removeChild(d);c=null;aP()})()}else{aP()}}function aP(){var c=ai.length;if(c>0){for(var b=0;b<c;b++){var e=ai[b].id;var k=ai[b].callbackFn;var j={success:false,id:e};if(aU.pv[0]>0){var a=aB(e);if(a){if(ae(ai[b].swfVersion)&&!(aU.wk&&aU.wk<312)){af(e,true);if(k){j.success=true;j.ref=Y(e);k(j)}}else{if(ai[b].expressInstall&&Z()){var h={};h.data=ai[b].expressInstall;h.width=a.getAttribute("width")||"0";h.height=a.getAttribute("height")||"0";if(a.getAttribute("class")){h.styleclass=a.getAttribute("class")}if(a.getAttribute("align")){h.align=a.getAttribute("align")}var d={};var g=a.getElementsByTagName("param");var l=g.length;for(var m=0;m<l;m++){if(g[m].getAttribute("name").toLowerCase()!="movie"){d[g[m].getAttribute("name")]=g[m].getAttribute("value")}}aH(h,d,e,k)}else{aj(a);if(k){k(j)}}}}}else{af(e,true);if(k){var i=Y(e);if(i&&typeof i.SetVariable!=ac){j.success=true;j.ref=i}k(j)}}}}}function Y(c){var a=null;var b=aB(c);if(b&&b.nodeName=="OBJECT"){if(typeof b.SetVariable!=ac){a=b}else{var d=b.getElementsByTagName(al)[0];if(d){a=d}}}return a}function Z(){return !az&&ae("6.0.65")&&(aU.win||aU.mac)&&!(aU.wk&&aU.wk<312)}function aH(e,g,b,d){az=true;ad=d||null;aa={success:false,id:b};var a=aB(b);if(a){if(a.nodeName=="OBJECT"){aw=aq(a);aI=null}else{aw=a;aI=b}e.id=aJ;if(typeof e.width==ac||(!(/%$/).test(e.width)&&parseInt(e.width,10)<310)){e.width="310"}if(typeof e.height==ac||(!(/%$/).test(e.height)&&parseInt(e.height,10)<137)){e.height="137"}au.title=au.title.slice(0,47)+" - Flash Player Installation";var i=aU.ie&&aU.win?"ActiveX":"PlugIn",h="MMredirectURL="+aG.location.toString().replace(/&/g,"%26")+"&MMplayerType="+i+"&MMdoctitle="+au.title;if(typeof g.flashvars!=ac){g.flashvars+="&"+h}else{g.flashvars=h}if(aU.ie&&aU.win&&a.readyState!=4){var c=ab("div");b+="SWFObjectNew";c.setAttribute("id",b);a.parentNode.insertBefore(c,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}ao(e,g,b)}}function aj(b){if(aU.ie&&aU.win&&b.readyState!=4){var a=ab("div");b.parentNode.insertBefore(a,b);a.parentNode.replaceChild(aq(b),a);b.style.display="none";(function(){if(b.readyState==4){b.parentNode.removeChild(b)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.replaceChild(aq(b),b)}}function aq(e){var d=ab("div");if(aU.win&&aU.ie){d.innerHTML=e.innerHTML}else{var b=e.getElementsByTagName(al)[0];if(b){var g=b.childNodes;if(g){var a=g.length;for(var c=0;c<a;c++){if(!(g[c].nodeType==1&&g[c].nodeName=="PARAM")&&!(g[c].nodeType==8)){d.appendChild(g[c].cloneNode(true))}}}}}return d}function ao(e,c,g){var d,j=aB(g);if(aU.wk&&aU.wk<312){return d}if(j){if(typeof e.id==ac){e.id=g}if(aU.ie&&aU.win){var h="";for(var a in e){if(e[a]!=Object.prototype[a]){if(a.toLowerCase()=="data"){c.movie=e[a]}else{if(a.toLowerCase()=="styleclass"){h+=' class="'+e[a]+'"'}else{if(a.toLowerCase()!="classid"){h+=" "+a+'="'+e[a]+'"'}}}}}var b="";for(var m in c){if(c[m]!=Object.prototype[m]){b+='<param name="'+m+'" value="'+c[m]+'" />'}}j.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+h+">"+b+"</object>";aV[aV.length]=e.id;d=aB(e.id)}else{var i=ab(al);i.setAttribute("type",ak);for(var l in e){if(e[l]!=Object.prototype[l]){if(l.toLowerCase()=="styleclass"){i.setAttribute("class",e[l])}else{if(l.toLowerCase()!="classid"){i.setAttribute(l,e[l])}}}}for(var k in c){if(c[k]!=Object.prototype[k]&&k.toLowerCase()!="movie"){aD(i,k,c[k])}}j.parentNode.replaceChild(i,j);d=i}}return d}function aD(c,b,a){var d=ab("param");d.setAttribute("name",b);d.setAttribute("value",a);c.appendChild(d)}function ah(b){var a=aB(b);if(a&&a.nodeName=="OBJECT"){if(aU.ie&&aU.win){a.style.display="none";(function(){if(a.readyState==4){aA(b)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.removeChild(a)}}}function aA(b){var a=aB(b);if(a){for(var c in a){if(typeof a[c]=="function"){a[c]=null}}a.parentNode.removeChild(a)}}function aB(c){var b=null;try{b=au.getElementById(c)}catch(a){}return b}function ab(a){return au.createElement(a)}function at(c,b,a){c.attachEvent(b,a);aQ[aQ.length]=[c,b,a]}function ae(b){var a=aU.pv,c=b.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(a[0]>c[0]||(a[0]==c[0]&&a[1]>c[1])||(a[0]==c[0]&&a[1]==c[1]&&a[2]>=c[2]))?true:false}function ap(g,b,h,e){if(aU.ie&&aU.mac){return}var d=au.getElementsByTagName("head")[0];if(!d){return}var a=(h&&typeof h=="string")?h:"screen";if(e){ay=null;aO=null}if(!ay||aO!=a){var c=ab("style");c.setAttribute("type","text/css");c.setAttribute("media",a);ay=d.appendChild(c);if(aU.ie&&aU.win&&typeof au.styleSheets!=ac&&au.styleSheets.length>0){ay=au.styleSheets[au.styleSheets.length-1]}aO=a}if(aU.ie&&aU.win){if(ay&&typeof ay.addRule==al){ay.addRule(g,b)}}else{if(ay&&typeof au.createTextNode!=ac){ay.appendChild(au.createTextNode(g+" {"+b+"}"))}}}function af(c,b){if(!ax){return}var a=b?"visible":"hidden";if(aR&&aB(c)){aB(c).style.visibility=a}else{ap("#"+c,"visibility:"+a)}}function aT(b){var c=/[\\\"<>\.;]/;var a=c.exec(b)!=null;return a&&typeof encodeURIComponent!=ac?encodeURIComponent(b):b}var aC=function(){if(aU.ie&&aU.win){window.attachEvent("onunload",function(){var g=aQ.length;for(var e=0;e<g;e++){aQ[e][0].detachEvent(aQ[e][1],aQ[e][2])}var c=aV.length;for(var d=0;d<c;d++){ah(aV[d])}for(var b in aU){aU[b]=null}aU=null;for(var a in swfobject){swfobject[a]=null}swfobject=null;window.detachEvent("onunload",arguments.callee)})}}();return{registerObject:function(a,c,e,d){if(aU.w3&&a&&c){var b={};b.id=a;b.swfVersion=c;b.expressInstall=e;b.callbackFn=d;ai[ai.length]=b;af(a,false)}else{if(d){d({success:false,id:a})}}},getObjectById:function(a){if(aU.w3){return Y(a)}},embedSWF:function(j,d,a,c,e,i,h,l,b,k){var g={success:false,id:d};if(aU.w3&&!(aU.wk&&aU.wk<312)&&j&&d&&a&&c&&e){af(d,false);aS(function(){a+="";c+="";var n={};if(b&&typeof b===al){for(var p in b){n[p]=b[p]}}n.data=j;n.width=a;n.height=c;var q={};if(l&&typeof l===al){for(var o in l){q[o]=l[o]}}if(h&&typeof h===al){for(var m in h){if(typeof q.flashvars!=ac){q.flashvars+="&"+m+"="+h[m]}else{q.flashvars=m+"="+h[m]}}}if(ae(e)){var r=ao(n,q,d);if(n.id==d){af(d,true)}g.success=true;g.ref=r}else{if(i&&Z()){n.data=i;aH(n,q,d,k);return}else{af(d,true)}}if(k){k(g)}})}else{if(k){k(g)}}},switchOffAutoHideShow:function(){ax=false},ua:aU,getFlashPlayerVersion:function(){return{major:aU.pv[0],minor:aU.pv[1],release:aU.pv[2]}},hasFlashPlayerVersion:ae,createSWF:function(b,a,c){if(aU.w3){return ao(b,a,c)}else{return undefined}},showExpressInstall:function(c,d,b,a){if(aU.w3&&Z()){aH(c,d,b,a)}},removeSWF:function(a){if(aU.w3){ah(a)}},createCSS:function(d,b,a,c){if(aU.w3){ap(d,b,a,c)}},addDomLoadEvent:aS,addLoadEvent:am,getQueryParamValue:function(d){var b=au.location.search||au.location.hash;if(b){if(/\?/.test(b)){b=b.split("?")[1]}if(d==null){return aT(b)}var a=b.split("&");for(var c=0;c<a.length;c++){if(a[c].substring(0,a[c].indexOf("="))==d){return aT(a[c].substring((a[c].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(az){var a=aB(aJ);if(a&&aw){a.parentNode.replaceChild(aw,a);if(aI){af(aI,true);if(aU.ie&&aU.win){aw.style.display="block"}}if(ad){ad(aa)}}az=false}}}}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:undefined,flashParams:undefined,url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var d=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),c=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:undefined,c,d);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID))},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID))},onFlashEvent:function(b){switch(b.type){case"swfReady":this.initSwf();return;case"log":return}b.component=this;this.fireEvent(b.type.toLowerCase().replace(/event$/,""),b)},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this)},beforeDestroy:function(){if(this.rendered){swfobject.removeSWF(this.swf.id)}Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn});Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(g,e){var d=Ext.getCmp(g);if(d){d.onFlashEvent(e)}else{arguments.callee.defer(10,this,[g,e])}}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);if(!this.url){this.url=Ext.chart.Chart.CHART_URL}if(this.disableCaching){this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,new Date().getTime()))}this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(c,d){this.swf.setStyle(c,Ext.encode(d))},setStyles:function(b){this.swf.setStyles(Ext.encode(b))},setSeriesStyles:function(d){this.seriesStyles=d;var c=[];Ext.each(d,function(a){c.push(Ext.encode(a))});this.swf.setSeriesStyles(c)},setCategoryNames:function(b){this.swf.setCategoryNames(b)},setLegendRenderer:function(g,e){var d=this;e=e||d;d.removeFnProxy(d.legendFnName);d.legendFnName=d.createFnProxy(function(a){return g.call(e,a)});d.swf.setLegendLabelFunction(d.legendFnName)},setTipRenderer:function(g,e){var d=this;e=e||d;d.removeFnProxy(d.tipFnName);d.tipFnName=d.createFnProxy(function(a,i,b){var c=d.store.getAt(i);return g.call(e,d,c,i,b)});d.swf.setDataTipFunction(d.tipFnName)},setSeries:function(b){this.series=b;this.refresh()},bindStore:function(c,d){if(!d&&this.store){if(c!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this)}}if(c){c=Ext.StoreMgr.lookup(c);c.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh})}this.store=c;if(c&&!d){this.refresh()}},onSwfReady:function(d){Ext.chart.Chart.superclass.onSwfReady.call(this,d);var c;this.swf.setType(this.type);if(this.chartStyle){this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle))}if(this.categoryNames){this.setCategoryNames(this.categoryNames)}if(this.tipRenderer){c=this.getFunctionRef(this.tipRenderer);this.setTipRenderer(c.fn,c.scope)}if(this.legendRenderer){c=this.getFunctionRef(this.legendRenderer);this.setLegendRenderer(c.fn,c.scope)}if(!d){this.bindStore(this.store,true)}this.refresh.defer(10,this)},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)}this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.fireEvent("beforerefresh",this)!==false){var p=false;var j=[],t=this.store.data.items;for(var w=0,o=t.length;w<o;w++){j[w]=t[w].data}var v=[];var u=0;var q=null;var i=0;if(this.series){u=this.series.length;for(i=0;i<u;i++){q=this.series[i];var s={};for(var r in q){if(r=="style"&&q.style!==null){s.style=Ext.encode(q.style);p=true}else{s[r]=q[r]}}v.push(s)}}if(u>0){for(i=0;i<u;i++){q=v[i];if(!q.type){q.type=this.type}q.dataProvider=j}}else{v.push({type:this.type,dataProvider:j})}this.swf.setDataProvider(v);if(this.seriesStyles){this.setSeriesStyles(this.seriesStyles)}this.fireEvent("refresh",this)}},createFnProxy:function(c){var d="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);Ext.chart.Chart.proxyFunction[d]=c;return"Ext.chart.Chart.proxyFunction."+d},removeFnProxy:function(b){if(!Ext.isEmpty(b)){b=b.replace("Ext.chart.Chart.proxyFunction.","");delete Ext.chart.Chart.proxyFunction[b]}},getFunctionRef:function(b){if(Ext.isFunction(b)){return{fn:b,scope:this}}else{return{fn:b.fn,scope:b.scope||this}}},onDestroy:function(){if(this.refreshTask&&this.refreshTask.cancel){this.refreshTask.cancel()}Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);this.removeFnProxy(this.legendFnName)}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.2/build/charts/assets/charts.swf";Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(b){Ext.chart.PieChart.superclass.onSwfReady.call(this,b);this.setDataField(this.dataField);this.setCategoryField(this.categoryField)},setDataField:function(b){this.dataField=b;this.swf.setDataField(b)},setCategoryField:function(b){this.categoryField=b;this.swf.setCategoryField(b)}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(b){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,b);this.labelFn=[];if(this.xField){this.setXField(this.xField)}if(this.yField){this.setYField(this.yField)}if(this.xAxis){this.setXAxis(this.xAxis)}if(this.xAxes){this.setXAxes(this.xAxes)}if(this.yAxis){this.setYAxis(this.yAxis)}if(this.yAxes){this.setYAxes(this.yAxes)}if(Ext.isDefined(this.constrainViewport)){this.swf.setConstrainViewport(this.constrainViewport)}},setXField:function(b){this.xField=b;this.swf.setHorizontalField(b)},setYField:function(b){this.yField=b;this.swf.setVerticalField(b)},setXAxis:function(b){this.xAxis=this.createAxis("xAxis",b);this.swf.setHorizontalAxis(this.xAxis)},setXAxes:function(g){var e;for(var d=0;d<g.length;d++){e=this.createAxis("xAxis"+d,g[d]);this.swf.setHorizontalAxis(e)}},setYAxis:function(b){this.yAxis=this.createAxis("yAxis",b);this.swf.setVerticalAxis(this.yAxis)},setYAxes:function(g){var e;for(var d=0;d<g.length;d++){e=this.createAxis("yAxis"+d,g[d]);this.swf.setVerticalAxis(e)}},createAxis:function(h,j){var k=Ext.apply({},j),i,g;if(this[h]){g=this[h].labelFunction;this.removeFnProxy(g);this.labelFn.remove(g)}if(k.labelRenderer){i=this.getFunctionRef(k.labelRenderer);k.labelFunction=this.createFnProxy(function(a){return i.fn.call(i.scope,a)});delete k.labelRenderer;this.labelFn.push(k.labelFunction)}if(h.indexOf("xAxis")>-1&&k.position=="left"){k.position="bottom"}return k},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(b){this.removeFnProxy(b)},this)}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(b){Ext.apply(this,b)};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true,labelSpacing:2};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear",roundMajorUnit:true,calculateByLabelSize:true,position:"left",adjustMaximumByMajorUnit:true,adjustMinimumByMajorUnit:true});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true,stackingEnabled:false,calculateByLabelSize:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:false});Ext.chart.Series=function(b){Ext.apply(this,b)};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:true,axis:"primary"});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig})}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this)}else{if(this.initialConfig.hidden!==false){this.hidden=false}this.internalDefaults={hideOnClick:false}}Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var b=this.doLayout.createDelegate(this,[]);this.on({add:b,remove:b})}},getLayoutTarget:function(){return this.ul},onRender:function(e,d){if(!e){e=Ext.getBody()}var g={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:g,constrain:false,parentEl:e,zindex:this.zIndex})}else{this.el=e.createChild(g)}Ext.menu.Menu.superclass.onRender.call(this,e,d);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})}},findTargetItem:function(d){var c=d.getTarget(".x-menu-list-item",this.ul,true);if(c&&c.menuItemId){return this.items.get(c.menuItemId)}},onClick:function(d){var c=this.findTargetItem(d);if(c){if(c.isFormField){this.setActiveItem(c)}else{if(c instanceof Ext.menu.BaseItem){if(c.menu&&this.ignoreParentClicks){c.expandMenu();d.preventDefault()}else{if(c.onClick){c.onClick(d);this.fireEvent("click",this,c,d)}}}}}},setActiveItem:function(c,d){if(c!=this.activeItem){this.deactivateActive();if((this.activeItem=c).isFormField){c.focus()}else{c.activate(d)}}else{if(d){c.expandMenu()}}},deactivateActive:function(){var a=this.activeItem;if(a){if(a.isFormField){if(a.collapse){a.collapse()}}else{a.deactivate()}delete this.activeItem}},tryActivate:function(m,l){var i=this.items;for(var j=m,h=i.length;j>=0&&j<h;j+=l){var k=i.get(j);if(k.isVisible()&&!k.disabled&&(k.canActivate||k.isFormField)){this.setActiveItem(k,false);return k}}return false},onMouseOver:function(d){var c=this.findTargetItem(d);if(c){if(c.canActivate&&!c.disabled){this.setActiveItem(c,true)}}this.over=true;this.fireEvent("mouseover",this,d,c)},onMouseOut:function(d){var c=this.findTargetItem(d);if(c){if(c==this.activeItem&&c.shouldDeactivate&&c.shouldDeactivate(d)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,d,c)},onScroll:function(i,g){if(i){i.stopEvent()}var e=this.ul.dom,h=Ext.fly(g).is(".x-menu-scroller-top");e.scrollTop+=this.scrollIncrement*(h?-1:1);if(h?e.scrollTop<=0:e.scrollTop+this.activeMax>=e.scrollHeight){this.onScrollerOut(null,g)}},onScrollerIn:function(i,g){var e=this.ul.dom,h=Ext.fly(g).is(".x-menu-scroller-top");if(h?e.scrollTop>0:e.scrollTop+this.activeMax<e.scrollHeight){Ext.fly(g).addClass(["x-menu-item-active","x-menu-scroller-active"])}},onScrollerOut:function(d,c){Ext.fly(c).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(e,g,d){if(this.floating){this.parentMenu=d;if(!this.el){this.render();this.doLayout(false,true)}this.showAt(this.el.getAlignToXY(e,g||this.defaultAlign,this.defaultOffsets),d)}else{Ext.menu.Menu.superclass.show.call(this)}},showAt:function(d,c){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=c;if(!this.el){this.render()}if(this.enableScrolling){this.el.setXY(d);d[1]=this.constrainScroll(d[1]);d=[this.el.adjustForConstraints(d)[0],d[1]]}else{d=this.el.adjustForConstraints(d)}this.el.setXY(d);this.el.show();Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint()}}this.hidden=false;this.focus();this.fireEvent("show",this)}},constrainScroll:function(k){var m,o=this.ul.setHeight("auto").getHeight(),l=k,j,p,q,n;if(this.floating){p=Ext.fly(this.el.dom.parentNode);q=p.getScroll().top;n=p.getViewSize().height;j=k-q;m=this.maxHeight?this.maxHeight:n-j;if(o>n){m=n;l=k-j}else{if(m<o){l=k-(o-m);m=o}}}else{m=this.getHeight()}if(this.maxHeight){m=Math.min(this.maxHeight,m)}if(o>m&&m>0){this.activeMax=m-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("")}else{this.ul.setHeight(o);this.el.select(".x-menu-scroller").setDisplayed("none")}this.ul.dom.scrollTop=0;return l},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}})}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop())}if(this.floating){this.el.sync()}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(b){if(!this.isDestroyed){this.deepHide=b;Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide()}var b=this.parentMenu;if(this.deepHide===true&&b){if(b.floating){b.hide(true)}else{b.deactivateActive()}}},lookupComponent:function(b){if(Ext.isString(b)){b=(b=="separator"||b=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(b);this.applyDefaults(b)}else{if(Ext.isObject(b)){b=this.getMenuItem(b)}else{if(b.tagName||b.el){b=new Ext.BoxComponent({el:b})}}}return b},applyDefaults:function(d){if(!Ext.isString(d)){d=Ext.menu.Menu.superclass.applyDefaults.call(this,d);var c=this.internalDefaults;if(c){if(d.events){Ext.applyIf(d.initialConfig,c);Ext.apply(d,c)}else{Ext.applyIf(d,c)}}}return d},getMenuItem:function(b){b.ownerCt=this;if(!b.isXType){if(!b.xtype&&Ext.isBoolean(b.checked)){return new Ext.menu.CheckItem(b)}return Ext.create(b,this.defaultType)}return b},addSeparator:function(){return this.add(new Ext.menu.Separator())},addElement:function(b){return this.add(new Ext.menu.BaseItem({el:b}))},addItem:function(b){return this.add(b)},addMenuItem:function(b){return this.add(this.getMenuItem(b))},addText:function(b){return this.add(new Ext.menu.TextItem(b))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var c=this.parentMenu;if(c&&c.activeChild==this){delete c.activeChild}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}var d=this.scroller;if(d){Ext.destroy(d.topRepeater,d.bottomRepeater,d.top,d.bottom)}Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function c(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)-1,-1)){b.tryActivate(b.items.length-1,-1)}}function d(a,b){if(!b.tryActivate(b.items.indexOf(b.activeItem)+1,1)){b.tryActivate(0,1)}}return{constructor:function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a},doRelay:function(a,e){var b=a.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&b!=a.TAB){return false}if(!this.menu.activeItem&&a.isNavKeyPress()&&b!=a.SPACE&&b!=a.RETURN){this.menu.tryActivate(0,1);return false}return e.call(this.scope||this,a,this.menu)},tab:function(a,b){a.stopEvent();if(a.shiftKey){c(a,b)}else{d(a,b)}},up:c,down:d,right:function(a,b){if(b.activeItem){b.activeItem.expandMenu(true)}},left:function(a,b){b.hide();if(b.parentMenu&&b.parentMenu.activeItem){b.parentMenu.activeItem.activate()}},enter:function(a,b){if(b.activeItem){a.stopPropagation();b.activeItem.onClick(a);b.fireEvent("click",this,b.activeItem);return true}}}}());Ext.menu.MenuMgr=function(){var o,z,w,y={},v=false,s=new Date();function u(){o={};z=new Ext.util.MixedCollection();w=Ext.getDoc().addKeyListener(27,q);w.disable()}function q(){if(z&&z.length>0){var a=z.clone();a.each(function(b){b.hide()});return true}return false}function A(a){z.remove(a);if(z.length<1){w.disable();Ext.getDoc().un("mousedown",t);v=false}}function r(b){var a=z.last();s=new Date();z.add(b);if(!v){w.enable();Ext.getDoc().on("mousedown",t);v=true}if(b.parentMenu){b.getEl().setZIndex(parseInt(b.parentMenu.getEl().getStyle("z-index"),10)+3);b.parentMenu.activeChild=b}else{if(a&&!a.isDestroyed&&a.isVisible()){b.getEl().setZIndex(parseInt(a.getEl().getStyle("z-index"),10)+3)}}}function x(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}}function p(b){var a=b.parentMenu;if(!a&&!b.allowOtherMenus){q()}else{if(a&&a.activeChild){a.activeChild.hide()}}}function t(a){if(s.getElapsed()>50&&z.length>0&&!a.getTarget(".x-menu")){q()}}return{hideAll:function(){return q()},register:function(a){if(!o){u()}o[a.id]=a;a.on({beforehide:x,hide:A,beforeshow:p,show:r})},get:function(a){if(typeof a=="string"){if(!o){return null}return o[a]}else{if(a.events){return a}else{if(typeof a.length=="number"){return new Ext.menu.Menu({items:a})}else{return Ext.create(a,"menu")}}}},unregister:function(a){delete o[a.id];a.un("beforehide",x);a.un("hide",A);a.un("beforeshow",p);a.un("show",r)},registerCheckable:function(b){var a=b.group;if(a){if(!y[a]){y[a]=[]}y[a].push(b)}},unregisterCheckable:function(b){var a=b.group;if(a){y[a].remove(b)}},onCheckChange:function(c,d){if(c.group&&d){var g=y[c.group],b=0,a=g.length,e;for(;b<a;b++){e=g[b];if(e!=c){e.setChecked(false)}}}},getCheckedItem:function(a){var b=y[a];if(b){for(var d=0,c=b.length;d<c;d++){if(b[d].checked){return b[d]}}}return null},setCheckedItem:function(a,c){var b=y[a];if(b){for(var e=0,d=b.length;e<d;e++){if(b[e].id==c){b[e].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}},onRender:function(d,c){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt}else{this.container.addClass("x-menu-list-item");this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate})}},setHandler:function(d,c){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=d,this.scope=c)},onClick:function(b){if(!this.disabled&&this.fireEvent("click",this,b)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,b)!==false)){this.handleClick(b)}else{b.stopEvent()}},activate:function(){if(this.disabled){return false}var b=this.container;b.addClass(this.activeClass);this.region=b.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(b){return !this.region||!this.region.contains(b.getPoint())},handleClick:function(d){var c=this.parentMenu;if(this.hideOnClick){if(c.floating){this.clickHideDelayTimer=c.hide.defer(this.clickHideDelay,c,[true])}else{c.deactivateActive()}}},beforeDestroy:function(){clearTimeout(this.clickHideDelayTimer);Ext.menu.BaseItem.superclass.beforeDestroy.call(this)},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(b){if(typeof b=="string"){b={text:b}}Ext.menu.TextItem.superclass.constructor.call(this,b)},onRender:function(){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML=this.text;this.el=b;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(c){var d=document.createElement("span");d.className=this.itemCls;d.innerHTML="&#160;";this.el=d;c.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,altText:"",hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);if(this.menu){if(Ext.isArray(this.menu)){this.menu={items:this.menu}}if(Ext.isObject(this.menu)){this.menu.ownerCt=this}this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=undefined}},onRender:function(g,a){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img alt="{altText}" src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>")}var e=this.getTemplateArgs();this.el=a?this.itemTpl.insertBefore(a,e,true):this.itemTpl.append(g,e,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true})}Ext.menu.Item.superclass.onRender.call(this,g,a)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;",altText:this.altText||""}},setText:function(b){this.text=b||"&#160;";if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize()}},setIconClass:function(c){var d=this.iconCls;this.iconCls=c;if(this.rendered){this.iconEl.replaceClass(d,this.iconCls)}},beforeDestroy:function(){clearTimeout(this.showTimer);clearTimeout(this.hideTimer);if(this.menu){delete this.menu.ownerCt;this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(b){if(!this.href){b.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(b){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(b){this.expandMenu()}}return true},shouldDeactivate:function(b){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,b)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(b.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(b){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[b])}else{if(this.menu.isVisible()&&b){this.menu.tryActivate(0,1)}}}},deferExpand:function(b){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(b){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(b){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(e,d){var g=d===true;if(this.checked!=e&&(g||this.fireEvent("beforecheckchange",this,e)!==false)){Ext.menu.MenuMgr.onCheckChange(this,e);if(this.container){this.container[e?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=e;if(!g){this.fireEvent("checkchange",this,e)}}},handleClick:function(b){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20})}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true)}},onShow:function(){var b=this.picker.getEl();b.setWidth(b.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}}});Ext.reg("colormenu",Ext.menu.ColorMenu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(h,e){if(!this.el){var g=this.getAutoCreate();if(!g.name){g.name=this.name||this.id}if(this.inputType){g.type=this.inputType}this.autoEl=g}Ext.form.Field.superclass.onRender.call(this,h,e);if(this.submitValue===false){this.el.dom.removeAttribute("name")}var i=this.el.dom.type;if(i){if(i=="password"){i="text"}this.el.addClass("x-form-"+i)}if(this.readOnly){this.setReadOnly(true)}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},setReadOnly:function(b){if(this.rendered){this.el.dom.readOnly=b}this.readOnly=b},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(b){if(b.isSpecialKey()){this.fireEvent("specialkey",this,b)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.getKeyEvent(),this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate()}var b=this.getValue();if(String(b)!==String(this.startValue)){this.fireEvent("change",this,b,this.startValue)}this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(d){if(this.disabled){return true}var g=this.preventMark;this.preventMark=d===true;var e=this.validateValue(this.processValue(this.getRawValue()),d);this.preventMark=g;return e},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(b){return b},validateValue:function(d){var c=this.getErrors(d)[0];if(c==undefined){return true}else{this.markInvalid(c);return false}},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(g){if(this.rendered&&!this.preventMark){g=g||this.invalidText;var d=this.getMessageHandler();if(d){d.mark(this,g)}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var e=Ext.getDom(this.msgTarget);if(e){e.innerHTML=g;e.style.display=this.msgDisplay}}}}this.setActiveError(g)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var c=this.getMessageHandler();if(c){c.clear(this)}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var d=Ext.getDom(this.msgTarget);if(d){d.innerHTML="";d.style.display="none"}}}}this.unsetActiveError()},setActiveError:function(d,c){this.activeError=d;if(c!==true){this.fireEvent("invalid",this,d)}},unsetActiveError:function(b){delete this.activeError;if(b!==true){this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var b=this.rendered?this.el.getValue():Ext.value(this.value,"");if(b===this.emptyText){b=""}return b},getValue:function(){if(!this.rendered){return this.value}var b=this.el.getValue();if(b===this.emptyText||b===undefined){b=""}return b},setRawValue:function(b){return this.rendered?(this.el.dom.value=(Ext.isEmpty(b)?"":b)):""},setValue:function(b){this.value=b;if(this.rendered){this.el.dom.value=(Ext.isEmpty(b)?"":b);this.validate()}return this},append:function(b){this.setValue([this.getValue(),b].join(""))}});Ext.form.MessageTargets={qtip:{mark:function(c,d){c.el.addClass(c.invalidClass);c.el.dom.qtip=d;c.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(b){b.el.removeClass(b.invalidClass);b.el.dom.qtip=""}},title:{mark:function(c,d){c.el.addClass(c.invalidClass);c.el.dom.title=d},clear:function(b){b.el.dom.title=""}},under:{mark:function(e,g){e.el.addClass(e.invalidClass);if(!e.errorEl){var d=e.getErrorCt();if(!d){e.el.dom.title=g;return}e.errorEl=d.createChild({cls:"x-form-invalid-msg"});e.on("resize",e.alignErrorEl,e);e.on("destroy",function(){Ext.destroy(this.errorEl)},e)}e.alignErrorEl();e.errorEl.update(g);Ext.form.Field.msgFx[e.msgFx].show(e.errorEl,e)},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorEl){Ext.form.Field.msgFx[b.msgFx].hide(b.errorEl,b)}else{b.el.dom.title=""}}},side:{mark:function(e,g){e.el.addClass(e.invalidClass);if(!e.errorIcon){var d=e.getErrorCt();if(!d){e.el.dom.title=g;return}e.errorIcon=d.createChild({cls:"x-form-invalid-icon"});if(e.ownerCt){e.ownerCt.on("afterlayout",e.alignErrorIcon,e);e.ownerCt.on("expand",e.alignErrorIcon,e)}e.on("resize",e.alignErrorIcon,e);e.on("destroy",function(){Ext.destroy(this.errorIcon)},e)}e.alignErrorIcon();e.errorIcon.dom.qtip=g;e.errorIcon.dom.qclass="x-form-invalid-tip";e.errorIcon.show()},clear:function(b){b.el.removeClass(b.invalidClass);if(b.errorIcon){b.errorIcon.dom.qtip="";b.errorIcon.hide()}else{b.el.dom.title=""}}}};Ext.form.Field.msgFx={normal:{show:function(c,d){c.setDisplayed("block")},hide:function(c,d){c.setDisplayed(false).update("")}},slide:{show:function(c,d){c.slideIn("t",{stopFx:true})},hide:function(c,d){c.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(c,d){c.fixDisplay();c.alignTo(d.el,"tl-tr");c.slideIn("l",{stopFx:true})},hide:function(c,d){c.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this)}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this)}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});this.mon(this.el,"click",this.autoSize,this)}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})}},onMouseDown:function(b){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true})}},processValue:function(c){if(this.stripCharsRe){var d=c.replace(this.stripCharsRe,"");if(d!==c){this.setRawValue(d);return d}}return c},filterValidation:function(b){if(!b.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(b){if(this.doAutoSize(b)){this.autoSize()}},doAutoSize:function(b){return !b.isNavKeyPress()},onKeyUp:function(b){this.fireEvent("keyup",this,b)},onKeyDown:function(b){this.fireEvent("keydown",this,b)},onKeyPress:function(b){this.fireEvent("keypress",this,b)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){var c=this.el,d;if(this.emptyText){if(c.dom.value==this.emptyText){this.setRawValue("");d=true}c.removeClass(this.emptyClass)}if(this.selectOnFocus||d){c.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(e){if(e.ctrlKey){return}var d=e.getKey();if(Ext.isGecko&&(e.isNavKeyPress()||d==e.BACKSPACE||(d==e.DELETE&&e.button==-1))){return}var g=String.fromCharCode(e.getCharCode());if(!Ext.isGecko&&e.isSpecialKey()&&!g){return}if(!this.maskRe.test(g)){e.stopEvent()}},setValue:function(b){if(this.emptyText&&this.el&&!Ext.isEmpty(b)){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(e){var i=Ext.form.TextField.superclass.getErrors.apply(this,arguments);e=Ext.isDefined(e)?e:this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var h=this.validator(e);if(h!==true){i.push(h)}}if(e.length<1||e===this.emptyText){if(this.allowBlank){return i}else{i.push(this.blankText)}}if(!this.allowBlank&&(e.length<1||e===this.emptyText)){i.push(this.blankText)}if(e.length<this.minLength){i.push(String.format(this.minLengthText,this.minLength))}if(e.length>this.maxLength){i.push(String.format(this.maxLengthText,this.maxLength))}if(this.vtype){var g=Ext.form.VTypes;if(!g[this.vtype](e,this)){i.push(this.vtypeText||g[this.vtype+"Text"])}}if(this.regex&&!this.regex.test(e)){i.push(this.regexText)}return i},selectText:function(d,i){var k=this.getRawValue();var l=false;if(k.length>0){d=d===undefined?0:d;i=i===undefined?k.length:i;var m=this.el.dom;if(m.setSelectionRange){m.setSelectionRange(d,i)}else{if(m.createTextRange){var j=m.createTextRange();j.moveStart("character",d);j.moveEnd("character",i-k.length);j.select()}}l=Ext.isGecko||Ext.isOpera}else{l=true}if(l){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var h=this.el;var g=h.dom.value;var i=document.createElement("div");i.appendChild(document.createTextNode(g));g=i.innerHTML;Ext.removeNode(i);i=null;g+="&#160;";var d=Math.min(this.growMax,Math.max(this.metrics.getWidth(g)+10,this.growMin));this.el.setWidth(d);this.fireEvent("autosize",this,d)},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();this.validationTask=null}Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(d,g){Ext.form.TriggerField.superclass.onResize.call(this,d,g);var e=this.getTriggerWidth();if(Ext.isNumber(d)){this.el.setWidth(d-e)}this.wrap.setWidth(this.el.getWidth()+e)},getTriggerWidth:function(){var b=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&b===0){b=this.defaultTriggerWidth}return b},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(d,c){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,d,c);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.triggerClass});this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth())},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false)}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this)}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this)}this.trigger.setDisplayed(!this.hideTrigger)}this.onResize(this.width||this.wrap.getWidth())}},setHideTrigger:function(b){if(b!=this.hideTrigger){this.hideTrigger=b;this.updateEditState()}},setEditable:function(b){if(b!=this.editable){this.editable=b;this.updateEditState()}},setReadOnly:function(b){if(b!=this.readOnly){this.readOnly=b;this.updateEditState()}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this)}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this)}}},checkTab:function(c,d){if(d.getKey()==d.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(b){if(!this.isDestroyed&&!this.wrap.contains(b.target)&&this.validateBlur(b)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this)}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass)}},beforeBlur:Ext.emptyFn,validateBlur:function(b){return true},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(b){return this.triggers[b]},afterRender:function(){Ext.form.TwinTriggerField.superclass.afterRender.call(this);var g=this.triggers,e=0,d=g.length;for(;e<d;++e){if(this["hideTrigger"+(e+1)]){g[e].hide()}}},initTrigger:function(){var c=this.trigger.select(".x-form-trigger",true),d=this;c.each(function(h,a,b){var i="Trigger"+(b+1);h.hide=function(){var e=d.wrap.getWidth();this.dom.style.display="none";d.el.setWidth(e-d.trigger.getWidth());d["hidden"+i]=true};h.show=function(){var e=d.wrap.getWidth();this.dom.style.display="";d.el.setWidth(e-d.trigger.getWidth());d["hidden"+i]=false};this.mon(h,"click",this["on"+i+"Click"],this,{preventDefault:true});h.addClassOnOver("x-form-trigger-over");h.addClassOnClick("x-form-trigger-click")},this);this.triggers=c.elements},getTriggerWidth:function(){var b=0;Ext.each(this.triggers,function(h,g){var i="Trigger"+(g+1),a=h.getWidth();if(a===0&&!this["hidden"+i]){b+=this.defaultTriggerWidth}else{b+=a}},this);return b},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(d,c){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,d,c);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(b){if(b.isSpecialKey()&&(this.enterIsSpecial||(b.getKey()!=b.ENTER||b.hasModifier()))){this.fireEvent("specialkey",this,b)}},doAutoSize:function(b){return !b.isNavKeyPress()||b.getKey()==b.ENTER},filterValidation:function(b){if(!b.isNavKeyPress()||(!this.enterIsSpecial&&b.keyCode==b.ENTER)){this.validationTask.delay(this.validationDelay)}},autoSize:function(){if(!this.grow||!this.textSizeEl){return}var h=this.el,e=Ext.util.Format.htmlEncode(h.dom.value),i=this.textSizeEl,g;Ext.fly(i).setWidth(this.el.getWidth());if(e.length<1){e="&#160;&#160;"}else{e+=this.growAppend;if(Ext.isIE){e=e.replace(/\n/g,"&#160;<br />")}}i.innerHTML=e;g=Math.min(this.growMax,Math.max(i.offsetHeight,this.growMin));if(g!=this.lastHeight){this.lastHeight=g;this.el.setHeight(g);this.fireEvent("autosize",this,g)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",autoStripChars:false,initEvents:function(){var b=this.baseChars+"";if(this.allowDecimals){b+=this.decimalSeparator}if(this.allowNegative){b+="-"}b=Ext.escapeRe(b);this.maskRe=new RegExp("["+b+"]");if(this.autoStripChars){this.stripCharsRe=new RegExp("[^"+b+"]","gi")}Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(e){var g=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);e=Ext.isDefined(e)?e:this.processValue(this.getRawValue());if(e.length<1){return g}e=String(e).replace(this.decimalSeparator,".");if(isNaN(e)){g.push(String.format(this.nanText,e))}var d=this.parseValue(e);if(d<this.minValue){g.push(String.format(this.minText,this.minValue))}if(d>this.maxValue){g.push(String.format(this.maxText,this.maxValue))}return g},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(b){b=Ext.isNumber(b)?b:parseFloat(String(b).replace(this.decimalSeparator,"."));b=this.fixPrecision(b);b=isNaN(b)?"":String(b).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,b)},setMinValue:function(b){this.minValue=Ext.num(b,Number.NEGATIVE_INFINITY)},setMaxValue:function(b){this.maxValue=Ext.num(b,Number.MAX_VALUE)},parseValue:function(b){b=parseFloat(String(b).replace(this.decimalSeparator,"."));return isNaN(b)?"":b},fixPrecision:function(d){var c=isNaN(d);if(!this.allowDecimals||this.decimalPrecision==-1||c||!d){return c?"":d}return parseFloat(parseFloat(d).toFixed(this.decimalPrecision))},beforeBlur:function(){var b=this.parseValue(this.getRawValue());if(!Ext.isEmpty(b)){this.setValue(b)}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,startDay:0,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(e,g){if(Date.formatContainsHourInfo(g)){return Date.parseDate(e,g)}else{var d=Date.parseDate(e+" "+this.initTime,g+" "+this.initTimeFormat);if(d){return d.clearTime()}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue)}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(b){this.onTriggerClick()},scope:this,forceKeyDown:true})},initDisabledDays:function(){if(this.disabledDates){var e=this.disabledDates,d=e.length-1,g="(?:";Ext.each(e,function(a,b){g+=Ext.isDate(a)?"^"+Ext.escapeRe(a.dateFormat(this.format))+"$":e[b];if(b!=d){g+="|"}},this);this.disabledDatesRE=new RegExp(g+")")}},setDisabledDates:function(b){this.disabledDates=b;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(b){this.disabledDays=b;if(this.menu){this.menu.picker.setDisabledDays(b)}},setMinValue:function(b){this.minValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(b){this.maxValue=(Ext.isString(b)?this.parseDate(b):b);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},getErrors:function(n){var i=Ext.form.DateField.superclass.getErrors.apply(this,arguments);n=this.formatDate(n||this.processValue(this.getRawValue()));if(n.length<1){return i}var l=n;n=this.parseDate(n);if(!n){i.push(String.format(this.invalidText,l,this.format));return i}var o=n.getTime();if(this.minValue&&o<this.minValue.clearTime().getTime()){i.push(String.format(this.minText,this.formatDate(this.minValue)))}if(this.maxValue&&o>this.maxValue.clearTime().getTime()){i.push(String.format(this.maxText,this.formatDate(this.maxValue)))}if(this.disabledDays){var j=n.getDay();for(var k=0;k<this.disabledDays.length;k++){if(j===this.disabledDays[k]){i.push(this.disabledDaysText);break}}}var m=this.formatDate(n);if(this.disabledDatesRE&&this.disabledDatesRE.test(m)){i.push(String.format(this.disabledDatesText,m))}return i},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(b){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},parseDate:function(m){if(!m||Ext.isDate(m)){return m}var i=this.safeParse(m,this.format),j=this.altFormats,l=this.altFormatsArray;if(!i&&j){l=l||j.split("|");for(var k=0,h=l.length;k<h&&!i;k++){i=this.safeParse(m,l[k])}}return i},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(b){return Ext.isDate(b)?b.dateFormat(this.format):b},onTriggerClick:function(){if(this.disabled){return}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false})}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,startDay:this.startDay,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on")},menuEvents:function(b){this.menu[b]("select",this.onSelect,this);this.menu[b]("hide",this.onMenuHide,this);this.menu[b]("show",this.onFocus,this)},onSelect:function(c,d){this.setValue(d);this.fireEvent("select",this,d);this.menu.hide()},onMenuHide:function(){this.focus(false,60);this.menuEvents("un")},beforeBlur:function(){var b=this.parseDate(this.getRawValue());if(b){this.setValue(b)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true},validate:function(){return true},getRawValue:function(){var b=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(b===this.emptyText){b=""}if(this.htmlEncode){b=Ext.util.Format.htmlDecode(b)}return b},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(b){if(this.htmlEncode){b=Ext.util.Format.htmlEncode(b)}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(b)?"":b)):(this.value=b)},setValue:function(b){this.setRawValue(b);return this}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var m=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=m.name}if(!this.store){this.mode="local";var i=[],n=m.options;for(var l=0,k=n.length;l<k;l++){var d=n[l],o=(d.hasAttribute?d.hasAttribute("value"):d.getAttributeNode("value").specified)?d.value:d.text;if(d.selected&&Ext.isEmpty(this.value,true)){this.value=o}i.push([o,d.text])}this.store=new Ext.data.ArrayStore({idIndex:0,fields:["value","text"],data:i,autoDestroy:true});this.valueField="value";this.displayField="text"}m.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(m,this.autoCreate||this.defaultAutoCreate);this.render(this.el.parentNode,m)}Ext.removeNode(m)}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2"}this.mode="local"}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0}}},onRender:function(d,c){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false}Ext.form.ComboBox.superclass.onRender.call(this,d,c);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||Ext.id())},"before",true)}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"")}},getParentZIndex:function(){var b;if(this.ownerCt){this.findParentBy(function(a){b=parseInt(a.getPositionEl().getStyle("z-index"),10);return !!b})}return b},getZIndex:function(d){d=d||Ext.getDom(this.getListParent()||Ext.getBody());var c=parseInt(Ext.fly(d).getStyle("z-index"),10);if(!c){c=this.getParentZIndex()}return(c||12000)+5},initList:function(){if(!this.list){var d="x-combo-list",g=Ext.getDom(this.getListParent()||Ext.getBody());this.list=new Ext.Layer({parentEl:g,shadow:this.shadow,cls:[d,this.listClass].join(" "),constrain:false,zindex:this.getZIndex(g)});var e=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(e,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"))}if(this.title){this.header=this.list.createChild({cls:d+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:d+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(e-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:d+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+d+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+d+"-item",emptyText:this.listEmptyText,deferEmptyText:false});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(a,b,c){this.maxHeight=c-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=b;this.innerList.setWidth(b-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(c,d){if(this.store&&!d){if(this.store!==c&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this)}if(!c){this.store=null;if(this.view){this.view.bindStore(null)}if(this.pageTb){this.pageTb.bindStore(null)}}}if(c){if(!d){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(c)}}this.store=Ext.StoreMgr.lookup(c);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(c)}}},reset:function(){if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter()}Ext.form.ComboBox.superclass.reset.call(this)},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(b){this.inKeyMode=true;this.selectPrev()},down:function(b){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(b){this.onViewClick()},esc:function(b){this.collapse()},tab:function(b){if(this.forceSelection===true){this.collapse()}else{this.onViewClick(false)}return true},scope:this,doRelay:function(h,g,e){if(e=="down"||this.scope.isExpanded()){var i=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(h)}return i}return true},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this)}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(b){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,b)}},onResize:function(c,d){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(c)&&this.isVisible()&&this.list){this.doResize(c)}else{this.bufferSize=c}},doResize:function(c){if(!Ext.isDefined(this.listWidth)){var d=Math.max(c,this.minListWidth);this.list.setWidth(d);this.innerList.setWidth(d-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},onBeforeLoad:function(){if(!this.hasFocus){return}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true)}}else{if(this.autoSelect!==false){this.selectNext()}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.collapse()}},onTypeAhead:function(){if(this.store.getCount()>0){var g=this.store.getAt(0);var h=g.data[this.displayField];var e=h.length;var i=this.getRawValue().length;if(i!=e){this.setRawValue(h);this.selectText(i,h.length)}}},assertValue:function(){var d=this.getRawValue(),c;if(this.valueField&&Ext.isDefined(this.value)){c=this.findRecord(this.valueField,this.value)}if(!c||c.get(this.displayField)!=d){c=this.findRecord(this.displayField,d)}if(!c&&this.forceSelection){if(d.length>0&&d!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText()}else{this.clearValue()}}else{if(c&&this.valueField){if(this.value==d){return}d=c.get(this.valueField||this.displayField)}this.setValue(d)}},onSelect:function(c,d){if(this.fireEvent("beforeselect",this,c,d)!==false){this.setValue(c.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,c,d)}},getName:function(){var b=this.hiddenField;return b&&b.name?b.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(d){var g=d;if(this.valueField){var e=this.findRecord(this.valueField,d);if(e){g=e.data[this.displayField]}else{if(Ext.isDefined(this.valueNotFoundText)){g=this.valueNotFoundText}}}this.lastSelectionText=g;if(this.hiddenField){this.hiddenField.value=Ext.value(d,"")}Ext.form.ComboBox.superclass.setValue.call(this,g);this.value=d;return this},findRecord:function(g,e){var d;if(this.store.getCount()>0){this.store.each(function(a){if(a.data[g]==e){d=a;return false}})}return d},onViewMove:function(d,c){this.inKeyMode=false},onViewOver:function(i,g){if(this.inKeyMode){return}var h=this.view.findItemFromChild(g);if(h){var e=this.view.indexOf(h);this.select(e,false)}},onViewClick:function(g){var e=this.view.getSelectedIndexes()[0],h=this.store,i=h.getAt(e);if(i){this.onSelect(i,e)}else{this.collapse()}if(g!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var i=this.innerList.dom,l=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,j=Math.max(i.clientHeight,i.offsetHeight,i.scrollHeight),h=this.getPosition()[1]-Ext.getBody().getScroll().top,m=Ext.lib.Dom.getViewHeight()-h-this.getSize().height,k=Math.max(h,m,this.minHeight||0)-this.list.shadowOffset-l-5;j=Math.min(j,k,this.maxHeight);this.innerList.setHeight(j);this.list.beginUpdate();this.list.setHeight(j+l);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(d,g){if(!Ext.isEmpty(d,true)){var e=this.findRecord(this.valueField||this.displayField,d);if(e){this.select(this.store.indexOf(e),g);return true}}return false},select:function(d,g){this.selectedIndex=d;this.view.select(d);if(g!==false){var e=this.view.getNode(d);if(e){this.innerList.scrollChildIntoView(e,false)}}},selectNext:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<b-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var b=this.store.getCount();if(b>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(d){var c=d.getKey();if(this.editable!==false&&this.readOnly!==true&&(c==d.BACKSPACE||!d.isSpecialKey())){this.lastKey=c;this.dqTask.delay(this.queryDelay)}Ext.form.ComboBox.superclass.onKeyUp.call(this,d)},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=false},doQuery:function(g,e){g=Ext.isEmpty(g)?"":g;var d={query:g,forceAll:e,combo:this,cancel:false};if(this.fireEvent("beforequery",d)===false||d.cancel){return false}g=d.query;e=d.forceAll;if(e===true||(g.length>=this.minChars)){if(this.lastQuery!==g){this.lastQuery=g;if(this.mode=="local"){this.selectedIndex=-1;if(e){this.store.clearFilter()}else{this.store.filter(this.displayField,g)}this.onLoad()}else{this.store.baseParams[this.queryParam]=g;this.store.load({params:this.getParams(g)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(d){var e={},g=this.store.paramNames;if(this.pageSize){e[g.start]=0;e[g.limit]=this.pageSize}return e},collapse:function(){if(!this.isExpanded()){return}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(b){if(!this.isDestroyed&&!b.within(this.wrap)&&!b.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight()}if(this.pageSize){this.assetHeight+=this.footer.getHeight()}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.setZIndex(this.getZIndex());this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto")}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)},onTriggerClick:function(){if(this.readOnly||this.disabled){return}if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(d,c){Ext.form.Checkbox.superclass.onRender.call(this,d,c);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}if(Ext.isIE&&!Ext.isStrict){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked)}},setValue:function(d){var g=this.checked,e=this.inputValue;if(d===false){this.checked=false}else{this.checked=(d===true||d==="true"||d=="1"||(e?d==e:String(d).toLowerCase()=="on"))}if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked}if(g!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}return this}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(u,E){if(!this.el){var i={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:u,bufferResize:false};var z={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(i,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var D=0,w=this.items.length;D<w;D++){Ext.applyIf(this.items[D],z)}}else{var C,x=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var v=[];for(var D=0;D<this.columns;D++){v.push((100/this.columns)*0.01)}this.columns=v}C=this.columns.length;for(var D=0;D<C;D++){var A=Ext.apply({items:[]},z);A[this.columns[D]<=1?"columnWidth":"width"]=this.columns[D];if(this.defaults){A.defaults=Ext.apply(A.defaults||{},this.defaults)}x.push(A)}if(this.vertical){var s=Math.ceil(this.items.length/C),y=0;for(var D=0,w=this.items.length;D<w;D++){if(D>0&&D%s==0){y++}if(this.items[D].fieldLabel){this.items[D].hideLabel=false}x[y].items.push(this.items[D])}}else{for(var D=0,w=this.items.length;D<w;D++){var l=D%C;if(this.items[D].fieldLabel){this.items[D].hideLabel=false}x[l].items.push(this.items[D])}}Ext.apply(i,{layoutConfig:{columns:C},items:x})}this.panel=new Ext.Container(i);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var B=this.el.up(this.itemCls).child("label",true);if(B){B.setAttribute("htmlFor",this.forId)}}var t=this.panel.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(t)}Ext.form.CheckboxGroup.superclass.onRender.call(this,u,E)},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(b){b.on("check",this.fireChecked,this);b.inGroup=true})},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout()}},fireChecked:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});this.fireEvent("change",this,b)},getErrors:function(){var d=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var c=true;this.eachItem(function(a){if(a.checked){return(c=false)}});if(c){d.push(this.blankText)}}return d},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},setReadOnly:function(b){if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})},onResize:function(c,d){this.panel.setSize(c,d);this.panel.doLayout()},reset:function(){if(this.originalValue){this.eachItem(function(b){if(b.setValue){b.setValue(false);b.originalValue=b.getValue()}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal}else{this.eachItem(function(b){if(b.reset){b.reset()}})}(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments)}else{this.buffered=true;this.value=arguments}return this},onSetValue:function(i,h){if(arguments.length==1){if(Ext.isArray(i)){Ext.each(i,function(a,c){if(Ext.isObject(a)&&a.setValue){a.setValue(true);if(this.resetOriginal===true){a.originalValue=a.getValue()}}else{var b=this.items.itemAt(c);if(b){b.setValue(a)}}},this)}else{if(Ext.isObject(i)){for(var e in i){var g=this.getBox(e);if(g){g.setValue(i[e])}}}else{this.setValueForItem(i)}}}else{var g=this.getBox(i);if(g){g.setValue(h)}}},beforeDestroy:function(){Ext.destroy(this.panel);if(!this.rendered){Ext.destroy(this.items)}Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(b){b=String(b).split(",");this.eachItem(function(a){if(b.indexOf(a.inputValue)>-1){a.setValue(true)}})},getBox:function(d){var c=null;this.eachItem(function(a){if(d==a||a.dataIndex==d||a.id==d||a.getName()==d){c=a;return false}});return c},getValue:function(){var b=[];this.eachItem(function(a){if(a.checked){b.push(a)}});return b},eachItem:function(d,c){if(this.items&&this.items.each){this.items.each(d,c||this)}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,labelConnector:", ",initComponent:function(){var m=[],i=this.items,l;for(var k=0,j=i.length;k<j;k++){l=i[k];if(!Ext.isEmpty(l.ref)){l.ref="../"+l.ref}m.push(l.fieldLabel);Ext.applyIf(l,this.defaults);if(!(k==j-1&&this.skipLastItemMargin)){Ext.applyIf(l,{margins:this.defaultMargins})}}this.fieldLabel=this.fieldLabel||this.buildLabel(m);this.fieldErrors=new Ext.util.MixedCollection(true,function(a){return a.field});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments);this.innerCt=new Ext.Container({layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0",ownerCt:this});this.innerCt.ownerCt=undefined;var h=this.innerCt.findBy(function(a){return a.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(h)},onRender:function(h,e){if(!this.el){var i=this.innerCt;i.render(h);this.el=i.getEl();if(this.combineErrors){this.eachItem(function(a){Ext.apply(a,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[a],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[a],0)})})}var g=this.el.parent().parent().child("label",true);if(g){g.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(i,h){var g=i.getName(),e={field:g,errorName:i.fieldLabel||g,error:h};this.fieldErrors.replace(g,e);if(!i.preventMark){i.el.addClass(i.invalidClass)}},onFieldClearInvalid:function(b){this.fieldErrors.removeKey(b.getName());b.el.removeClass(b.invalidClass)},updateInvalidMark:function(){var c=Ext.isIE6&&Ext.isStrict;if(this.fieldErrors.length==0){this.clearInvalid();if(c){this.clearInvalid.defer(50,this)}}else{var d=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(d);if(c){this.markInvalid(d)}}},validateValue:function(g,d){var e=true;this.eachItem(function(a){if(!a.isValid(d)){e=false}});return e},buildCombinedErrorMessage:function(k){var j=[],h;for(var i=0,g=k.length;i<g;i++){h=k[i];j.push(String.format("{0}: {1}",h.errorName,h.error))}return j.join("<br />")},sortErrors:function(){var b=this.items;this.fieldErrors.sort("ASC",function(i,k){var j=function(c){return function(d){return d.getName()==c}};var a=b.findIndexBy(j(i.field)),l=b.findIndexBy(j(k.field));return a<l?-1:1})},reset:function(){this.eachItem(function(b){b.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(b){b.clearInvalid()})},buildLabel:function(b){return Ext.clean(b).join(this.labelConnector)},isDirty:function(){if(this.disabled||!this.rendered){return false}var b=false;this.eachItem(function(a){if(a.isDirty()){b=true;return false}});return b},eachItem:function(d,c){if(this.items&&this.items.each){this.items.each(d,c||this)}},onResize:function(k,i,g,j){var h=this.innerCt;if(this.rendered&&h.rendered){h.setSize(k,i)}Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(g,e){if(this.rendered){var d=this.innerCt;d.forceLayout=this.ownerCt.forceLayout;d.doLayout(g,e)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},setReadOnly:function(b){if(b==undefined){b=true}b=!!b;if(this.rendered){this.eachItem(function(a){a.setReadOnly(b)})}this.readOnly=b},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(b){b.disable()})},onEnable:function(){this.eachItem(function(b){b.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var c=this.el.up("form")||Ext.getBody();var d=c.child('input[name="'+this.el.dom.name+'"]:checked',true);return d?d.value:null},setValue:function(g){var e,i,h;if(typeof g=="boolean"){Ext.form.Radio.superclass.setValue.call(this,g)}else{if(this.rendered){e=this.getCheckEl();h=e.child('input[name="'+this.el.dom.name+'"][value="'+g+'"]',true);if(h){Ext.getCmp(h.id).setValue(true)}}}if(this.rendered&&this.checked){e=e||this.getCheckEl();i=this.getCheckEl().select('input[name="'+this.el.dom.name+'"]');i.each(function(a){if(a.dom.id!=this.id){Ext.getCmp(a.dom.id).setValue(false)}},this)}return this},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});return b},onSetValue:function(g,e){if(arguments.length>1){var d=this.getBox(g);if(d){d.setValue(e);if(d.checked){this.eachItem(function(a){if(a!==d){a.setValue(false)}})}}}else{this.setValueForItem(g)}},setValueForItem:function(b){b=String(b).split(",")[0];this.eachItem(function(a){a.setValue(b==a.inputValue)})},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)}this.checkTask.delay(10)},bufferChecked:function(){var b=null;this.eachItem(function(a){if(a.checked){b=a;return false}});this.fireEvent("change",this,b)},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null}Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",shouldLayout:false,onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(d,c){Ext.apply(this,c);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}this.items=new Ext.util.MixedCollection(false,function(a){return a.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");if(d){this.initEl(d)}Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(b){this.el=Ext.get(b);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(b){b.stopEvent()},destroy:function(b){if(b!==true){this.items.each(function(a){Ext.destroy(a)});Ext.destroy(this.el)}this.items.clear();this.purgeListeners()},isValid:function(){var b=true;this.items.each(function(a){if(!a.validate()){b=false}});return b},isDirty:function(){var b=false;this.items.each(function(a){if(a.isDirty()){b=true;return false}});return b},doAction:function(d,c){if(Ext.isString(d)){d=new Ext.form.Action.ACTION_TYPES[d](this,c)}if(this.fireEvent("beforeaction",this,d)!==false){this.beforeAction(d);d.run.defer(100,d)}return this},submit:function(g){g=g||{};if(this.standardSubmit){var e=g.clientValidation===false||this.isValid();if(e){var h=this.el.dom;if(this.url&&Ext.isEmpty(h.action)){h.action=this.url}h.submit()}return e}var i=String.format("{0}submit",this.api?"direct":"");this.doAction(i,g);return this},load:function(c){var d=String.format("{0}load",this.api?"direct":"");this.doAction(d,c);return this},updateRecord:function(g){g.beginEdit();var e=g.fields,i,h;e.each(function(a){i=this.findField(a.name);if(i){h=i.getValue();if(Ext.type(h)!==false&&h.getGroupValue){h=h.getGroupValue()}else{if(i.eachItem){h=[];i.eachItem(function(b){h.push(b.getValue())})}}g.set(a.name,h)}},this);g.endEdit();return this},loadRecord:function(b){this.setValues(b.data);return this},beforeAction:function(c){this.items.each(function(a){if(a.isFormField&&a.syncValue){a.syncValue()}});var d=c.options;if(d.waitMsg){if(this.waitMsgTarget===true){this.el.mask(d.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(d.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(d.waitMsg,d.waitTitle||this.waitTitle)}}}},afterAction:function(d,g){this.activeAction=null;var e=d.options;if(e.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(g){if(e.reset){this.reset()}Ext.callback(e.success,e.scope,[this,d]);this.fireEvent("actioncomplete",this,d)}else{Ext.callback(e.failure,e.scope,[this,d]);this.fireEvent("actionfailed",this,d)}},findField:function(g){var e=this.items.get(g);if(!Ext.isObject(e)){var d=function(a){if(a.isFormField){if(a.dataIndex==g||a.id==g||a.getName()==g){e=a;return false}else{if(a.isComposite){return a.items.each(d)}else{if(a instanceof Ext.form.CheckboxGroup&&a.rendered){return a.eachItem(d)}}}}};this.items.each(d)}return e||null},markInvalid:function(i){if(Ext.isArray(i)){for(var l=0,j=i.length;l<j;l++){var k=i[l];var m=this.findField(k.id);if(m){m.markInvalid(k.msg)}}}else{var n,o;for(o in i){if(!Ext.isFunction(i[o])&&(n=this.findField(o))){n.markInvalid(i[o])}}}return this},setValues:function(l){if(Ext.isArray(l)){for(var m=0,j=l.length;m<j;m++){var k=l[m];var n=this.findField(k.id);if(n){n.setValue(k.value);if(this.trackResetOnLoad){n.originalValue=n.getValue()}}}}else{var o,i;for(i in l){if(!Ext.isFunction(l[i])&&(o=this.findField(i))){o.setValue(l[i]);if(this.trackResetOnLoad){o.originalValue=o.getValue()}}}}return this},getValues:function(d){var c=Ext.lib.Ajax.serializeForm(this.el.dom);if(d===true){return c}return Ext.urlDecode(c)},getFieldValues:function(g){var j={},k,h,i;this.items.each(function(a){if(!a.disabled&&(g!==true||a.isDirty())){k=a.getName();h=j[k];i=a.getValue();if(Ext.isDefined(h)){if(Ext.isArray(h)){j[k].push(i)}else{j[k]=[h,i]}}else{j[k]=i}}});return j},clearInvalid:function(){this.items.each(function(b){b.clearInvalid()});return this},reset:function(){this.items.each(function(b){b.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(b){this.items.remove(b);return this},cleanDestroyed:function(){this.items.filterBy(function(b){return !!b.isDestroyed}).each(this.remove,this)},render:function(){this.items.each(function(b){if(b.isFormField&&!b.rendered&&document.getElementById(b.id)){b.applyToMarkup(b.id)}});return this},applyToFields:function(b){this.items.each(function(a){Ext.apply(a,b)});return this},applyIfToFields:function(b){this.items.each(function(a){Ext.applyIf(a,b)});return this},callFieldMethod:function(d,c){c=c||[];this.items.each(function(a){if(Ext.isFunction(a[d])){a[d].apply(a,c)}});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var b=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,b)},initFields:function(){var g=this.form;var d=this;var e=function(a){if(d.isField(a)){g.add(a)}else{if(a.findBy&&a!=d){d.applySettings(a);if(a.items&&a.items.each){a.items.each(e,this)}}}};this.items.each(e,this)},applySettings:function(d){var c=d.ownerCt;Ext.applyIf(d,{labelAlign:c.labelAlign,labelWidth:c.labelWidth,itemCls:c.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(d,c){this.initFields();Ext.FormPanel.superclass.onRender.call(this,d,c);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(b){return !!b.setValue&&!!b.getValue&&!!b.markInvalid&&!!b.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring()}},onAdd:function(b){Ext.FormPanel.superclass.onAdd.call(this,b);this.processAdd(b)},onAddEvent:function(c,d){if(c!==this){this.processAdd(d)}},processAdd:function(b){if(this.isField(b)){this.form.add(b)}else{if(b.findBy){this.applySettings(b);this.form.add.apply(this.form,b.findBy(this.isField))}}},onRemove:function(b){Ext.FormPanel.superclass.onRemove.call(this,b);this.processRemove(b)},onRemoveEvent:function(c,d){if(c!==this){this.processRemove(d)}},processRemove:function(b){if(!this.destroying){if(this.isField(b)){this.form.remove(b)}else{if(b.findBy){Ext.each(b.findBy(this.isField),this.form.remove,this.form);this.form.cleanDestroyed()}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null}},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){var k=true;this.form.items.each(function(a){if(!a.isValid(true)){k=false;return false}});if(this.fbar){var h=this.fbar.items.items;for(var j=0,g=h.length;j<g;j++){var i=h[j];if(i.formBind===true&&i.disabled===k){i.setDisabled(!k)}}}this.fireEvent("clientvalidation",this,k)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(e,d){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header"}}Ext.form.FieldSet.superclass.onRender.call(this,e,d);if(this.checkboxToggle){var g=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(g);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(c,d){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,c,d)},onExpand:function(c,d){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,c,d)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");Ext.form.HtmlEditor.superclass.initComponent.call(this)},createFontOptions:function(){var k=[],i=this.fontFamilies,j,m;for(var l=0,h=i.length;l<h;l++){j=i[l];m=j.toLowerCase();k.push('<option value="',m,'" style="font-family:',j,';"',(this.defaultFont==m?' selected="true">':">"),j,"</option>")}return k.join("")},createToolbar:function(l){var j=[];var h=Ext.QuickTips&&Ext.QuickTips.isEnabled();function k(c,a,b){return{itemId:c,cls:"x-btn-icon",iconCls:"x-edit-"+c,enableToggle:a!==false,scope:l,handler:b||l.relayBtnCmd,clickEvent:"mousedown",tooltip:h?l.buttonTips[c]||undefined:undefined,overflowText:l.buttonTips[c].title||undefined,tabIndex:-1}}if(this.enableFont&&!Ext.isSafari2){var m=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});j.push(m,"-")}if(this.enableFormat){j.push(k("bold"),k("italic"),k("underline"))}if(this.enableFontSize){j.push("-",k("increasefontsize",false,this.adjustFont),k("decreasefontsize",false,this.adjustFont))}if(this.enableColors){j.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:h?l.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,listeners:{scope:this,select:function(b,a){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+a:a);this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:h?l.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,listeners:{scope:this,select:function(b,a){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",a);this.execCmd("useCSS",true);this.deferFocus()}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+a:a);this.deferFocus()}}},clickEvent:"mousedown"})})}if(this.enableAlignments){j.push("-",k("justifyleft"),k("justifycenter"),k("justifyright"))}if(!Ext.isSafari2){if(this.enableLinks){j.push("-",k("createlink",false,this.createLink))}if(this.enableLists){j.push("-",k("insertorderedlist"),k("insertunorderedlist"))}if(this.enableSourceEdit){j.push("-",k("sourceedit",true,function(a){this.toggleSourceEdit(!this.sourceEditMode)}))}}var i=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:j});if(m){this.fontSelect=m.el;this.mon(this.fontSelect,"change",function(){var a=this.fontSelect.dom.value;this.relayCmd("fontname",a);this.deferFocus()},this)}this.mon(i.el,"click",function(a){a.preventDefault()});this.tb=i;this.tb.doLayout()},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(d){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,d);if(this.initialized){if(Ext.isIE){this.getEditorBody().contentEditable=!d}else{this.setDesignMode(!d)}var c=this.getEditorBody();if(c){c.style.cursor=this.readOnly?"default":"text"}this.disableItems(d)}},getDocMarkup:function(){var b=Ext.fly(this.iframe).getHeight()-this.iframePad*2;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,b)},getEditorBody:function(){var b=this.getDoc();return b.body||b.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document)},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(e,d){Ext.form.HtmlEditor.superclass.onRender.call(this,e,d);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;")}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.disableItems(true);this.tb.doLayout();this.createIFrame();if(!this.width){var g=this.el.getSize();this.setSize(g.width,this.height||g.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var b=document.createElement("iframe");b.name=Ext.id();b.frameBorder="0";b.style.overflow="auto";b.src=Ext.SSL_SECURE_URL;this.wrap.dom.appendChild(b);this.iframe=b;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var d=this.getDoc();this.win=this.getWin();d.open();d.write(this.getDocMarkup());d.close();var c={run:function(){var a=this.getDoc();if(a.body||a.readyState=="complete"){Ext.TaskMgr.stop(c);this.setDesignMode(true);this.initEditor.defer(10,this)}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(c)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var b=this.getDoc();if(!b){return}if(!b.editorInitialized||this.getDesignMode()!="on"){this.initFrame()}}},setDesignMode:function(d){var c=this.getDoc();if(c){if(this.readOnly){d=false}c.designMode=(/on|true/i).test(String(d).toLowerCase())?"on":"off"}},getDesignMode:function(){var b=this.getDoc();if(!b){return""}return String(b.designMode).toLowerCase()},disableItems:function(b){if(this.fontSelect){this.fontSelect.dom.disabled=b}this.tb.items.each(function(a){if(a.getItemId()!="sourceedit"){a.setDisabled(b)}})},onResize:function(h,i){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(h)){var k=h-this.wrap.getFrameWidth("lr");this.el.setWidth(k);this.tb.setWidth(k);this.iframe.style.width=Math.max(k,0)+"px"}if(Ext.isNumber(i)){var g=i-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(g);this.iframe.style.height=Math.max(g,0)+"px";var j=this.getEditorBody();if(j){j.style.height=Math.max((g-(this.iframePad*2)),0)+"px"}}}},toggleSourceEdit:function(g){var i,e;if(g===undefined){g=!this.sourceEditMode}this.sourceEditMode=g===true;var h=this.tb.getComponent("sourceedit");if(h.pressed!==this.sourceEditMode){h.toggle(this.sourceEditMode);if(!h.xtbHidden){return}}if(this.sourceEditMode){this.previousSize=this.getSize();i=Ext.get(this.iframe).getHeight();this.disableItems(true);this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();this.el.dom.style.height=i+"px"}else{e=parseInt(this.el.dom.style.height,10);if(this.initialized){this.disableItems(this.readOnly)}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();this.setSize(this.previousSize);delete this.previousSize;this.iframe.style.height=e+"px"}this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var b=prompt(this.createLinkText,this.defaultLinkValue);if(b&&b!="http://"){this.relayCmd("createlink",b)}},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(b){Ext.form.HtmlEditor.superclass.setValue.call(this,b);this.pushValue();return this},cleanHtml:function(b){b=String(b);if(Ext.isWebKit){b=b.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(b.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")){b=b.substring(1)}return b},syncValue:function(){if(this.initialized){var i=this.getEditorBody();var h=i.innerHTML;if(Ext.isWebKit){var g=i.getAttribute("style");var e=g.match(/text-align:(.*?);/i);if(e&&e[1]){h='<div style="'+e[0]+'">'+h+"</div>"}}h=this.cleanHtml(h);if(this.fireEvent("beforesync",this,h)!==false){this.el.dom.value=h;this.fireEvent("sync",this,h)}}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();return Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var b=this.el.dom.value;if(!this.activated&&b.length<1){b=this.defaultValue}if(this.fireEvent("beforepush",this,b)!==false){this.getEditorBody().innerHTML=b;if(Ext.isGecko){this.setDesignMode(false);this.setDesignMode(true)}this.fireEvent("push",this,b)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus()}else{this.el.focus()}},initEditor:function(){try{var j=this.getEditorBody(),h=this.el.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),e,i;h["background-attachment"]="fixed";j.bgProperties="fixed";Ext.DomHelper.applyStyles(j,h);e=this.getDoc();if(e){try{Ext.EventManager.removeAll(e)}catch(k){}}i=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(e,{mousedown:i,dblclick:i,click:i,keyup:i,buffer:100});if(Ext.isGecko){Ext.EventManager.on(e,"keypress",this.applyCommand,this)}if(Ext.isIE||Ext.isWebKit||Ext.isOpera){Ext.EventManager.on(e,"keydown",this.fixKeys,this)}e.editorInitialized=true;this.initialized=true;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this)}catch(k){}},beforeDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask)}if(this.rendered){Ext.destroy(this.tb);var e=this.getDoc();if(e){try{Ext.EventManager.removeAll(e);for(var g in e){delete e[g]}}catch(d){}}if(this.wrap){this.wrap.dom.innerHTML="";this.wrap.remove()}}Ext.form.HtmlEditor.superclass.beforeDestroy.call(this)},onFirstFocus:function(){this.activated=true;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var d=this.win.getSelection();if(!d.focusNode||d.focusNode.nodeType!=3){var e=d.getRangeAt(0);e.selectNodeContents(this.getEditorBody());e.collapse(true);this.deferFocus()}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false)}catch(g){}}this.fireEvent("activate",this)},adjustFont:function(g){var i=g.getItemId()=="increasefontsize"?1:-1,h=this.getDoc(),e=parseInt(h.queryCommandValue("FontSize")||2,10);if((Ext.isSafari&&!Ext.isSafari2)||Ext.isChrome||Ext.isAir){if(e<=10){e=1+i}else{if(e<=13){e=2+i}else{if(e<=16){e=3+i}else{if(e<=18){e=4+i}else{if(e<=24){e=5+i}else{e=6+i}}}}}e=e.constrain(1,6)}else{if(Ext.isSafari){i*=2}e=Math.max(1,e+i)+(Ext.isSafari?"px":0)}this.execCmd("FontSize",e)},onEditorEvent:function(b){this.updateToolbar()},updateToolbar:function(){if(this.readOnly){return}if(!this.activated){this.onFirstFocus();return}var e=this.tb.items.map,g=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var d=(g.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(d!=this.fontSelect.dom.value){this.fontSelect.dom.value=d}}if(this.enableFormat){e.bold.toggle(g.queryCommandState("bold"));e.italic.toggle(g.queryCommandState("italic"));e.underline.toggle(g.queryCommandState("underline"))}if(this.enableAlignments){e.justifyleft.toggle(g.queryCommandState("justifyleft"));e.justifycenter.toggle(g.queryCommandState("justifycenter"));e.justifyright.toggle(g.queryCommandState("justifyright"))}if(!Ext.isSafari2&&this.enableLists){e.insertorderedlist.toggle(g.queryCommandState("insertorderedlist"));e.insertunorderedlist.toggle(g.queryCommandState("insertunorderedlist"))}Ext.menu.MenuMgr.hideAll();this.syncValue()},relayBtnCmd:function(b){this.relayCmd(b.getItemId())},relayCmd:function(d,c){(function(){this.focus();this.execCmd(d,c);this.updateToolbar()}).defer(10,this)},execCmd:function(e,d){var g=this.getDoc();g.execCommand(e,false,d===undefined?null:d);this.syncValue()},applyCommand:function(e){if(e.ctrlKey){var g=e.getCharCode(),c;if(g>0){g=String.fromCharCode(g);switch(g){case"b":c="bold";break;case"i":c="italic";break;case"u":c="underline";break}if(c){this.win.focus();this.execCmd(c);this.deferFocus();e.preventDefault()}}}},insertAtCursor:function(g){if(!this.activated){return}if(Ext.isIE){this.win.focus();var e=this.getDoc(),d=e.selection.createRange();if(d){d.pasteHTML(g);this.syncValue();this.deferFocus()}}else{this.win.focus();this.execCmd("InsertHTML",g);this.deferFocus()}},fixKeys:function(){if(Ext.isIE){return function(e){var h=e.getKey(),k=this.getDoc(),i;if(h==e.TAB){e.stopEvent();i=k.selection.createRange();if(i){i.collapse(true);i.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}else{if(h==e.ENTER){i=k.selection.createRange();if(i){var j=i.parentElement();if(!j||j.tagName.toLowerCase()!="li"){e.stopEvent();i.pasteHTML("<br />");i.collapse(false);i.select()}}}}}}else{if(Ext.isOpera){return function(d){var c=d.getKey();if(c==d.TAB){d.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}}else{if(Ext.isWebKit){return function(d){var c=d.getKey();if(c==d.TAB){d.stopEvent();this.execCmd("InsertText","\t");this.deferFocus()}else{if(c==d.ENTER){d.stopEvent();this.execCmd("InsertHtml","<br /><br />");this.deferFocus()}}}}}}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true)}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true)}if(!this.store){this.generateStore(true)}Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(d,c){this.setLimit(d,true,c);return this},setMaxValue:function(d,c){this.setLimit(d,false,c);return this},generateStore:function(g){var h=this.minValue||new Date(this.initDate).clearTime(),e=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),i=[];while(h<=e){i.push(h.dateFormat(this.format));h=h.add("mi",this.increment)}this.bindStore(i,g)},setLimit:function(i,d,h){var k;if(Ext.isString(i)){k=this.parseDate(i)}else{if(Ext.isDate(i)){k=i}}if(k){var j=new Date(this.initDate).clearTime();j.setHours(k.getHours(),k.getMinutes(),k.getSeconds(),k.getMilliseconds());this[d?"minValue":"maxValue"]=j;if(!h){this.generateStore()}}},getValue:function(){var b=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(b))||""},setValue:function(b){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(b)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(i){if(!i||Ext.isDate(i)){return i}var k=this.initDate+" ",q=this.initDateFormat+" ",m=Date.parseDate(k+i,q+this.format),n=this.altFormats;if(!m&&n){if(!this.altFormatsArray){this.altFormatsArray=n.split("|")}for(var p=0,o=this.altFormatsArray,l=o.length;p<l&&!m;p++){m=Date.parseDate(k+i,q+o[p])}}return m}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var d=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);if(this.useTips){var c=this.tipText?{getText:this.tipText}:{};d.plugins=[new Ext.slider.Tip(c)]}this.slider=new Ext.Slider(d);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(d,c){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,d,c);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.resizeEl=this.positionEl=this.wrap;this.slider.render(this.wrap)},onResize:function(g,h,i,e){Ext.form.SliderField.superclass.onResize.call(this,g,h,i,e);this.slider.setSize(g,h)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(d,c){this.setValue(c,undefined,true)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(b){this.slider.setMinValue(b);return this},setMaxValue:function(b){this.slider.setMaxValue(b);return this},setValue:function(g,e,d){if(!d){this.slider.setValue(g,e)}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(d,c){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,d,c)},setText:function(d,e){var g=e===false;this[!g?"text":"html"]=d;delete this[g?"text":"html"];if(this.rendered){this.el.dom.innerHTML=e!==false?Ext.util.Format.htmlEncode(d):d}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(d,c){this.form=d;this.options=c||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(b){},success:function(b){},handleResponse:function(b){},failure:function(b){this.response=b;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(b){this.response=b;if(!b.responseText&&!b.responseXML){return true}this.result=this.handleResponse(b);return this.result},decodeResponse:function(c){try{return Ext.decode(c.responseText)}catch(d){return false}},getUrl:function(g){var d=this.options.url||this.form.url||this.form.el.dom.action;if(g){var e=this.getParams();if(e){d=Ext.urlAppend(d,e)}}return d},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var c=this.form.baseParams;var d=this.options.params;if(d){if(typeof d=="object"){d=Ext.urlEncode(Ext.applyIf(d,c))}else{if(typeof d=="string"&&c){d+="&"+Ext.urlEncode(c)}}}else{if(c){d=Ext.urlEncode(c)}}return d},createCallback:function(b){var b=b||{};return{success:this.success,failure:this.failure,scope:this,timeout:(b.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(d,c){Ext.form.Action.Submit.superclass.constructor.call(this,d,c)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var l=this.options,m=this.getMethod(),k=m=="GET";if(l.clientValidation===false||this.form.isValid()){if(l.submitEmptyText===false){var h=this.form.items,j=[],i=function(a){if(a.el.getValue()==a.emptyText){j.push(a);a.el.dom.value=""}if(a.isComposite&&a.rendered){a.items.each(i)}};h.each(i)}Ext.Ajax.request(Ext.apply(this.createCallback(l),{form:this.form.el.dom,url:this.getUrl(k),method:m,headers:l.headers,params:!k?this.getParams():null,isUpload:this.form.fileUpload}));if(l.submitEmptyText===false){Ext.each(j,function(a){if(a.applyEmptyText){a.applyEmptyText()}})}}else{if(l.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(d){var c=this.processResponse(d);if(c===true||c.success){this.form.afterAction(this,true);return}if(c.errors){this.form.markInvalid(c.errors)}this.failureType=Ext.form.Action.SERVER_INVALID;this.form.afterAction(this,false)},handleResponse:function(j){if(this.form.errorReader){var i=this.form.errorReader.read(j);var m=[];if(i.records){for(var k=0,h=i.records.length;k<h;k++){var l=i.records[k];m[k]=l.data}}if(m.length<1){m=null}return{success:i.success,errors:m}}return this.decodeResponse(j)}});Ext.form.Action.Load=function(d,c){Ext.form.Action.Load.superclass.constructor.call(this,d,c);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(d){var c=this.processResponse(d);if(c===true||!c.success||!c.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return}this.form.clearInvalid();this.form.setValues(c.data);this.form.afterAction(this,true)},handleResponse:function(e){if(this.form.reader){var d=this.form.reader.read(e);var g=d.records&&d.records[0]?d.records[0].data:null;return{success:d.success,data:g}}return this.decodeResponse(e)}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(d,c){Ext.form.Action.DirectLoad.superclass.constructor.call(this,d,c)},type:"directload",run:function(){var b=this.getParams();b.push(this.success,this);this.form.api.load.apply(window,b)},getParams:function(){var l=[],i={};var n=this.form.baseParams;var o=this.options.params;Ext.apply(i,o,n);var k=this.form.paramOrder;if(k){for(var m=0,j=k.length;m<j;m++){l.push(i[k[m]])}}else{if(this.form.paramsAsHash){l.push(i)}}return l},processResponse:function(b){this.result=b;return b},success:function(c,d){if(d.type==Ext.Direct.exceptions.SERVER){c={}}Ext.form.Action.DirectLoad.superclass.success.call(this,c)}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(d,c){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,d,c)},type:"directsubmit",run:function(){var b=this.options;if(b.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this)}else{if(b.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},getParams:function(){var g={};var d=this.form.baseParams;var e=this.options.params;Ext.apply(g,e,d);return g},processResponse:function(b){this.result=b;return b},success:function(c,d){if(d.type==Ext.Direct.exceptions.SERVER){c={}}Ext.form.Action.DirectSubmit.superclass.success.call(this,c)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var h=/^[a-zA-Z_]+$/,i=/^[a-zA-Z0-9_]+$/,g=/^(\w+)([\-+.\'][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,e=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(a){return g.test(a)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-\+\'@]/i,url:function(a){return e.test(a)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(a){return h.test(a)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(a){return i.test(a)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:false,autoExpandMax:1000,autoExpandMin:50,columnLines:false,ddText:"{0} selected row{1}",deferRowRender:true,enableColumnHide:true,enableColumnMove:true,enableDragDrop:false,enableHdMenu:true,loadMask:false,minColumnWidth:25,stripeRows:false,trackMouseOver:true,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:false,viewReady:false,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines"}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns}if(this.ds){this.store=this.ds;delete this.ds}if(this.cm){this.colModel=this.cm;delete this.cm}if(this.sm){this.selModel=this.sm;delete this.sm}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready")},onRender:function(h,c){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var i=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(i,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(i,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);var g=this.getView();g.init(this);g.render();this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask))}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(q){var n=this.colModel,u=q.columns,i=this.store,p,c,o;if(u){for(var s=0,t=u.length;s<t;s++){p=u[s];c=n.getColumnById(p.id);if(c){o=n.getIndexById(p.id);n.setState(o,{hidden:p.hidden,width:p.width,sortable:p.sortable});if(o!=s){n.moveColumn(o,s)}}}}if(i){p=q.sort;if(p){i[i.remoteSort?"setDefaultSort":"sort"](p.field,p.direction)}p=q.group;if(i.groupBy){if(p){i.groupBy(p)}else{i.clearGrouping()}}}var r=Ext.apply({},q);delete r.columns;delete r.sort;Ext.grid.GridPanel.superclass.applyState.call(this,r)},getState:function(){var m={columns:[]},j=this.store,l,i;for(var k=0,c;(c=this.colModel.config[k]);k++){m.columns[k]={id:c.id,width:c.width};if(c.hidden){m.columns[k].hidden=true}if(c.sortable){m.columns[k].sortable=true}}if(j){l=j.getSortState();if(l){m.sort=l}if(j.getGroupState){i=j.getGroupState();if(i){m.group=i}}}return m},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);var b=this.view;this.on("bodyresize",b.layout,b);b.layout(true);if(this.deferRowRender){if(!this.deferRowRenderTask){this.deferRowRenderTask=new Ext.util.DelayedTask(b.afterRender,this.view)}this.deferRowRenderTask.delay(10)}else{b.afterRender()}this.viewReady=true},reconfigure:function(d,e){var g=this.rendered;if(g){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:d},this.initialConfig.loadMask))}}if(this.view){this.view.initData(d,e)}this.store=d;this.colModel=e;if(g){this.view.refresh(true)}this.fireEvent("reconfigure",this,d,e)},onDestroy:function(){if(this.deferRowRenderTask&&this.deferRowRenderTask.cancel){this.deferRowRenderTask.cancel()}if(this.rendered){Ext.destroy(this.view,this.loadMask)}else{if(this.store&&this.store.autoDestroy){this.store.destroy()}}Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(c,d){this.view.processEvent(c,d)},onClick:function(b){this.processEvent("click",b)},onMouseDown:function(b){this.processEvent("mousedown",b)},onContextMenu:function(d,c){this.processEvent("contextmenu",d)},onDblClick:function(b){this.processEvent("dblclick",b)},walkCells:function(o,r,q,t,n){var m=this.colModel,u=m.getColumnCount(),p=this.store,l=p.getCount(),s=true;if(q<0){if(r<0){o--;s=false}while(o>=0){if(!s){r=u-1}s=false;while(r>=0){if(t.call(n||this,o,r,m)===true){return[o,r]}r--}o--}}else{if(r>=u){o++;s=false}while(o<l){if(!s){r=0}s=false;while(r<u){if(t.call(n||this,o,r,m)===true){return[o,r]}r++}o++}}return null},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)}return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig)}return this.view},getDragDropText:function(){var b=this.selModel.getCount();return String.format(this.ddText,b,b==1?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.PivotGrid=Ext.extend(Ext.grid.GridPanel,{aggregator:"sum",renderer:undefined,initComponent:function(){Ext.grid.PivotGrid.superclass.initComponent.apply(this,arguments);this.initAxes();this.enableColumnResize=false;this.viewConfig=Ext.apply(this.viewConfig||{},{forceFit:true});this.colModel=new Ext.grid.ColumnModel({})},getAggregator:function(){if(typeof this.aggregator=="string"){return Ext.grid.PivotAggregatorMgr.types[this.aggregator]}else{return this.aggregator}},setAggregator:function(b){this.aggregator=b},setMeasure:function(b){this.measure=b},setLeftAxis:function(d,c){this.leftAxis=d;if(c){this.view.refresh()}},setTopAxis:function(d,c){this.topAxis=d;if(c){this.view.refresh()}},initAxes:function(){var b=Ext.grid.PivotAxis;if(!(this.leftAxis instanceof b)){this.setLeftAxis(new b({orientation:"vertical",dimensions:this.leftAxis||[],store:this.store}))}if(!(this.topAxis instanceof b)){this.setTopAxis(new b({orientation:"horizontal",dimensions:this.topAxis||[],store:this.store}))}},extractData:function(){var B=this.store.data.items,t=B.length,j=[],u,E,D,C;if(t==0){return[]}var v=this.leftAxis.getTuples(),y=v.length,w=this.topAxis.getTuples(),z=w.length,A=this.getAggregator();for(E=0;E<t;E++){u=B[E];for(D=0;D<y;D++){j[D]=j[D]||[];if(v[D].matcher(u)===true){for(C=0;C<z;C++){j[D][C]=j[D][C]||[];if(w[C].matcher(u)){j[D][C].push(u)}}}}}var x=j.length,i,k;for(E=0;E<x;E++){k=j[E];i=k.length;for(D=0;D<i;D++){j[E][D]=A(j[E][D],this.measure)}}return j},getView:function(){if(!this.view){this.view=new Ext.grid.PivotGridView(this.viewConfig)}return this.view}});Ext.reg("pivotgrid",Ext.grid.PivotGrid);Ext.grid.PivotAggregatorMgr=new Ext.AbstractManager();Ext.grid.PivotAggregatorMgr.registerType("sum",function(g,i){var k=g.length,j=0,h;for(h=0;h<k;h++){j+=g[h].get(i)}return j});Ext.grid.PivotAggregatorMgr.registerType("avg",function(g,i){var k=g.length,j=0,h;for(h=0;h<k;h++){j+=g[h].get(i)}return(j/k)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("min",function(g,i){var k=[],j=g.length,h;for(h=0;h<j;h++){k.push(g[h].get(i))}return Math.min.apply(this,k)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("max",function(g,i){var k=[],j=g.length,h;for(h=0;h<j;h++){k.push(g[h].get(i))}return Math.max.apply(this,k)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("count",function(c,d){return c.length});Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:true,scrollOffset:undefined,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,headerMenuOpenCls:"x-grid3-hd-menu-open",rowOverCls:"x-grid3-row-over",constructor:function(b){Ext.apply(this,b);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)},masterTpl:new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}">{header}</div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),headerTpl:new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<thead>",'<tr class="x-grid3-hd-row">{cells}</tr>',"</thead>","</table>"),bodyTpl:new Ext.Template("{rows}"),cellTpl:new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>"),initTemplates:function(){var j=this.templates||{},k,i,m=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}">','<div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}",'<img alt="" class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div>","</td>"),h=['<tr class="x-grid3-row-body-tr" style="{bodyStyle}">','<td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on">','<div class="x-grid3-row-body">{body}</div>',"</td>","</tr>"].join(""),l=['<table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody>","<tr>{cells}</tr>",this.enableRowBody?h:"","</tbody>","</table>"].join("");Ext.applyIf(j,{hcell:m,cell:this.cellTpl,body:this.bodyTpl,header:this.headerTpl,master:this.masterTpl,row:new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}">'+l+"</div>"),rowInner:new Ext.Template(l)});for(i in j){k=j[i];if(k&&Ext.isFunction(k.compile)&&!k.compiled){k.disableFormats=true;k.compile()}}this.templates=j;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(b){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body)}this._flyweight.dom=b;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var h=Ext.Element,j=Ext.get(this.grid.getGridEl().dom.firstChild),k=new h(j.child("div.x-grid3-viewport")),i=new h(k.child("div.x-grid3-header")),g=new h(k.child("div.x-grid3-scroller"));if(this.grid.hideHeaders){i.setDisplayed(false)}if(this.forceFit){g.setStyle("overflow-x","hidden")}Ext.apply(this,{el:j,mainWrap:k,scroller:g,mainHd:i,innerHd:i.child("div.x-grid3-header-inner").dom,mainBody:new h(h.fly(g).child("div.x-grid3-body")),focusEl:new h(h.fly(g).child("a")),resizeMarker:new h(j.child("div.x-grid3-resize-marker")),resizeProxy:new h(j.child("div.x-grid3-resize-proxy"))});this.focusEl.swallowEvent("click",true)},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(b){if(!b){return false}return this.fly(b).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(i,h){var g=this.findCell(i),e;if(g){e=this.fly(g).hasClass(h);if(!h||e){return this.getCellIndex(g)}}return false},getCellIndex:function(d){if(d){var c=d.className.match(this.colRe);if(c&&c[1]){return this.cm.getIndexById(c[1])}}return false},findHeaderCell:function(d){var c=this.findCell(d);return c&&this.fly(c).hasClass(this.hdCls)?c:null},findHeaderIndex:function(b){return this.findCellIndex(b,this.hdCls)},findRow:function(b){if(!b){return false}return this.fly(b).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(c){var d=this.findRow(c);return d?d.rowIndex:false},findRowBody:function(b){if(!b){return false}return this.fly(b).findParent(this.rowBodySelector,this.rowBodySelectorDepth)},getRow:function(b){return this.getRows()[b]},getCell:function(d,c){return Ext.fly(this.getRow(d)).query(this.cellSelector)[c]},getHeaderCell:function(b){return this.mainHd.dom.getElementsByTagName("td")[b]},addRowClass:function(e,d){var g=this.getRow(e);if(g){this.fly(g).addClass(d)}},removeRowClass:function(g,d){var e=this.getRow(g);if(e){this.fly(e).removeClass(d)}},removeRow:function(b){Ext.removeNode(this.getRow(b));this.syncFocusEl(b)},removeRows:function(h,e){var g=this.mainBody.dom,i;for(i=h;i<=e;i++){Ext.removeNode(g.childNodes[h])}this.syncFocusEl(h)},getScrollState:function(){var b=this.scroller.dom;return{left:b.scrollLeft,top:b.scrollTop}},restoreScroll:function(c){var d=this.scroller.dom;d.scrollLeft=c.left;d.scrollTop=c.top},scrollToTop:function(){var b=this.scroller.dom;b.scrollTop=0;b.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var b=this.scroller.dom;this.grid.fireEvent("bodyscroll",b.scrollLeft,b.scrollTop)},syncHeaderScroll:function(){var c=this.innerHd,d=this.scroller.dom.scrollLeft;c.scrollLeft=d;c.scrollLeft=d},updateSortIcon:function(j,i){var g=this.sortClasses,h=g[i=="DESC"?1:0],k=this.mainHd.select("td").removeClass(g);k.item(j).addClass(h)},updateAllColumnWidths:function(){var t=this.getTotalWidth(),j=this.cm.getColumnCount(),o=this.getRows(),u=o.length,q=[],n,p,i,s,r;for(s=0;s<j;s++){q[s]=this.getColumnWidth(s);this.getHeaderCell(s).style.width=q[s]}this.updateHeaderWidth();for(s=0;s<u;s++){n=o[s];n.style.width=t;p=n.firstChild;if(p){p.style.width=t;i=p.rows[0];for(r=0;r<j;r++){i.childNodes[r].style.width=q[r]}}}this.onAllColumnWidthsUpdated(q,t)},updateColumnWidth:function(s,q){var r=this.getColumnWidth(s),m=this.getTotalWidth(),i=this.getHeaderCell(s),p=this.getRows(),t=p.length,o,u,n;this.updateHeaderWidth();i.style.width=r;for(u=0;u<t;u++){o=p[u];n=o.firstChild;o.style.width=m;if(n){n.style.width=m;n.rows[0].childNodes[s].style.width=r}}this.onColumnWidthUpdated(s,r,m)},updateColumnHidden:function(q,m){var i=this.getTotalWidth(),n=m?"none":"",u=this.getHeaderCell(q),p=this.getRows(),s=p.length,o,r,t;this.updateHeaderWidth();u.style.display=n;for(t=0;t<s;t++){o=p[t];o.style.width=i;r=o.firstChild;if(r){r.style.width=i;r.rows[0].childNodes[q].style.display=n}}this.onColumnHiddenUpdated(q,m,i);delete this.lastViewWidth;this.layout()},doRender:function(Q,F,K,N,B,D){var H=this.templates,P=H.cell,j=H.row,M=B-1,O="width:"+this.getTotalWidth()+";",I=[],J=[],L={tstyle:O},A={},G=F.length,i,S,R,E,C,z;for(C=0;C<G;C++){R=F[C];J=[];z=C+N;for(E=0;E<B;E++){S=Q[E];A.id=S.id;A.css=E===0?"x-grid3-cell-first ":(E==M?"x-grid3-cell-last ":"");A.attr=A.cellAttr="";A.style=S.style;A.value=S.renderer.call(S.scope,R.data[S.name],A,R,z,E,K);if(Ext.isEmpty(A.value)){A.value="&#160;"}if(this.markDirty&&R.dirty&&typeof R.modified[S.name]!="undefined"){A.css+=" x-grid3-dirty-cell"}J[J.length]=P.apply(A)}i=[];if(D&&((z+1)%2===0)){i[0]="x-grid3-row-alt"}if(R.dirty){i[1]=" x-grid3-dirty-row"}L.cols=B;if(this.getRowClass){i[2]=this.getRowClass(R,z,L,K)}L.alt=i.join(" ");L.cells=J.join("");I[I.length]=j.apply(L)}return I.join("")},processRows:function(h,m){if(!this.ds||this.ds.getCount()<1){return}var k=this.getRows(),j=k.length,l,i;m=m||!this.grid.stripeRows;h=h||0;for(i=0;i<j;i++){l=k[i];if(l){l.rowIndex=i;if(!m){l.className=l.className.replace(this.rowClsRe," ");if((i+1)%2===0){l.className+=" x-grid3-row-alt"}}}}if(h===0){Ext.fly(k[0]).addClass(this.firstRowCls)}Ext.fly(k[j-1]).addClass(this.lastRowCls)},afterRender:function(){if(!this.ds||!this.cm){return}this.mainBody.dom.innerHTML=this.renderBody()||"&#160;";this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText()}this.grid.fireEvent("viewready",this.grid)},afterRenderUI:function(){var b=this.grid;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);if(b.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(b,this.mainHd.dom)}if(b.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(b,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(b,this.mainHd.dom)}if(b.enableHdMenu!==false){this.hmenu=new Ext.menu.Menu({id:b.id+"-hctx"});this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(b.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:b.id+"-hcols-menu"});this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:false,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(b.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut})}if(b.enableDragDrop||b.enableDrag){this.dragZone=new Ext.grid.GridDragZone(b,{ddGroup:b.ddGroup||"GridDD"})}this.updateHeaderSortState()},renderUI:function(){var b=this.templates;return b.master.apply({body:b.body.apply({rows:"&#160;"}),header:this.renderHeaders(),ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"})},processEvent:function(p,e){var l=e.getTarget(),o=this.grid,r=this.findHeaderIndex(l),n,m,q,s;o.fireEvent(p,e);if(r!==false){o.fireEvent("header"+p,o,r,e)}else{n=this.findRowIndex(l);if(n!==false){m=this.findCellIndex(l);if(m!==false){q=o.colModel.getColumnAt(m);if(o.fireEvent("cell"+p,o,n,m,e)!==false){if(!q||(q.processEvent&&(q.processEvent(p,e,o,n,m)!==false))){o.fireEvent("row"+p,o,n,e)}}}else{if(o.fireEvent("row"+p,o,n,e)!==false){(s=this.findRowBody(l))&&o.fireEvent("rowbody"+p,o,n,e)}}}else{o.fireEvent("container"+p,o,e)}}},layout:function(n){if(!this.mainBody){return}var p=this.grid,s=p.getGridEl(),r=s.getSize(true),m=r.width,q=r.height,l=this.scroller,u,t,o;if(m<20||q<20){return}if(p.autoHeight){u=l.dom.style;u.overflow="visible";if(Ext.isWebKit){u.position="static"}}else{this.el.setSize(m,q);t=this.mainHd.getHeight();o=q-t;l.setSize(m,o);if(this.innerHd){this.innerHd.style.width=(m)+"px"}}if(this.forceFit||(n===true&&this.autoFill)){if(this.lastViewWidth!=m){this.fitColumns(false,false);this.lastViewWidth=m}}else{this.autoExpand();this.syncHeaderScroll()}this.onLayout(m,o)},onLayout:function(c,d){},onColumnWidthUpdated:function(g,d,e){},onAllColumnWidthsUpdated:function(c,d){},onColumnHiddenUpdated:function(e,g,d){},updateColumnText:function(c,d){},afterMove:function(b){},init:function(b){this.grid=b;this.initTemplates();this.initData(b.store,b.colModel);this.initUI(b)},getColumnId:function(b){return this.cm.getColumnId(b)},getOffsetWidth:function(){return(this.cm.getTotalWidth()+this.getScrollOffset())+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){var r=this.cm,s=this.templates,n=s.hcell,q={},i=r.getColumnCount(),l=i-1,m=[],p,o;for(p=0;p<i;p++){if(p==0){o="x-grid3-cell-first "}else{o=p==l?"x-grid3-cell-last ":""}q={id:r.getColumnId(p),value:r.getColumnHeader(p)||"",style:this.getColumnStyle(p,true),css:o,tooltip:this.getColumnTooltip(p)};if(r.config[p].align=="right"){q.istyle="padding-right: 16px;"}else{delete q.istyle}m[p]=n.apply(q)}return s.header.apply({cells:m.join(""),tstyle:String.format("width: {0};",this.getTotalWidth())})},getColumnTooltip:function(c){var d=this.cm.getColumnTooltip(c);if(d){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+d+'"'}else{return'title="'+d+'"'}}return""},beforeUpdate:function(){this.grid.stopEditing(true)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.updateHeaderWidth(false)},updateHeaderWidth:function(g){var e=this.innerHd.firstChild,d=this.getTotalWidth();e.style.width=this.getOffsetWidth();e.firstChild.style.width=d;if(g!==false){this.mainBody.dom.style.width=d}},focusRow:function(b){this.focusCell(b,0,false)},focusCell:function(i,g,h){this.syncFocusEl(this.ensureVisible(i,g,h));var e=this.focusEl;if(Ext.isGecko){e.focus()}else{e.focus.defer(1,e)}},resolveCell:function(i,m,o){if(!Ext.isNumber(i)){i=i.rowIndex}if(!this.ds){return null}if(i<0||i>=this.ds.getCount()){return null}m=(m!==undefined?m:0);var l=this.getRow(i),k=this.cm,n=k.getColumnCount(),j;if(!(o===false&&m===0)){while(m<n&&k.isHidden(m)){m++}j=this.getCell(i,m)}return{row:l,cell:j}},getResolvedXY:function(e){if(!e){return null}var d=e.cell,g=e.row;if(d){return Ext.fly(d).getXY()}else{return[this.el.getX(),Ext.fly(g).getY()]}},syncFocusEl:function(i,e,h){var g=i;if(!Ext.isArray(g)){i=Math.min(i,Math.max(0,this.getRows().length-1));if(isNaN(i)){return}g=this.getResolvedXY(this.resolveCell(i,e,h))}this.focusEl.setXY(g||this.scroller.getXY())},ensureVisible:function(v,I,H){var p=this.resolveCell(v,I,H);if(!p||!p.row){return null}var z=p.row,w=p.cell,C=this.scroller.dom,G=z,u=0,D=this.el.dom;while(G&&G!=D){u+=G.offsetTop;G=G.offsetParent}u-=this.mainHd.dom.offsetHeight;D=parseInt(C.scrollTop,10);var c=u+z.offsetHeight,E=C.clientHeight,B=D+E;if(u<D){C.scrollTop=u}else{if(c>B){C.scrollTop=c-E}}if(H!==false){var A=parseInt(w.offsetLeft,10),y=A+w.offsetWidth,x=parseInt(C.scrollLeft,10),F=x+C.clientWidth;if(A<x){C.scrollLeft=A}else{if(y>F){C.scrollLeft=y-C.clientWidth}}}return this.getResolvedXY(p)},insertRows:function(l,k,p,j){var o=l.getCount()-1;if(!j&&k===0&&p>=o){this.fireEvent("beforerowsinserted",this,k,p);this.refresh();this.fireEvent("rowsinserted",this,k,p)}else{if(!j){this.fireEvent("beforerowsinserted",this,k,p)}var m=this.renderRows(k,p),q=this.getRow(k);if(q){if(k===0){Ext.fly(this.getRow(0)).removeClass(this.firstRowCls)}Ext.DomHelper.insertHtml("beforeBegin",q,m)}else{var n=this.getRow(o-1);if(n){Ext.fly(n).removeClass(this.lastRowCls)}Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,m)}if(!j){this.processRows(k);this.fireEvent("rowsinserted",this,k,p)}else{if(k===0||k>=o){Ext.fly(this.getRow(k)).addClass(k===0?this.firstRowCls:this.lastRowCls)}}}this.syncFocusEl(k)},deleteRows:function(d,g,e){if(d.getRowCount()<1){this.refresh()}else{this.fireEvent("beforerowsdeleted",this,g,e);this.removeRows(g,e);this.processRows(g);this.fireEvent("rowsdeleted",this,g,e)}},getColumnStyle:function(i,k){var h=this.cm,m=h.config,j=k?"":m[i].css||"",l=m[i].align;j+=String.format("width: {0};",this.getColumnWidth(i));if(h.isHidden(i)){j+="display: none; "}if(l){j+=String.format("text-align: {0};",l)}return j},getColumnWidth:function(e){var g=this.cm.getColumnWidth(e),d=this.borderWidth;if(Ext.isNumber(g)){if(Ext.isBorderBox||(Ext.isWebKit&&!Ext.isSafari2)){return g+"px"}else{return Math.max(g-d,0)+"px"}}else{return g}},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(M,B,A){var H=this.grid,D=this.cm,x=D.getTotalWidth(false),v=this.getGridInnerWidth(),w=v-x,J=[],G=0,F=0,z,K,i;if(v<20||w===0){return false}var L=D.getColumnCount(true),E=D.getColumnCount(false),I=L-(Ext.isNumber(A)?1:0);if(I===0){I=1;A=undefined}for(i=0;i<E;i++){if(!D.isFixed(i)&&i!==A){z=D.getColumnWidth(i);J.push(i,z);if(!D.isHidden(i)){G=i;F+=z}}}K=(v-D.getTotalWidth())/F;while(J.length){z=J.pop();i=J.pop();D.setColumnWidth(i,Math.max(H.minColumnWidth,Math.floor(z+z*K)),true)}x=D.getTotalWidth(false);if(x>v){var y=(I==L)?G:A,C=Math.max(1,D.getColumnWidth(y)-(x-v));D.setColumnWidth(y,C,true)}if(M!==true){this.updateAllColumnWidths()}return true},autoExpand:function(o){var p=this.grid,m=this.cm,t=this.getGridInnerWidth(),r=m.getTotalWidth(false),u=p.autoExpandColumn;if(!this.userResized&&u){if(t!=r){var n=m.getIndexById(u),q=m.getColumnWidth(n),l=t-r+q,s=Math.min(Math.max(l,p.autoExpandMin),p.autoExpandMax);if(q!=s){m.setColumnWidth(n,s,true);if(o!==true){this.updateColumnWidth(n,s)}}}}},getGridInnerWidth:function(){return this.grid.getGridEl().getWidth(true)-this.getScrollOffset()},getColumnData:function(){var l=[],j=this.cm,m=j.getColumnCount(),h=this.ds.fields,k,i;for(k=0;k<m;k++){i=j.getDataIndex(k);l[k]={name:Ext.isDefined(i)?i:(h.get(k)?h.get(k).name:undefined),renderer:j.getRenderer(k),scope:j.getRendererScope(k),id:j.getColumnId(k),style:this.getColumnStyle(k)}}return l},renderRows:function(l,p){var n=this.grid,s=n.store,m=n.stripeRows,r=n.colModel,k=r.getColumnCount(),q=s.getCount(),o;if(q<1){return""}l=l||0;p=Ext.isDefined(p)?p:q-1;o=s.getRange(l,p);return this.doRender(this.getColumnData(),o,s,l,k,m)},renderBody:function(){var b=this.renderRows()||"&#160;";return this.templates.body.apply({rows:b})},refreshRow:function(E){var v=this.ds,w=this.cm.getColumnCount(),B=this.getColumnData(),x=w-1,i=["x-grid3-row"],D={tstyle:String.format("width: {0};",this.getTotalWidth())},z=[],u=this.templates.cell,t,r,A,y,s,C;if(Ext.isNumber(E)){t=E;E=v.getAt(t)}else{t=v.indexOf(E)}if(!E||t<0){return}for(C=0;C<w;C++){A=B[C];if(C==0){s="x-grid3-cell-first"}else{s=(C==x)?"x-grid3-cell-last ":""}y={id:A.id,style:A.style,css:s,attr:"",cellAttr:""};y.value=A.renderer.call(A.scope,E.data[A.name],y,E,t,C,v);if(Ext.isEmpty(y.value)){y.value="&#160;"}if(this.markDirty&&E.dirty&&typeof E.modified[A.name]!="undefined"){y.css+=" x-grid3-dirty-cell"}z[C]=u.apply(y)}r=this.getRow(t);r.className="";if(this.grid.stripeRows&&((t+1)%2===0)){i.push("x-grid3-row-alt")}if(this.getRowClass){D.cols=w;i.push(this.getRowClass(E,t,D,v))}this.fly(r).addClass(i).setStyle(D.tstyle);D.cells=z.join("");r.innerHTML=this.templates.rowInner.apply(D);this.fireEvent("rowupdated",this,t,E)},refresh:function(d){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var c=this.renderBody();this.mainBody.update(c).setWidth(this.getTotalWidth());if(d===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")}},updateHeaderSortState:function(){var e=this.ds.getSortState();if(!e){return}if(!this.sortState||(this.sortState.field!=e.field||this.sortState.direction!=e.direction)){this.grid.fireEvent("sortchange",this.grid,e)}this.sortState=e;var g=this.cm.findColumnIndex(e.field);if(g!=-1){var d=e.direction;this.updateSortIcon(g,d)}},clearHeaderSortState:function(){if(!this.sortState){return}this.grid.fireEvent("sortchange",this.grid,null);this.mainHd.select("td").removeClass(this.sortClasses);delete this.sortState},destroy:function(){var n=this,p=n.grid,s=p.getGridEl(),m=n.dragZone,u=n.splitZone,l=n.columnDrag,t=n.columnDrop,o=n.scrollToTopTask,r,q;if(o&&o.cancel){o.cancel()}Ext.destroyMembers(n,"colMenu","hmenu");n.initData(null,null);n.purgeListeners();Ext.fly(n.innerHd).un("click",n.handleHdDown,n);if(p.enableColumnMove){r=l.dragData;q=l.proxy;Ext.destroy(l.el,q.ghost,q.el,t.el,t.proxyTop,t.proxyBottom,r.ddel,r.header);if(q.anim){Ext.destroy(q.anim)}delete q.ghost;delete r.ddel;delete r.header;l.destroy();delete Ext.dd.DDM.locationCache[l.id];delete l._domRef;delete t.proxyTop;delete t.proxyBottom;t.destroy();delete Ext.dd.DDM.locationCache["gridHeader"+s.id];delete t._domRef;delete Ext.dd.DDM.ids[t.ddGroup]}if(u){u.destroy();delete u._domRef;delete Ext.dd.DDM.ids["gridSplitters"+s.id]}Ext.fly(n.innerHd).removeAllListeners();Ext.removeNode(n.innerHd);delete n.innerHd;Ext.destroy(n.el,n.mainWrap,n.mainHd,n.scroller,n.mainBody,n.focusEl,n.resizeMarker,n.resizeProxy,n.activeHdBtn,n._flyweight,m,u);delete p.container;if(m){m.destroy()}Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[s.id];Ext.EventManager.removeResizeListener(n.onWindowResize,n)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var b=this.grid.ownerCt;if(b&&b.getLayout()){b.on("afterlayout",function(){this.fitColumns(true,true);this.updateHeaders();this.updateHeaderSortState()},this,{single:true})}}else{if(this.forceFit){this.fitColumns(true,false)}else{if(this.grid.autoExpandColumn){this.autoExpand(true)}}}this.grid.getGridEl().dom.innerHTML=this.renderUI();this.afterRenderUI()},initData:function(g,k){var h=this;if(h.ds){var j=h.ds;j.un("add",h.onAdd,h);j.un("load",h.onLoad,h);j.un("clear",h.onClear,h);j.un("remove",h.onRemove,h);j.un("update",h.onUpdate,h);j.un("datachanged",h.onDataChange,h);if(j!==g&&j.autoDestroy){j.destroy()}}if(g){g.on({scope:h,load:h.onLoad,add:h.onAdd,remove:h.onRemove,update:h.onUpdate,clear:h.onClear,datachanged:h.onDataChange})}if(h.cm){var i=h.cm;i.un("configchange",h.onColConfigChange,h);i.un("widthchange",h.onColWidthChange,h);i.un("headerchange",h.onHeaderChange,h);i.un("hiddenchange",h.onHiddenChange,h);i.un("columnmoved",h.onColumnMove,h)}if(k){delete h.lastViewWidth;k.on({scope:h,configchange:h.onColConfigChange,widthchange:h.onColWidthChange,headerchange:h.onHeaderChange,hiddenchange:h.onHiddenChange,columnmoved:h.onColumnMove})}h.ds=g;h.cm=k},onDataChange:function(){this.refresh(true);this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(d,c){this.refreshRow(c)},onAdd:function(e,d,g){this.insertRows(e,g,g+(d.length-1))},onRemove:function(g,e,h,i){if(i!==true){this.fireEvent("beforerowremoved",this,h,e)}this.removeRow(h);if(i!==true){this.processRows(h);this.applyEmptyText();this.fireEvent("rowremoved",this,h,e)}},onLoad:function(){if(Ext.isGecko){if(!this.scrollToTopTask){this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this)}this.scrollToTopTask.delay(1)}else{this.scrollToTop()}},onColWidthChange:function(d,e,g){this.updateColumnWidth(e,g)},onHeaderChange:function(d,e,g){this.updateHeaders()},onHiddenChange:function(d,e,g){this.updateColumnHidden(e,g)},onColumnMove:function(d,g,e){this.indexMap=null;this.refresh(true);this.restoreScroll(this.getScrollState());this.afterMove(e);this.grid.fireEvent("columnmove",g,e)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true)},initUI:function(b){b.on("headerclick",this.onHeaderClick,this)},initEvents:Ext.emptyFn,onHeaderClick:function(d,c){if(this.headersDisabled||!this.cm.isSortable(c)){return}d.stopEditing(true);d.store.sort(this.cm.getDataIndex(c))},onRowOver:function(e,d){var g=this.findRowIndex(d);if(g!==false){this.addRowClass(g,this.rowOverCls)}},onRowOut:function(e,d){var g=this.findRowIndex(d);if(g!==false&&!e.within(this.getRow(g),true)){this.removeRowClass(g,this.rowOverCls)}},onRowSelect:function(b){this.addRowClass(b,this.selectedRowClass)},onRowDeselect:function(b){this.removeRowClass(b,this.selectedRowClass)},onCellSelect:function(g,e){var d=this.getCell(g,e);if(d){this.fly(d).addClass("x-grid3-cell-selected")}},onCellDeselect:function(g,e){var d=this.getCell(g,e);if(d){this.fly(d).removeClass("x-grid3-cell-selected")}},handleWheel:function(b){b.stopPropagation()},onColumnSplitterMoved:function(c,d){this.userResized=true;this.grid.colModel.setColumnWidth(c,d,true);if(this.forceFit){this.fitColumns(true,false,c);this.updateAllColumnWidths()}else{this.updateColumnWidth(c,d);this.syncHeaderScroll()}this.grid.fireEvent("columnresize",c,d)},beforeColMenuShow:function(){var g=this.cm,i=g.getColumnCount(),e=this.colMenu,h;e.removeAll();for(h=0;h<i;h++){if(g.config[h].hideable!==false){e.add(new Ext.menu.CheckItem({text:g.getColumnHeader(h),itemId:"col-"+g.getColumnId(h),checked:!g.isHidden(h),disabled:g.config[h].hideable===false,hideOnClick:false}))}}},handleHdMenuClick:function(g){var d=this.ds,e=this.cm.getDataIndex(this.hdCtxIndex);switch(g.getItemId()){case"asc":d.sort(e,"ASC");break;case"desc":d.sort(e,"DESC");break;default:this.handleHdMenuClickDefault(g)}return true},handleHdMenuClickDefault:function(h){var g=this.cm,i=h.getItemId(),e=g.getIndexById(i.substr(4));if(e!=-1){if(h.checked&&g.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return}g.setHidden(e,h.checked)}},handleHdDown:function(l,m){if(Ext.fly(m).hasClass("x-grid3-hd-btn")){l.stopEvent();var n=this.cm,s=this.findHeaderCell(m),e=this.getCellIndex(s),r=n.isSortable(e),q=this.hmenu,p=q.items,o=this.headerMenuOpenCls;this.hdCtxIndex=e;Ext.fly(s).addClass(o);p.get("asc").setDisabled(!r);p.get("desc").setDisabled(!r);q.on("hide",function(){Ext.fly(s).removeClass(o)},this,{single:true});q.show(m,"tl-bl?")}},handleHdMove:function(t){var r=this.findHeaderCell(this.activeHdRef);if(r&&!this.headersDisabled){var u=this.splitHandleWidth||5,s=this.activeHdRegion,e=r.style,v=this.cm,x="",C=t.getPageX();if(this.grid.enableColumnResize!==false){var y=this.activeHdIndex,z=this.getPreviousVisible(y),w=v.isResizable(y),A=z&&v.isResizable(z),B=C-s.left<=u,q=s.right-C<=(!this.activeHdBtn?u:2);if(B&&A){x=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize"}else{if(q&&w){x=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize"}}}e.cursor=x}},getPreviousVisible:function(b){while(b>0){if(!this.cm.isHidden(b-1)){return b}b--}return undefined},handleHdOver:function(h,g){var i=this.findHeaderCell(g);if(i&&!this.headersDisabled){var e=this.fly(i);this.activeHdRef=g;this.activeHdIndex=this.getCellIndex(i);this.activeHdRegion=e.getRegion();if(!this.isMenuDisabled(this.activeHdIndex,e)){e.addClass("x-grid3-hd-over");this.activeHdBtn=e.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(i.firstChild.offsetHeight-1)+"px"}}}},handleHdOut:function(e,d){var g=this.findHeaderCell(d);if(g&&(!Ext.isIE||!e.within(g,true))){this.activeHdRef=null;this.fly(g).removeClass("x-grid3-hd-over");g.style.cursor=""}},isMenuDisabled:function(c,d){return this.cm.isMenuDisabled(c)},hasRows:function(){var b=this.mainBody.dom.firstChild;return b&&b.nodeType==1&&b.className!="x-grid-empty"},isHideableColumn:function(b){return !b.hidden},bind:function(c,d){this.initData(c,d)}});Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(c,d){this.grid=c;this.view=c.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,d,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5},b4StartDrag:function(g,k){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var j=this.view.mainWrap.getHeight();this.marker.setHeight(j);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(j);var h=this.cm.getColumnWidth(this.cellIndex),i=Math.max(h-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(i,1000);this.setYConstraint(0,0);this.minX=g-i;this.maxX=g+1000;this.startPos=g;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,g,k)},allowHeaderDrag:function(b){return true},handleMouseDown:function(o){var e=this.view.findHeaderCell(o.getTarget());if(e&&this.allowHeaderDrag(o)){var n=this.view.fly(e).getXY(),q=n[0],l=o.getXY(),p=l[0],s=e.offsetWidth,r=false;if((p-q)<=this.hw){r=-1}else{if((q+s)-p<=this.hw){r=0}}if(r!==false){this.cm=this.grid.colModel;var m=this.view.getCellIndex(e);if(r==-1){if(m+r<0){return}while(this.cm.isHidden(m+r)){--r;if(m+r<0){return}}}this.cellIndex=m+r;this.split=e.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(o)}}}},endDrag:function(e){this.marker.hide();var h=this.view,j=Math.max(this.minX,e.getPageX()),k=j-this.startPos,i=this.dragHeadersDisabled;h.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+k);setTimeout(function(){h.headersDisabled=i},50)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.PivotGridView=Ext.extend(Ext.grid.GridView,{colHeaderCellCls:"grid-hd-group-cell",title:"",getColumnHeaders:function(){return this.grid.topAxis.buildHeaders()},getRowHeaders:function(){return this.grid.leftAxis.buildHeaders()},renderRows:function(L,B){var M=this.grid,K=M.extractData(),j=K.length,Q=this.templates,A=M.renderer,F=typeof A=="function",E=this.getCellCls,J=typeof E=="function",O=Q.cell,i=Q.row,G=[],y={},N="width:"+this.getGridInnerWidth()+"px;",H,z,P,D,I;L=L||0;B=Ext.isDefined(B)?B:j-1;for(D=0;D<j;D++){I=K[D];z=I.length;H=[];for(var C=0;C<z;C++){y.id=D+"-"+C;y.css=C===0?"x-grid3-cell-first ":(C==(z-1)?"x-grid3-cell-last ":"");y.attr=y.cellAttr="";y.value=I[C];if(Ext.isEmpty(y.value)){y.value="&#160;"}if(F){y.value=A(y.value)}if(J){y.css+=E(y.value)+" "}H[H.length]=O.apply(y)}G[G.length]=i.apply({tstyle:N,cols:z,cells:H.join(""),alt:""})}return G.join("")},masterTpl:new Ext.Template('<div class="x-grid3 x-pivotgrid" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-title"><span>{title}</span></div>','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}"></div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-row-headers"></div>','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),initTemplates:function(){Ext.grid.PivotGridView.superclass.initTemplates.apply(this,arguments);var b=this.templates||{};if(!b.gcell){b.gcell=new Ext.XTemplate('<td class="x-grid3-hd x-grid3-gcell x-grid3-td-{id} ux-grid-hd-group-row-{row} '+this.colHeaderCellCls+'" style="{style}">','<div {tooltip} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}","</div>","</td>")}this.templates=b;this.hrowRe=new RegExp("ux-grid-hd-group-row-(\\d+)","")},initElements:function(){Ext.grid.PivotGridView.superclass.initElements.apply(this,arguments);this.rowHeadersEl=new Ext.Element(this.scroller.child("div.x-grid3-row-headers"));this.headerTitleEl=new Ext.Element(this.mainHd.child("div.x-grid3-header-title"))},getGridInnerWidth:function(){var b=Ext.grid.PivotGridView.superclass.getGridInnerWidth.apply(this,arguments);return b-this.getTotalRowHeaderWidth()},getTotalRowHeaderWidth:function(){var i=this.getRowHeaders(),h=i.length,g=0,e;for(e=0;e<h;e++){g+=i[e].width}return g},getTotalColumnHeaderHeight:function(){return this.getColumnHeaders().length*21},getCellIndex:function(e){if(e){var d=e.className.match(this.colRe),g;if(d&&(g=d[1])){return parseInt(g.split("-")[1],10)}}return false},renderUI:function(){var d=this.templates,c=this.getGridInnerWidth();return d.master.apply({body:d.body.apply({rows:"&#160;"}),ostyle:"width:"+c+"px",bstyle:"width:"+c+"px"})},onLayout:function(d,c){Ext.grid.PivotGridView.superclass.onLayout.apply(this,arguments);var d=this.getGridInnerWidth();this.resizeColumnHeaders(d);this.resizeAllRows(d)},refresh:function(d){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var c=this.renderBody();this.mainBody.update(c).setWidth(this.getGridInnerWidth());if(d===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},renderHeaders:Ext.emptyFn,fitColumns:Ext.emptyFn,resizeColumnHeaders:function(d){var c=this.grid.topAxis;if(c.rendered){c.el.setWidth(d)}},resizeRowHeaders:function(){var c=this.getTotalRowHeaderWidth(),d=String.format("margin-left: {0}px;",c);this.rowHeadersEl.setWidth(c);this.mainBody.applyStyles(d);Ext.fly(this.innerHd).applyStyles(d);this.headerTitleEl.setWidth(c);this.headerTitleEl.setHeight(this.getTotalColumnHeaderHeight())},resizeAllRows:function(g){var i=this.getRows(),h=i.length,e;for(e=0;e<h;e++){Ext.fly(i[e]).setWidth(g);Ext.fly(i[e]).child("table").setWidth(g)}},updateHeaders:function(){this.renderGroupRowHeaders();this.renderGroupColumnHeaders()},renderGroupRowHeaders:function(){var b=this.grid.leftAxis;this.resizeRowHeaders();b.rendered=false;b.render(this.rowHeadersEl);this.setTitle(this.title)},setTitle:function(b){this.headerTitleEl.child("span").dom.innerHTML=b},renderGroupColumnHeaders:function(){var b=this.grid.topAxis;b.rendered=false;b.render(this.innerHd.firstChild)},isMenuDisabled:function(c,d){return true}});Ext.grid.PivotAxis=Ext.extend(Ext.Component,{orientation:"horizontal",defaultHeaderWidth:80,paddingWidth:7,setDimensions:function(b){this.dimensions=b},onRender:function(e,d){var g=this.orientation=="horizontal"?this.renderHorizontalRows():this.renderVerticalRows();this.el=Ext.DomHelper.overwrite(e.dom,{tag:"table",cn:g},true)},renderHorizontalRows:function(){var j=this.buildHeaders(),l=j.length,q=[],n,i,p,o,m;for(o=0;o<l;o++){n=[];i=j[o].items;p=i.length;for(m=0;m<p;m++){n.push({tag:"td",html:i[m].header,colspan:i[m].span})}q[o]={tag:"tr",cn:n}}return q},renderVerticalRows:function(){var q=this.buildHeaders(),j=q.length,p=[],o=[],i,r,n,u,t,s;for(t=0;t<j;t++){r=q[t];u=r.width||80;i=r.items.length;for(s=0;s<i;s++){n=r.items[s];p[n.start]=p[n.start]||[];p[n.start].push({tag:"td",html:n.header,rowspan:n.span,width:Ext.isBorderBox?u:u-this.paddingWidth})}}i=p.length;for(t=0;t<i;t++){o[t]={tag:"tr",cn:p[t]}}return o},getTuples:function(){var w=new Ext.data.Store({});w.data=this.store.data.clone();w.fields=this.store.fields;var r=[],v=this.dimensions,x=v.length,p;for(p=0;p<x;p++){r.push({field:v[p].dataIndex,direction:v[p].direction||"ASC"})}w.sort(r);var z=w.data.items,t=[],q=[],u,i,y,A,s;x=z.length;for(p=0;p<x;p++){y=this.getRecordInfo(z[p]);A=y.data;i="";for(s in A){i+=A[s]+"---"}if(t.indexOf(i)==-1){t.push(i);q.push(y)}}w.destroy();return q},getRecordInfo:function(l){var p=this.dimensions,o=p.length,i={},k,n,m;for(m=0;m<o;m++){k=p[m];n=k.dataIndex;i[n]=l.get(n)}var q=function(a){return function(b){for(var c in a){if(b.get(c)!=a[c]){return false}}return true}};return{data:i,matcher:q(i)}},buildHeaders:function(){var x=this.getTuples(),y=x.length,B=this.dimensions,F,t=B.length,D=[],A,u,z,j,i,C,w,v,G,E;for(G=0;G<t;G++){F=B[G];u=[];i=0;C=0;for(E=0;E<y;E++){A=x[E];w=E==(y-1);z=A.data[F.dataIndex];v=j!=undefined&&j!=z;if(G>0&&E>0){v=v||A.data[B[G-1].dataIndex]!=x[E-1].data[B[G-1].dataIndex]}if(v){u.push({header:j,span:i,start:C});C+=i;i=0}if(w){u.push({header:z,span:i+1,start:C});C+=i;i=0}j=z;i++}D.push({items:u,width:F.width||this.defaultHeaderWidth});j=undefined}return D}});Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(d,g,e){this.grid=d;this.view=d.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,g);if(e){this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(e))}this.scroll=false},getDragData:function(g){var d=Ext.lib.Event.getTarget(g),e=this.view.findHeaderCell(d);if(e){return{ddel:e.firstChild,header:e}}return false},onInitDrag:function(c){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var d=this.dragData.ddel.cloneNode(true);d.id=Ext.id();d.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(d);return true},afterValidDrop:function(){this.completeDrop()},afterInvalidDrop:function(){this.completeDrop()},completeDrop:function(){var c=this.view,d=this.dragHeadersDisabled;setTimeout(function(){c.headersDisabled=d},50)}});Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(d,g,e){this.grid=d;this.view=d.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,d.getGridEl().dom)},getTargetFromEvent:function(g){var d=Ext.lib.Event.getTarget(g),e=this.view.findCellIndex(d);if(e!==false){return this.view.getHeaderCell(e)}},nextVisible:function(g){var e=this.view,d=this.grid.colModel;g=g.nextSibling;while(g){if(!d.isHidden(e.getCellIndex(g))){return g}g=g.nextSibling}return null},prevVisible:function(g){var e=this.view,d=this.grid.colModel;g=g.prevSibling;while(g){if(!d.isHidden(e.getCellIndex(g))){return g}g=g.prevSibling}return null},positionIndicator:function(p,l,h){var m=Ext.lib.Event.getPageX(h),q=Ext.lib.Dom.getRegion(l.firstChild),o,e,n=q.top+this.proxyOffsets[1];if((q.right-m)<=(q.right-q.left)/2){o=q.right+this.view.borderWidth;e="after"}else{o=q.left;e="before"}if(this.grid.colModel.isFixed(this.view.getCellIndex(l))){return false}o+=this.proxyOffsets[0];this.proxyTop.setLeftTop(o,n);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight()}this.proxyBottom.setLeftTop(o,n+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return e},onNodeEnter:function(i,e,h,g){if(g.header!=i){this.positionIndicator(g.header,i,h)}},onNodeOver:function(e,i,k,j){var h=false;if(j.header!=e){h=this.positionIndicator(j.header,e,k)}if(!h){this.proxyTop.hide();this.proxyBottom.hide()}return h?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(i,e,h,g){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(t,q,w,u){var v=u.header;if(v!=t){var n=this.grid.colModel,h=Ext.lib.Event.getPageX(w),s=Ext.lib.Dom.getRegion(t.firstChild),r=(s.right-h)<=((s.right-s.left)/2)?"after":"before",e=this.view.getCellIndex(v),p=this.view.getCellIndex(t);if(r=="after"){p++}if(e<p){p--}n.moveColumn(e,p);return true}return false}});Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(c,d){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,c,d,null);this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(b){},callHandleMouseDown:function(b){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,b)}});Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(d,g,e){this.grid=d;this.view=d.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,g,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(g));this.setOuterHandleElId(Ext.id(e));this.scroll=false},b4StartDrag:function(e,i){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var g=this.cm.getColumnWidth(this.cellIndex);var h=Math.max(g-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(h,1000);this.setYConstraint(0,0);this.minX=e-h;this.maxX=e+1000;this.startPos=e;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,e,i)},handleMouseDown:function(g){var e=Ext.EventObject.setEvent(g);var d=this.fly(e.getTarget());if(d.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(d.dom);this.split=d.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}},endDrag:function(g){this.view.headersDisabled=false;var d=Math.max(this.minX,Ext.lib.Event.getPageX(g));var e=d-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+e)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GridDragZone=function(d,c){this.view=d.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,c);this.scroll=false;this.grid=d;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(g){var e=Ext.lib.Event.getTarget(g);var i=this.view.findRowIndex(e);if(i!==false){var h=this.grid.selModel;if(!h.isSelected(i)||g.hasModifier()){h.handleMouseDown(this.grid,i,g)}return{grid:this.grid,ddel:this.ddel,rowIndex:i,selections:h.getSelections()}}return false},onInitDrag:function(d){var c=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(d,c){return false},onEndDrag:function(c,d){},onValidDrop:function(d,e,g){this.hideProxy()},beforeInvalidDrop:function(c,d){}});Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:false,constructor:function(b){if(b.columns){Ext.apply(this,b);this.setConfig(b.columns,true)}else{this.setConfig(b,true)}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(b){return this.config[b].id},getColumnAt:function(b){return this.config[b]},setConfig:function(k,j){var l,c,i;if(!j){delete this.totalWidth;for(l=0,i=this.config.length;l<i;l++){c=this.config[l];if(c.setEditor){c.setEditor(null)}}}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=k;this.lookup={};for(l=0,i=k.length;l<i;l++){c=Ext.applyIf(k[l],this.defaults);if(Ext.isEmpty(c.id)){c.id=l}if(!c.isColumn){var m=Ext.grid.Column.types[c.xtype||"gridcolumn"];c=new m(c);k[l]=c}this.lookup[c.id]=c}if(!j){this.fireEvent("configchange",this)}},getColumnById:function(b){return this.lookup[b]},getIndexById:function(g){for(var e=0,d=this.config.length;e<d;e++){if(this.config[e].id==g){return e}}return -1},moveColumn:function(i,g){var c=this.config,h=c[i];c.splice(i,1);c.splice(g,0,h);this.dataMap=null;this.fireEvent("columnmoved",this,i,g)},getColumnCount:function(g){var h=this.config.length,i=0,c;if(g===true){for(c=0;c<h;c++){if(!this.isHidden(c)){i++}}return i}return h},getColumnsBy:function(o,n){var l=this.config,c=l.length,k=[],m,i;for(m=0;m<c;m++){i=l[m];if(o.call(n||this,i,m)===true){k[k.length]=i}}return k},isSortable:function(b){return !!this.config[b].sortable},isMenuDisabled:function(b){return !!this.config[b].menuDisabled},getRenderer:function(b){return this.config[b].renderer||Ext.grid.ColumnModel.defaultRenderer},getRendererScope:function(b){return this.config[b].scope},setRenderer:function(c,d){this.config[c].renderer=d},getColumnWidth:function(c){var d=this.config[c].width;if(typeof d!="number"){d=this.defaultWidth}return d},setColumnWidth:function(e,g,d){this.config[e].width=g;this.totalWidth=null;if(!d){this.fireEvent("widthchange",this,e,g)}},getTotalWidth:function(e){if(!this.totalWidth){this.totalWidth=0;for(var g=0,d=this.config.length;g<d;g++){if(e||!this.isHidden(g)){this.totalWidth+=this.getColumnWidth(g)}}}return this.totalWidth},getColumnHeader:function(b){return this.config[b].header},setColumnHeader:function(c,d){this.config[c].header=d;this.fireEvent("headerchange",this,c,d)},getColumnTooltip:function(b){return this.config[b].tooltip},setColumnTooltip:function(c,d){this.config[c].tooltip=d},getDataIndex:function(b){return this.config[b].dataIndex},setDataIndex:function(c,d){this.config[c].dataIndex=d},findColumnIndex:function(h){var i=this.config;for(var g=0,c=i.length;g<c;g++){if(i[g].dataIndex==h){return g}}return -1},isCellEditable:function(g,i){var h=this.config[g],c=h.editable;return !!(c||(!Ext.isDefined(c)&&h.editor))},getCellEditor:function(c,d){return this.config[c].getCellEditor(d)},setEditable:function(c,d){this.config[c].editable=d},isHidden:function(b){return !!this.config[b].hidden},isFixed:function(b){return !!this.config[b].fixed},isResizable:function(b){return b>=0&&this.config[b].resizable!==false&&this.config[b].fixed!==true},setHidden:function(c,e){var g=this.config[c];if(g.hidden!==e){g.hidden=e;this.totalWidth=null;this.fireEvent("hiddenchange",this,c,e)}},setEditor:function(c,d){this.config[c].setEditor(d)},destroy:function(){var d=this.config.length,c=0;for(;c<d;c++){this.config[c].destroy()}delete this.config;delete this.lookup;this.purgeListeners()},setState:function(c,d){d=Ext.applyIf(d,this.defaults);Ext.apply(this.config[c],d)}});Ext.grid.ColumnModel.defaultRenderer=function(b){if(typeof b=="string"&&b.length<1){return"&#160;"}return b};Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(b){this.grid=b;if(this.lockOnInit){delete this.lockOnInit;this.locked=false;this.lock()}this.initEvents()},lock:function(){if(!this.locked){this.locked=true;var b=this.grid;if(b){b.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock})}else{this.lockOnInit=true}}},sortLock:function(){this.locked=true},sortUnLock:function(){this.locked=false},unlock:function(){if(this.locked){this.locked=false;var c=this.grid,d;if(c){d=c.getView();d.un("beforerefresh",this.sortUnLock,this);d.un("refresh",this.sortLock,this)}else{delete this.lockOnInit}}},isLocked:function(){return this.locked},destroy:function(){this.unlock();this.purgeListeners()}});Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:false,constructor:function(b){Ext.apply(this,b);this.selections=new Ext.util.MixedCollection(false,function(a){return a.id});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this)}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:this.onKeyPress,down:this.onKeyPress,scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onKeyPress:function(m,j){var i=j=="up",e=i?"selectPrevious":"selectNext",l=i?-1:1,k;if(!m.shiftKey||this.singleSelect){this[e](false)}else{if(this.last!==false&&this.lastActive!==false){k=this.last;this.selectRange(this.last,this.lastActive+l);this.grid.getView().focusRow(this.lastActive);if(k!==false){this.last=k}}else{this.selectFirstRow()}}},onRefresh:function(){var m=this.grid.store,k=this.getSelections(),j=0,h=k.length,i,l;this.silent=true;this.clearSelections(true);for(;j<h;j++){l=k[j];if((i=m.indexOfId(l.id))!=-1){this.selectRow(i,true)}}if(k.length!=this.selections.getCount()){this.fireEvent("selectionchange",this)}this.silent=false},onRemove:function(d,e,g){if(this.selections.remove(g)!==false){this.fireEvent("selectionchange",this)}},onRowUpdated:function(d,e,g){if(this.isSelected(g)){d.onRowSelect(e)}},selectRecords:function(h,k){if(!k){this.clearSelections()}var j=this.grid.store,i=0,g=h.length;for(;i<g;i++){this.selectRow(j.indexOf(h[i]),true)}},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(b){this.selectRow(this.grid.store.getCount()-1,b)},selectNext:function(b){if(this.hasNext()){this.selectRow(this.last+1,b);this.grid.getView().focusRow(this.last);return true}return false},selectPrevious:function(b){if(this.hasPrevious()){this.selectRow(this.last-1,b);this.grid.getView().focusRow(this.last);return true}return false},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount()},hasPrevious:function(){return !!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(k,j){var i=this.getSelections(),h=0,g=i.length;for(;h<g;h++){if(k.call(j||this,i[h],h)===false){return false}}return true},clearSelections:function(d){if(this.isLocked()){return}if(d!==true){var g=this.grid.store,e=this.selections;e.each(function(a){this.deselectRow(g.indexOfId(a.id))},this);e.clear()}else{this.selections.clear()}this.last=false},selectAll:function(){if(this.isLocked()){return}this.selections.clear();for(var d=0,c=this.grid.store.getCount();d<c;d++){this.selectRow(d,true)}},hasSelection:function(){return this.selections.length>0},isSelected:function(c){var d=Ext.isNumber(c)?this.grid.store.getAt(c):c;return(d&&this.selections.key(d.id)?true:false)},isIdSelected:function(b){return(this.selections.key(b)?true:false)},handleMouseDown:function(m,g,e){if(e.button!==0||this.isLocked()){return}var j=this.grid.getView();if(e.shiftKey&&!this.singleSelect&&this.last!==false){var l=this.last;this.selectRange(l,g,e.ctrlKey);this.last=l;j.focusRow(g)}else{var k=this.isSelected(g);if(e.ctrlKey&&k){this.deselectRow(g)}else{if(!k||this.getCount()>1){this.selectRow(g,e.ctrlKey||e.shiftKey);j.focusRow(g)}}}},selectRows:function(h,i){if(!i){this.clearSelections()}for(var g=0,e=h.length;g<e;g++){this.selectRow(h[g],true)}},selectRange:function(g,e,i){var h;if(this.isLocked()){return}if(!i){this.clearSelections()}if(g<=e){for(h=g;h<=e;h++){this.selectRow(h,true)}}else{for(h=g;h>=e;h--){this.selectRow(h,true)}}},deselectRange:function(h,g,e){if(this.isLocked()){return}for(var i=h;i<=g;i++){this.deselectRow(i,e)}},selectRow:function(g,i,e){if(this.isLocked()||(g<0||g>=this.grid.store.getCount())||(i&&this.isSelected(g))){return}var h=this.grid.store.getAt(g);if(h&&this.fireEvent("beforerowselect",this,g,i,h)!==false){if(!i||this.singleSelect){this.clearSelections()}this.selections.add(h);this.last=this.lastActive=g;if(!e){this.grid.getView().onRowSelect(g)}if(!this.silent){this.fireEvent("rowselect",this,g,h);this.fireEvent("selectionchange",this)}}},deselectRow:function(e,d){if(this.isLocked()){return}if(this.last==e){this.last=false}if(this.lastActive==e){this.lastActive=false}var g=this.grid.store.getAt(e);if(g){this.selections.remove(g);if(!d){this.grid.getView().onRowDeselect(e)}this.fireEvent("rowdeselect",this,e,g);this.fireEvent("selectionchange",this)}},acceptsNav:function(g,e,d){return !d.isHidden(e)&&d.isCellEditable(e,g)},onEditorKey:function(r,k){var v=k.getKey(),c,e=this.grid,t=e.lastEdit,g=e.activeEditor,u=k.shiftKey,s,t,w,q;if(v==k.TAB){k.stopEvent();g.completeEdit();if(u){c=e.walkCells(g.row,g.col-1,-1,this.acceptsNav,this)}else{c=e.walkCells(g.row,g.col+1,1,this.acceptsNav,this)}}else{if(v==k.ENTER){if(this.moveEditorOnEnter!==false){if(u){c=e.walkCells(t.row-1,t.col,-1,this.acceptsNav,this)}else{c=e.walkCells(t.row+1,t.col,1,this.acceptsNav,this)}}}}if(c){w=c[0];q=c[1];this.onEditorSelect(w,t.row);if(e.isEditor&&e.editing){s=e.activeEditor;if(s&&s.field.triggerBlur){s.field.triggerBlur()}}e.startEditing(w,q)}},onEditorSelect:function(d,c){if(c!=d){this.selectRow(d)}},destroy:function(){Ext.destroy(this.rowNav);this.rowNav=null;Ext.grid.RowSelectionModel.superclass.destroy.call(this)}});Ext.grid.Column=Ext.extend(Ext.util.Observable,{isColumn:true,constructor:function(d){Ext.apply(this,d);if(Ext.isString(this.renderer)){this.renderer=Ext.util.Format[this.renderer]}else{if(Ext.isObject(this.renderer)){this.scope=this.renderer.scope;this.renderer=this.renderer.fn}}if(!this.scope){this.scope=this}var c=this.editor;delete this.editor;this.setEditor(c);this.addEvents("click","contextmenu","dblclick","mousedown");Ext.grid.Column.superclass.constructor.call(this)},processEvent:function(i,k,j,e,h){return this.fireEvent(i,this,j,e,k)},destroy:function(){if(this.setEditor){this.setEditor(null)}this.purgeListeners()},renderer:function(b){return b},getEditor:function(b){return this.editable!==false?this.editor:null},setEditor:function(d){var c=this.editor;if(c){if(c.gridEditor){c.gridEditor.destroy();delete c.gridEditor}else{c.destroy()}}this.editor=null;if(d){if(!d.isXType){d=Ext.create(d,"textfield")}this.editor=d}},getCellEditor:function(d){var c=this.getEditor(d);if(c){if(!c.startEdit){if(!c.gridEditor){c.gridEditor=new Ext.grid.GridEditor(c)}c=c.gridEditor}}return c}});Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(e){Ext.grid.BooleanColumn.superclass.constructor.call(this,e);var h=this.trueText,i=this.falseText,g=this.undefinedText;this.renderer=function(a){if(a===undefined){return g}if(!a||a==="false"){return i}return h}}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(b){Ext.grid.NumberColumn.superclass.constructor.call(this,b);this.renderer=Ext.util.Format.numberRenderer(this.format)}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(b){Ext.grid.DateColumn.superclass.constructor.call(this,b);this.renderer=Ext.util.Format.dateRenderer(this.format)}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(c){Ext.grid.TemplateColumn.superclass.constructor.call(this,c);var d=(!Ext.isPrimitive(this.tpl)&&this.tpl.compile)?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(b,g,a){return d.apply(a.data)};this.tpl=d}});Ext.grid.ActionColumn=Ext.extend(Ext.grid.Column,{header:"&#160;",actionIdRe:/x-action-col-(\d+)/,altText:"",constructor:function(i){var m=this,j=i.items||(m.items=[m]),h=j.length,k,l;Ext.grid.ActionColumn.superclass.constructor.call(m,i);m.renderer=function(a,b){a=Ext.isFunction(i.renderer)?i.renderer.apply(this,arguments)||"":"";b.css+=" x-action-col-cell";for(k=0;k<h;k++){l=j[k];a+='<img alt="'+(l.altText||m.altText)+'" src="'+(l.icon||Ext.BLANK_IMAGE_URL)+'" class="x-action-col-icon x-action-col-'+String(k)+" "+(l.iconCls||"")+" "+(Ext.isFunction(l.getClass)?l.getClass.apply(l.scope||this.scope||this,arguments):"")+'"'+((l.tooltip)?' ext:qtip="'+l.tooltip+'"':"")+" />"}return a}},destroy:function(){delete this.items;delete this.renderer;return Ext.grid.ActionColumn.superclass.destroy.apply(this,arguments)},processEvent:function(o,k,p,l,n){var m=k.getTarget().className.match(this.actionIdRe),e,q;if(m&&(e=this.items[parseInt(m[1],10)])){if(o=="click"){(q=e.handler||this.handler)&&q.call(e.scope||this.scope||this,p,l,n,e,k)}else{if((o=="mousedown")&&(e.stopSelection!==false)){return false}}}return Ext.grid.ActionColumn.superclass.processEvent.apply(this,arguments)}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn,actioncolumn:Ext.grid.ActionColumn};Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:false,constructor:function(b){Ext.apply(this,b);if(this.rowspan){this.renderer=this.renderer.createDelegate(this)}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(g,h,e,i){if(this.rowspan){h.cellAttr='rowspan="'+this.rowspan+'"'}return i+1}});Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,hideable:false,dataIndex:"",id:"checker",isColumn:true,constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){Ext.fly(this.grid.getView().innerHd).on("mousedown",this.onHdMouseDown,this)},this)},processEvent:function(i,k,j,e,h){if(i=="mousedown"){this.onMouseDown(k,k.getTarget());return false}else{return Ext.grid.Column.prototype.processEvent.apply(this,arguments)}},onMouseDown:function(h,g){if(h.button===0&&g.className=="x-grid3-row-checker"){h.stopEvent();var i=h.getTarget(".x-grid3-row");if(i){var e=i.rowIndex;if(this.isSelected(e)){this.deselectRow(e)}else{this.selectRow(e,true);this.grid.getView().focusRow(e)}}}},onHdMouseDown:function(h,e){if(e.className=="x-grid3-hd-checker"){h.stopEvent();var g=Ext.fly(e.parentNode);var i=g.hasClass("x-grid3-hd-checker-on");if(i){g.removeClass("x-grid3-hd-checker-on");this.clearSelections()}else{g.addClass("x-grid3-hd-checker-on");this.selectAll()}}},renderer:function(e,g,d){return'<div class="x-grid3-row-checker">&#160;</div>'},onEditorSelect:function(d,c){if(c!=d&&!this.checkOnly){this.selectRow(d)}}});Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(b){Ext.apply(this,b);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.getKeyEvent(),this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this)}},beforeEdit:function(b){this.select(b.row,b.column,false,true,b.record)},onRowUpdated:function(d,e,g){if(this.selection&&this.selection.record==g){d.onCellSelect(e,this.selection.cell[1])}},onViewChange:function(){this.clearSelections(true)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(d){var c=this.selection;if(c){if(d!==true){this.grid.view.onCellDeselect(c.cell[0],c.cell[1])}this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?true:false},handleMouseDown:function(g,i,e,h){if(h.button!==0||this.isLocked()){return}this.select(i,e)},select:function(m,j,i,l,k){if(this.fireEvent("beforecellselect",this,m,j)!==false){this.clearSelections();k=k||this.grid.store.getAt(m);this.selection={record:k,cell:[m,j]};if(!i){var h=this.grid.getView();h.onCellSelect(m,j);if(l!==true){h.focusCell(m,j)}}this.fireEvent("cellselect",this,m,j);this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(g,e,d){return !d.isHidden(e)},onEditorKey:function(d,c){if(c.getKey()==c.TAB){this.handleKeyDown(c)}},handleKeyDown:function(g){if(!g.isNavKeyPress()){return}var v=g.getKey(),e=this.grid,t=this.selection,u=this,q=function(a,b,d){return e.walkCells(a,b,d,e.isEditor&&e.editing?u.acceptsNav:u.isSelectable,u)},s,c,w,k,r;switch(v){case g.ESC:case g.PAGE_UP:case g.PAGE_DOWN:break;default:g.stopEvent();break}if(!t){s=q(0,0,1);if(s){this.select(s[0],s[1])}return}s=t.cell;w=s[0];k=s[1];switch(v){case g.TAB:if(g.shiftKey){c=q(w,k-1,-1)}else{c=q(w,k+1,1)}break;case g.DOWN:c=q(w+1,k,1);break;case g.UP:c=q(w-1,k,-1);break;case g.RIGHT:c=q(w,k+1,1);break;case g.LEFT:c=q(w,k-1,-1);break;case g.ENTER:if(e.isEditor&&!e.editing){e.startEditing(w,k);return}break}if(c){w=c[0];k=c[1];this.select(w,k);if(e.isEditor&&e.editing){r=e.activeEditor;if(r&&r.field.triggerBlur){r.field.triggerBlur()}e.startEditing(w,k)}}},acceptsNav:function(g,e,d){return !d.isHidden(e)&&d.isCellEditable(e,g)}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:false,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel()}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[true]),this);this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this)}else{var b=this.getView();if(this.clicksToEdit=="auto"&&b.mainBody){b.mainBody.on("mousedown",this.onAutoEditClick,this)}this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var b=this.activeEditor;if(this.editing&&b){b.realign(true)}},onCellDblClick:function(e,g,d){this.startEditing(g,d)},onAutoEditClick:function(j,i){if(j.button!==0){return}var e=this.view.findRowIndex(i),h=this.view.findCellIndex(i);if(e!==false&&h!==false){this.stopEditing();if(this.selModel.getSelectedCell){var k=this.selModel.getSelectedCell();if(k&&k[0]===e&&k[1]===h){this.startEditing(e,h)}}else{if(this.selModel.isSelected(e)){this.startEditing(e,h)}}}},onEditComplete:function(j,l,i){this.editing=false;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var k=j.record,e=this.colModel.getDataIndex(j.col);l=this.postEditValue(l,i,k,e);if(this.forceValidation===true||String(l)!==String(i)){var m={grid:this,record:k,field:e,originalValue:i,value:l,row:j.row,column:j.col,cancel:false};if(this.fireEvent("validateedit",m)!==false&&!m.cancel&&String(l)!==String(i)){k.set(e,m.value);delete m.cancel;this.fireEvent("afteredit",m)}}this.view.focusCell(j.row,j.col)},startEditing:function(j,m){this.stopEditing();if(this.colModel.isCellEditable(m,j)){this.view.ensureVisible(j,m,true);var n=this.store.getAt(j),e=this.colModel.getDataIndex(m),o={grid:this,record:n,field:e,value:n.data[e],row:j,column:m,cancel:false};if(this.fireEvent("beforeedit",o)!==false&&!o.cancel){this.editing=true;var l=this.colModel.getCellEditor(m,j);if(!l){return}if(!l.rendered){l.parentEl=this.view.getEditorParent(l);l.on({scope:this,render:{fn:function(a){a.field.focus(false,true)},single:true,scope:this},specialkey:function(a,b){this.getSelectionModel().onEditorKey(a,b)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[true])})}Ext.apply(l,{row:j,col:m,record:n});this.lastEdit={row:j,col:m};this.activeEditor=l;l.selectSameEditor=(this.activeEditor==this.lastActiveEditor);var k=this.preEditValue(n,e);l.startEdit(this.view.getCell(j,m).firstChild,Ext.isDefined(k)?k:"");(function(){delete l.selectSameEditor}).defer(50)}}},preEditValue:function(d,g){var e=d.data[g];return this.autoEncode&&Ext.isString(e)?Ext.util.Format.htmlDecode(e):e},postEditValue:function(h,e,g,i){return this.autoEncode&&Ext.isString(h)?Ext.util.Format.htmlEncode(h):h},stopEditing:function(d){if(this.editing){var c=this.lastActiveEditor=this.activeEditor;if(c){c[d===true?"cancelEdit":"completeEdit"]();this.view.focusCell(c.row,c.col)}this.activeEditor=null}this.editing=false}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(d,c){Ext.grid.GridEditor.superclass.constructor.call(this,d,c);d.monitorTab=false};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(c,d){this.grid=c;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(d){this.setSource(d)}Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(g){this.source=g;this.store.removeAll();var e=[];for(var d in g){if(this.isEditableValue(g[d])){e.push(new Ext.grid.PropertyRecord({name:d,value:g[d]},d))}}this.store.loadRecords({records:e},{},true)},onUpdate:function(k,g,j){if(j==Ext.data.Record.EDIT){var h=g.data.value;var i=g.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,g.id,h,i)!==false){this.source[g.id]=h;g.commit();this.grid.fireEvent("propertychange",this.source,g.id,h,i)}else{g.reject()}}},getProperty:function(b){return this.store.getAt(b)},isEditableValue:function(b){return Ext.isPrimitive(b)||Ext.isDate(b)},setValue:function(i,h,e){var g=this.getRec(i);if(g){g.set("value",h);this.source[i]=h}else{if(e){this.source[i]=h;g=new Ext.grid.PropertyRecord({name:i,value:h},i);this.store.add(g)}}},remove:function(d){var c=this.getRec(d);if(c){this.store.remove(c);delete this.source[d]}},getRec:function(b){return this.store.getById(b)},getSource:function(){return this.source}});Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(i,h){var j=Ext.grid,k=Ext.form;this.grid=i;j.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=h;var g=new k.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return this.el.dom.value=="true"}});this.editors={date:new j.GridEditor(new k.DateField({selectOnFocus:true})),string:new j.GridEditor(new k.TextField({selectOnFocus:true})),number:new j.GridEditor(new k.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new j.GridEditor(g,{autoSize:"both"})};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this)},renderDate:function(b){return b.dateFormat(this.dateFormat)},renderBool:function(b){return this[b?"trueText":"falseText"]},isCellEditable:function(c,d){return c==1},getRenderer:function(b){return b==1?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(b){return this.getPropertyName(b)},renderCell:function(j,h,i){var g=this.grid.customRenderers[i.get("name")];if(g){return g.apply(this,arguments)}var k=j;if(Ext.isDate(j)){k=this.renderDate(j)}else{if(typeof j=="boolean"){k=this.renderBool(j)}}return Ext.util.Format.htmlEncode(k)},getPropertyName:function(d){var c=this.grid.propertyNames;return c&&c[d]?c[d]:d},getCellEditor:function(g,k){var h=this.store.getProperty(k),j=h.data.name,i=h.data.value;if(this.grid.customEditors[j]){return this.grid.customEditors[j]}if(Ext.isDate(i)){return this.editors.date}else{if(typeof i=="number"){return this.editors.number}else{if(typeof i=="boolean"){return this.editors["boolean"]}else{return this.editors.string}}}},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);this.destroyEditors(this.editors);this.destroyEditors(this.grid.customEditors)},destroyEditors:function(d){for(var c in d){Ext.destroy(d[c])}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customRenderers=this.customRenderers||{};this.customEditors=this.customEditors||{};this.lastEditRow=null;var d=new Ext.grid.PropertyStore(this);this.propStore=d;var c=new Ext.grid.PropertyColumnModel(this,d);d.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=c;this.ds=d.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.mon(this.selModel,"beforecellselect",function(g,b,a){if(a===0){this.startEditing.defer(200,this,[b,1]);return false}},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source)}},setSource:function(b){this.propStore.setSource(b)},getSource:function(){return this.propStore.getSource()},setProperty:function(g,e,d){this.propStore.setValue(g,e,d)},removeProperty:function(b){this.propStore.remove(b)}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",groupMode:"value",cancelEditOnToggle:true,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var b=this.grid.getSelectionModel();b.on(b.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')}this.startGroup.compile();if(!this.endGroup){this.endGroup="</div></div>"}},findGroup:function(b){return Ext.fly(b).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(i,e,g){if(this.canGroup()&&!this.ignoreAdd){var h=this.getScrollState();this.fireEvent("beforerowsinserted",i,g,g+(e.length-1));this.refresh();this.restoreScroll(h);this.fireEvent("rowsinserted",i,g,g+(e.length-1))}else{if(!this.canGroup()){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)}}},onRemove:function(k,g,h,j){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var i=document.getElementById(g._groupId);if(i&&i.childNodes[1].childNodes.length<1){Ext.removeNode(i)}this.applyEmptyText()},refreshRow:function(b){if(this.ds.getCount()==1){this.refresh()}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false}},beforeMenuShow:function(){var g,d=this.hmenu.items,e=this.cm.config[this.hdCtxIndex].groupable===false;if((g=d.get("groupBy"))){g.setDisabled(e)}if((g=d.get("showGroups"))){g.setDisabled(e);g.setChecked(this.canGroup(),true)}},renderUI:function(){var b=Ext.grid.GroupingView.superclass.renderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}return b},processEvent:function(l,j){Ext.grid.GroupingView.superclass.processEvent.call(this,l,j);var e=j.getTarget(".x-grid-group-hd",this.mainBody);if(e){var o=this.getGroupField(),n=this.getPrefix(o),k=e.id.substring(n.length),m=new RegExp("gp-"+Ext.escapeRe(o)+"--hd");k=k.substr(0,k.length-3);if(k||m.test(e.id)){this.grid.fireEvent("group"+l,this.grid,o,k,j)}if(l=="mousedown"&&j.button==0){this.toggleGroup(e.parentNode)}}},onGroupByClick:function(){var b=this.grid;this.enableGrouping=true;b.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));b.fireEvent("groupchange",b,b.store.getGroupState());this.beforeMenuShow();this.refresh()},onShowGroupsClick:function(c,d){this.enableGrouping=d;if(d){this.onGroupByClick()}else{this.grid.store.clearGrouping();this.grid.fireEvent("groupchange",this,null)}},toggleRowIndex:function(g,d){if(!this.canGroup()){return}var e=this.getRow(g);if(e){this.toggleGroup(this.findGroup(e),d)}},toggleGroup:function(h,g){var e=Ext.get(h),i=Ext.util.Format.htmlEncode(e.id);g=Ext.isDefined(g)?g:e.hasClass("x-grid-group-collapsed");if(this.state[i]!==g){if(this.cancelEditOnToggle!==false){this.grid.stopEditing(true)}this.state[i]=g;e[g?"removeClass":"addClass"]("x-grid-group-collapsed")}},toggleAllGroups:function(h){var g=this.getGroups();for(var i=0,e=g.length;i<e;i++){this.toggleGroup(g[i],h)}},expandAllGroups:function(){this.toggleAllGroups(true)},collapseAllGroups:function(){this.toggleAllGroups(false)},getGroup:function(m,q,k,l,n,g){var o=this.cm.config[n],p=k?k.call(o.scope,m,{},q,l,n,g):String(m);if(p===""||p==="&#160;"){p=o.emptyGroupText||this.emptyGroupText}return p},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){if(!this.ds||!this.cm){return}Ext.grid.GroupingView.superclass.afterRender.call(this);if(this.grid.deferRowRender){this.updateGroupWidths()}},afterRenderUI:function(){Ext.grid.GroupingView.superclass.afterRenderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}},renderRows:function(){var g=this.getGroupField();var k=!!g;if(this.hideGroupedColumn){var h=this.cm.findColumnIndex(g),j=Ext.isDefined(this.lastGroupField);if(!k&&j){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField}else{if(k&&!j){this.lastGroupField=g;this.cm.setHidden(h,true)}else{if(k&&j&&g!==this.lastGroupField){this.mainBody.update("");var i=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(i,false);this.lastGroupField=g;this.cm.setHidden(h,true)}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(Q,H,B,O,A,C){if(H.length<1){return""}if(!this.canGroup()||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments)}var r=this.getGroupField(),N=this.cm.findColumnIndex(r),G,I="width:"+this.getTotalWidth()+";",S=this.cm.config[N],P=S.groupRenderer||S.renderer,D=this.showGroupName?(S.groupName||S.header)+": ":"",i=[],K,E,F,M;for(E=0,F=H.length;E<F;E++){var J=O+E,L=H[E],R=L.data[r];G=this.getGroup(R,L,P,J,N,B);if(!K||K.group!=G){M=this.constructId(R,r,N);this.state[M]=!(Ext.isDefined(this.state[M])?!this.state[M]:this.startCollapsed);K={group:G,gvalue:R,text:D+G,groupId:M,startRow:J,rs:[L],cls:this.state[M]?"":"x-grid-group-collapsed",style:I};i.push(K)}else{K.rs.push(L)}L._groupId=M}var g=[];for(E=0,F=i.length;E<F;E++){G=i[E];this.doGroupStart(g,G,Q,B,A);g[g.length]=Ext.grid.GroupingView.superclass.doRender.call(this,Q,G.rs,B,G.startRow,A,C);this.doGroupEnd(g,G,Q,B,A)}return g.join("")},getGroupId:function(c){var d=this.getGroupField();return this.constructId(c,d,this.cm.findColumnIndex(d))},constructId:function(j,l,h){var i=this.cm.config[h],k=i.groupRenderer||i.renderer,m=(this.groupMode=="value")?j:this.getGroup(j,{data:{}},k,0,h,this.ds);return this.getPrefix(l)+Ext.util.Format.htmlEncode(m)},canGroup:function(){return this.enableGrouping&&!!this.getGroupField()},getPrefix:function(b){return this.grid.getGridEl().id+"-gp-"+b+"-"},doGroupStart:function(g,j,h,k,i){g[g.length]=this.startGroup.apply(j)},doGroupEnd:function(g,j,h,k,i){g[g.length]=this.endGroup},getRows:function(){if(!this.canGroup()){return Ext.grid.GroupingView.superclass.getRows.call(this)}var i=[],m=this.getGroups(),g,o=0,j=m.length,n,l;for(;o<j;++o){g=m[o].childNodes[1];if(g){g=g.childNodes;for(n=0,l=g.length;n<l;++n){i[i.length]=g[n]}}}return i},updateGroupWidths:function(){if(!this.canGroup()||!this.hasRows()){return}var h=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px";var g=this.getGroups();for(var i=0,e=g.length;i<e;i++){g[i].firstChild.style.width=h}},onColumnWidthUpdated:function(g,d,e){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,g,d,e);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(c,d){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,c,d);this.updateGroupWidths()},onColumnHiddenUpdated:function(e,g,d){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,e,g,d);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(d,c){this.toggleRowIndex(c,true)}});Ext.grid.GroupingView.GROUP_ID=1000;
(function(){var p,r,j,k,c,h,o,l;if(typeof BBUI.uimodeling==="undefined"){BBUI.uimodeling={}}BBUI.uimodeling.keepAliveSeconds=300;p=window.encodeURIComponent;r=[];j=0;k=100;function e(){var t;t=j++;if(j===k){j=0}return t}function f(t){var u;u={};BBUI.copyProps(u,BBUI.uimodeling.Service.globalHttpHeaders);BBUI.copyProps(u,t.httpHeaders);return u}function i(x,t,u,w,y){var v;v=BBUI.urlConcat(x.baseUrl,"uimodel/UIModelingService.ashx?action=")+t+"&databaseName="+p(x.databaseName);if(x.runAs){v+="&runAs="+p(x.runAs)}if(u){v+="&formSessionId="+p(u)}if(w){v+="&modelInstanceId="+p(w)}if(y){v+="&fieldId="+p(y)}return v}function g(u,t){if(u&&t){u=u.toUpperCase();t=t.toUpperCase();return u.indexOf("FORMSESSIONID="+t)>=0}return false}function s(u,y,x){var v,t,z,A,w;t=u.handlers[y];if(t){for(A=0,w=t.length;A<w;A++){v=t[A];z=v.formSessionId;if(!z||g(x,z)){v.fn.apply(v.scope||this,BBUI.argsToArray(arguments,2))}}}}function a(z,x){var t,A,v,C,y,B,u;try{u=JSON.parse(x.responseText);C=true}catch(w){u={message:BBUI.resources.ResourceManager.getString("Service_UnknownRequestError")}}if(C){if(x.status===404){v=u.formSessionId;if(v){y=z.lastKeepAlive;t="The following information was also provided:\n\nForm session ID: "+v+"\nLast keep-alive request: "+(y?y.toString():"N\\A");B=BBUI.findByProp(r,"formSessionId",v,false,true);if(B){t+="\nForm session created on server with ID: "+B.serverId}A=u.serverId;if(A){t+="\nForm session failed on server with ID: "+A}u.details=t}}}return u}function m(u,t,v){if(typeof u.onRequestEnd==="function"){u.onRequestEnd(t,v)}if(typeof BBUI.uimodeling.Service.onRequestEnd==="function"){BBUI.uimodeling.Service.onRequestEnd(t,v)}s(u,"requestend",t,v)}function d(x,G,A,C,y,F,D,B){var v,t,u,w;function z(H,I){m(x,A,200);if(H.formSessionId&&H.serverId){r[e()]={formSessionId:H.formSessionId,serverId:H.serverId}}if(y){y.call(w,H,I)}h(x,B)}function E(I,J){var H;m(x,A,I.status);if(F){H=a(x,I);F.call(w,I,H,J)}h(x,B)}D=D||{};if(!D.isFromQueue&&!D.bypassQueue){s(x,"requestqueued",A,D)}if(B&&x.useEventQueue&&!D.bypassQueue){u=x._formSessionQueue[B];if(u&&u.isUpdating){v=BBUI.argsToArray(arguments);v[6]=D;D.isFromQueue=true;u.eventQueue.push(v);return}else{if(u){u.isUpdating=true}else{x._formSessionQueue[B]={isUpdating:true,eventQueue:[]}}}}w=D.scope||this;t={async:D.async,data:C,successCallback:z,failureCallback:E,responseFormat:"object",scope:w,state:D.state,httpHeaders:f(x)};o(x);if(typeof x.onRequestBegin==="function"){x.onRequestBegin(A)}s(x,"requestbegin",A);BBUI.xhr(G,A,t)}h=function(y,v){var u,x,t,w;if(v&&y.useEventQueue){u=y._formSessionQueue;t=u[v];if(t){w=t.eventQueue;if(w&&w.length){t.isUpdating=false;x=w.shift();d.apply(this,x)}else{delete u[v]}}}};function q(v,w,x,t,u,y){d(v,"GET",w,null,x,t,u,y)}function n(w,x,u,y,t,v,z){d(w,"POST",x,u,y,t,v,z)}o=function(v){function t(w){v.lastKeepAlive=new Date();s(v,"keepalive",{reply:w})}function u(){n(v,i(v,"keepAlive"),null,t)}if(window.setInterval){if(c){clearInterval(c);c=null}c=setInterval(u,BBUI.uimodeling.keepAliveSeconds*1000)}};function b(u,t){if(t){if(t.recordId){u+="&recordId="+p(t.recordId)}if(t.contextRecordId){u+="&contextRecordId="+p(t.contextRecordId)}if(t.uiWidgetDashboardSystemId){u+="&uiWidgetDashboardSystemId="+p(t.uiWidgetDashboardSystemId)}if(t.uiWidgetDashboardWidgetId){u+="&uiWidgetDashboardWidgetId="+p(t.uiWidgetDashboardWidgetId)}if(t.userSettingsPath){u+="&userSettingsPath="+p(t.userSettingsPath)}}return u}BBUI.uimodeling.Service=l=function(t,w,x){var v,u;v=this;v.baseUrl=t;v.databaseName=w;v._tokenCounter=1;if(x){v.runAs=x.runAs;v.onRequestBegin=x.onRequestBegin;v.onRequestEnd=x.onRequestEnd;v.httpHeaders=x.httpHeaders;v.useEventQueue=u=BBUI.is(x.useEventQueue)?x.useEventQueue:true;if(u){v._formSessionQueue={}}}v.handlers={};o(v)};BBUI.uimodeling.Service.prototype={on:function(x,y,t,w){var u,v;v=this.handlers;u=v[x];if(!u){u=v[x]=[]}u.push({fn:y,formSessionId:w,scope:t})},un:function(x,v,t){var w,u;w=this.handlers[x];if(w){u=w.length;while(u--){if(w[u].fn===v&&w[u].formSessionId===t){w.splice(u,1);break}}}},createFormSession:function(v,y,z,w,t,u){var x;u=u||{};x=i(this,"createFormSession")+"&assemblyName="+p(v)+"&className="+p(y);x=b(x,u);n(this,x,z,w,t,u)},createMergeTaskFormSession:function(x,y,w,t,u){var v;u=u||{};v=i(this,"createMergeTaskFormSession")+"&mergeTaskId="+p(x);v=b(v,u);n(this,v,y,w,t,u)},createDataFormSession:function(x,y,w,t,u){var v;u=u||{};v=i(this,"createDataFormSession")+"&dataFormInstanceId="+p(x);v=b(v,u);n(this,v,y,w,t,u)},createSearchListSession:function(x,y,w,t,u){var v;v=i(this,"createSearchListFormSession")+"&searchListId="+p(x);n(this,v,y,w,t,u)},createDataListFilterFormSession:function(x,y,w,t,u){var v;u=u||{};v=i(this,"createDataListFilterFormSession")+"&dataListId="+p(x);v=b(v,u);n(this,v,y,w,t,u)},createListBuilderFilterFormSession:function(v,y,x,t,u){var w;u=u||{};w=i(this,"createListBuilderFilterFormSession")+"&queryViewId="+p(v);w=b(w,u);n(this,w,y,x,t,u)},createReportParameterFormSession:function(w,u,z,x,t,v){var y;v=v||{};y=i(this,"createReportParameterFormSession")+"&reportId="+p(w);if(u){y+="&historyId="+p(u)}if(v.showAllParameters){y+="&showAllParameters=true"}n(this,y,z,x,t,v)},createBusinessProcessFormSession:function(u,y,x,t,v){var w;v=v||{};w=i(this,"createBusinessProcessFormSession")+"&businessProcessId="+p(u);w=b(w,v);n(this,w,y,x,t,v)},buildSearchListResultsUrl:function(u,y,t,v,w,A,z){var x;x=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName=")+p(this.databaseName);if(this.runAs){x+="&runAs="+p(this.runAs)}x+="&formSessionId="+p(u)+"&modelInstanceId="+p(y);if(t){x+="&htmlEncodeValues=true"}if(v){x+="&returnFormattedValues=true"}if(w){x+="&taskId="+p(w)}if(A){x+="&taskHistoryId="+p(A)}if(z){x+="&cancelId="+p(z)}return x},buildStartBusinessProcessUrl:function(t,y,w,x,v){var u;v=v||this.generateUniqueToken();u=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingBusinessProcessService.ashx?databaseName=")+p(this.databaseName)+"&businessProcessId="+p(t);if(BBUI.is(y)){u+="&parameterSetId="+p(y)}if(BBUI.is(w)){u+="&dataFormItemKey="+p(w)}if(BBUI.is(x)){u+="&businessProcessStatusId="+p(x)}if(this.runAs){u+="&runAs="+p(this.runAs)}u+="&deferredToken="+p(v);return u},searchListGetOutputDefinition:function(w,y,u,z,t,v){if(!v){v={}}var x=i(this,"searchListGetOutputDefinition",w,y)+"&returnExistingResults="+(u?"true":"false");if(v.taskHistoryId){x+="&taskHistoryId="+p(v.taskHistoryId)}q(this,x,z,t,v,w)},getSearchListResults:function(w,y,u,z,t,v){if(!v){v={}}var x=this.buildSearchListResultsUrl(w,y,u,v.returnFormattedValues,v.taskId,v.taskHistoryId,v.cancelId)+"&_reqid="+new Date().getTime();q(this,x,z,t,v,w)},invokeSearchItemSelected:function(v,y,x,z,t,u){var w=i(this,"invokeSearchItemSelected",v,y);n(this,w,x,z,t,u,v)},invokeFieldSearch:function(v,x,y,z,t,u){var w=i(this,"invokeFieldSearch",v,x,y);n(this,w,null,z,t,u,v)},invokeFieldQuickFind:function(v,x,y,z,A,t,u){var w;w=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+p(this.databaseName)+"&formSessionId="+p(v)+"&modelInstanceId="+p(x)+"&fieldId="+p(y)+"&quickFindCriteria="+p(z));if(this.runAs){w+="&runAs="+p(this.runAs)}n(this,w,null,A,t,u,v)},invokeFieldAutoSearch:function(v,x,y,z,t,u){var w;w=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+p(this.databaseName)+"&formSessionId="+p(v)+"&modelInstanceId="+p(x)+"&fieldId="+p(y)+"&autoSearch=true");if(this.runAs){w+="&runAs="+p(this.runAs)}n(this,w,null,z,t,u,v)},invokeQuickFind:function(x,y,w,t,u){var v;v=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+p(this.databaseName)+"&searchListId="+p(x)+"&quickFindCriteria="+p(y));if(this.runAs){v+="&runAs="+p(this.runAs)}n(this,v,null,w,t,u)},checkForDuplicate:function(v,x,y,t,u){var w;w=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingSearchService.ashx?databaseName="+p(this.databaseName)+"&formSessionId="+p(v)+"&modelInstanceId="+p(x)+"&duplicateCheck=true");if(this.runAs){w+="&runAs="+p(this.runAs)}n(this,w,null,y,t,u,v)},selectFieldSearchItem:function(w,z,A,t,x,B,u,v){var y=i(this,"selectFieldSearchItem",w,z,A)+"&searchFormSessionId="+p(t);n(this,y,x,B,u,v,w)},selectFieldSearchItemById:function(w,y,z,t,A,u,v){var x=i(this,"selectFieldSearchItemById",w,y,z);n(this,x,t,A,u,v,w)},selectActionSearchItem:function(w,A,x,t,z,B,u,v){var y=i(this,"selectSearchItemAction",w,A)+"&actionId="+x+"&searchFormSessionId="+p(t);n(this,y,z,B,u,v,w)},selectActionSearchItemById:function(w,z,x,t,A,u,v){var y=i(this,"selectSearchItemActionById",w,z)+"&actionId="+x;n(this,y,t,A,u,v,w)},updateField:function(w,y,z,t,A,u,v){var x=i(this,"updateField",w,y,z);n(this,x,t,A,u,v,w)},updateMultipleFields:function(v,x,y,z,t,u){var w=i(this,"updateMultipleFields",v,x);n(this,w,y,z,t,u,v)},updateRelationshipMapFieldProperties:function(v,y,z,w,A,t,u){var x=i(this,"updateRelationshipMapFieldProperties",v,y,z);n(this,x,w,A,t,u,v)},selectTreeViewNode:function(v,y,z,x,A,t,u){var w=i(this,"selectTreeViewNode",v,y,z)+"&nodePath="+p(x);n(this,w,null,A,t,u,v)},selectTreeViewNodes:function(v,y,z,x,A,t,u){var w=i(this,"selectTreeViewNodes",v,y,z);n(this,w,x,A,t,u,v)},setTreeViewNodeExpanded:function(w,z,A,y,t,B,u,v){var x=i(this,"setTreeViewNodeExpanded",w,z,A)+"&nodePath="+p(y)+"&expanded="+p(t);n(this,x,null,B,u,v,w)},addCodeTableEntry:function(v,y,z,w,A,t,u){var x=i(this,"addCodeTableEntry",v,y,z);n(this,x,w,A,t,u,v)},deleteCollectionItem:function(v,y,z,w,A,t,u){var x=i(this,"deleteCollectionItem",v,y,z)+"&itemInstanceId="+p(w);n(this,x,null,A,t,u,v)},deleteCollectionItems:function(v,y,z,x,A,t,u){var w=i(this,"deleteCollectionItems",v,y,z);n(this,w,x,A,t,u,v)},deleteSelectedCollectionItems:function(v,x,y,z,t,u){var w=i(this,"deleteSelectedCollectionItems",v,x,y);n(this,w,null,z,t,u,v)},setCollectionItemSelected:function(v,z,A,w,y,B,t,u){var x=i(this,"selectCollectionItem",v,z,A)+"&itemInstanceId="+p(w)+"&selected="+(y?"true":"false");n(this,x,null,B,t,u,v)},moveCollectionItem:function(v,z,A,w,y,B,t,u){var x=i(this,"moveCollectionItem",v,z,A)+"&itemInstanceId="+p(w)+"&newindex="+p(y);n(this,x,null,B,t,u,v)},confirmForm:function(x,t,w,v){var u;if(!BBUI.is(v)){v={}}u=i(this,"confirmFormSession",x);if(v.returnDataFormItem){u+="&returnDataFormItem=true"}if(v.storeDataFormItem){u+="&storeDataFormItem=true"}if(v.skipValidate){u+="&skipValidate=true"}n(this,u,null,t,w,v,x)},cancelSession:function(v,w,y,t,u){var x;x=i(this,"closeFormSession",v);x+="&canceling=true";if(w){x+="&overridedirty=true"}n(this,x,null,y,t,u,v)},handlePrompt:function(w,y,v,z,A,t,u){var x=i(this,"handlePrompt",w,y)+"&promptId="+p(v);n(this,x,z,A,t,u,w)},invokeAction:function(w,z,x,A,t,v){var u,y;y=i(this,"invokeAction",w,z)+"&actionId="+p(x);if(v){if(v.parameters||v.defaultValues){u={};if(v.parameters){u.parameters=v.parameters}if(v.defaultValues){u.defaultValues=v.defaultValues}}if(v.cancelId){y+="&cancelId="+p(v.cancelId)}}else{u=null}n(this,y,u,A,t,v,w)},confirmFormAction:function(w,z,x,u,A,t,v){var y=i(this,"confirmFormAction",w,z)+"&actionId="+p(x)+"&confirmFormSessionId="+p(u);n(this,y,null,A,t,v,w)},cancelFormAction:function(v,y,w,z,t,u){var x=i(this,"cancelFormAction",v,y)+"&actionId="+p(w);n(this,x,null,z,t,u,v)},notifyFormHidden:function(x,t,w,v){var u=i(this,"notifyFormHidden",x);n(this,u,null,t,w,v,x)},notifyFormShown:function(x,t,w,v){var u=i(this,"notifyFormShown",x);n(this,u,null,t,w,v,x)},invokeCollectionPageChange:function(w,y,z,v,A,t,u){var x=i(this,"invokeCollectionPageChange",w,y,z)+"&start="+v;n(this,x,null,A,t,u,w)},invokeCollectionSelectionUpdate:function(v,x,y,A,z,t,u){var w=i(this,"collectionSelectionUpdate",v,x,y);n(this,w,A,z,t,u,v)},invokeCollectionSpecialAction:function(v,y,z,w,A,t,u){var x=i(this,"invokeCollectionSpecialAction",v,y,z)+"&actionname="+w;n(this,x,null,A,t,u,v)},invokeFileChanged:function(w,y,z,t,A,u,v){var x=i(this,"selectFile",w,y,z);n(this,x,t,A,u,v,w)},cancelAction:function(w,z,u,A,y,t,v){var x=i(this,"cancelAction",w,z,u)+"&cancelId="+p(A);v=v||{};v.bypassQueue=true;n(this,x,null,y,t,v,w)},getFieldDataSourceUrl:function(v,t,u){return i(this,"getFieldDataSource",v,t,u)},getFieldDataSource:function(v,x,y,z,t,u){var w=i(this,"getFieldDataSource",v,x,y);q(this,w,z,t,u,v)},getFieldImageUrl:function(v,t,u){return i(this,"getFieldImage",v,t,u)},getFieldFileUrl:function(x,v,w,u){var t;t=i(this,"getFieldFile",x,v,w);if(u&&u.fileName){t+="&fileName="+p(u.fileName)}return t},getCustomFileUrl:function(x,v,w,u){var t;t=i(this,"getCustomFile",x,v)+"&key="+p(w)+"&fileName="+p(u);return t},getUploadFieldImageUrl:function(x,v,w,u){var t;t=i(this,"uploadFieldImage",x,v,w);if(u){t+="&thumbnailFieldId="+p(u)}return t},getUploadFieldFileUrl:function(w,u,t){var v;t=t||false;v=BBUI.urlConcat(this.baseUrl,"Upload/FileUpload.ashx?DBName="+p(this.databaseName)+"&FieldID="+p(w)+"&FileUploadKey="+p(u)+(t===true?"":"&InitialRequest=true"));if(this.runAs){v+="&runAs="+p(this.runAs)}return v},getUploadCreditCardFieldFileUrl:function(v,u){var t;t=BBUI.urlConcat(this.baseUrl,"Upload/CreditCardFileUpload.ashx?DBName="+p(this.databaseName)+"&FieldID="+p(v)+"&FileUploadKey="+p(u));if(this.runAs){t+="&runAs="+p(this.runAs)}return t},createSearchListAddFormSession:function(x,C,y,t,A,B,w,u,v){var z=i(this,"searchListAddFormInvoke",x,C,y)+"&dataFormInstanceId="+p(B)+"&searchFormSessionId="+p(t)+"&searchModelInstanceId="+p(A);n(this,z,null,w,u,v,x)},createSearchListActionAddFormSession:function(x,C,w,t,A,B,z,u,v){var y=i(this,"actionSearchListAddFormInvoke",x,C)+"&actionId="+p(w)+"&dataFormInstanceId="+p(B)+"&searchFormSessionId="+p(t)+"&searchModelInstanceId="+p(A);n(this,y,null,z,u,v,x)},confirmSearchListAddForm:function(v,z,A,B,w,y,t,u){var x=i(this,"searchListAddFormConfirm",v,z,A)+"&confirmFormSessionId="+p(B)+"&ignoreConcurrency="+p(w);n(this,x,null,y,t,u,v)},confirmSearchListActionAddForm:function(v,A,x,B,w,z,t,u){var y=i(this,"actionSearchListAddFormConfirm",v,A)+"&actionId="+p(x)+"&confirmFormSessionId="+p(B)+"&ignoreConcurrency="+p(w);n(this,y,null,z,t,u,v)},confirmSearchListAddQuery:function(v,y,z,B,x,A,t,u){var w=i(this,"searchListAddQueryConfirm",v,y)+"&fieldId="+p(z)+"&queryInstanceId="+p(B)+"&selectionId="+p(x);n(this,w,null,A,t,u,v)},confirmQueryAction:function(v,z,w,C,y,B,t,u,A){var x=i(this,"confirmQueryAction",v,z)+"&actionId="+p(w)+"&queryInstanceId="+p(C)+"&selectionId="+p(y)+"&queryType="+p(A);n(this,x,null,B,t,u,v)},confirmSearchListAddExportDefinition:function(v,x,y,z,A,t,u){var w=i(this,"searchListAddExportDefinitionConfirm",v,x)+"&fieldId="+p(y)+"&exportDefinitionId="+p(z);n(this,w,null,A,t,u,v)},confirmExportDefinitionAction:function(v,y,w,z,A,t,u){var x=i(this,"confirmExportDefinitionAction",v,y)+"&actionId="+p(w)+"&exportDefinitionId="+p(z);n(this,x,null,A,t,u,v)},resetFormSession:function(v,x,y,t,u){if(!u){u={}}var w=i(this,"resetFormSession",v,x);n(this,w,null,y,t,u,v)},refreshFormSession:function(v,x,y,t,u){if(!u){u={}}var w=i(this,"refreshFormSession",v,x);n(this,w,null,y,t,u,v)},selectDuplicateRecord:function(v,y,x,z,t,u){var w=i(this,"selectDuplicateRecord",v,y)+"&selectedRecordId="+p(x);n(this,w,null,z,t,u,v)},startBusinessProcess:function(v,B,z,y,t,w){var x,u,A;w=w||{};A=w.businessProcessStatusId;x=this.buildStartBusinessProcessUrl(v,B,z,A);if(!z&&w.values){u={values:w.values}}n(this,x,u,y,t,w)},selectDuplicateRecordAction:function(w,z,x,A,t,B,u,v){var y=i(this,"selectDuplicateRecordAction",w,z)+"&duplicateFormSessionId="+p(A)+"&actionId="+p(x)+"&selectedRecordId="+p(t);n(this,y,null,B,u,v,w)},invokeRelationshipMapNodeAction:function(v,y,z,B,w,A,t,u){var x=i(this,"relationshipMapNodeInvokeAction",v,y,z)+"&nodeId="+p(B)+"&actionName="+p(w);n(this,x,null,A,t,u,v)},buildReportHostUrl:function(x,u){var t,w,v,y;y=BBUI.urlConcat(this.baseUrl,"uimodel/ReportHost.aspx?databaseName=")+p(this.databaseName)+"&reportId="+p(x);u=u||{};if(u.historyId){y+="&historyId="+p(u.historyId)}if(u.formSessionId){y+="&formSessionId="+p(u.formSessionId)}if(u.modelInstanceId){y+="&modelInstanceId="+p(u.modelInstanceId)}if(BBUI.is(u.showToolbar)){y+="&showToolbar="+p(u.showToolbar)}if(BBUI.is(u.runAs)){y+="&runAs="+p(u.runAs)}if(u.showParameterPrompts){y+="&showParameterPrompts=true"}if(u.showPromptAreaButton){y+="&showPromptAreaButton=true"}if(u.displayPromptArea){y+="&displayPromptArea="+p(u.displayPromptArea)}y+=BBUI.arrayToQueryString(u.parameters,"p_",true);return y},validateFormSession:function(v,x,t,u){var w,y;w=i(this,"validateformsession",v);n(this,w,null,x,t,u,v)},removeFromQueue:function(v,y,u){var t,x,z,A,w;if(!this._formSessionQueue){return}w=this._formSessionQueue[v];if(w&&w.eventQueue&&w.eventQueue.length){A=w.eventQueue;for(t=0,x=A.length;t<x;++t){z=A[t][2].toLowerCase();if(!(u.action&&z.indexOf(u.action.toLowerCase())===-1)&&!(u.fieldName&&z.indexOf(u.fieldName.toLowerCase())===-1)){A.splice(t,1);s(this,"requestdequeued",z);break}}}},getFormSessionDataFormItemXml:function(v,x,y,t,u){var w=i(this,"getFormSessionDataFormItemXml",v,x);q(this,w,y,t,u,v)},reportActionFormSaved:function(v,y,w,z,t,u){var x=i(this,"reportActionFormSaved",v,y)+"&actionId="+p(w);n(this,x,null,z,t,u,v)},clearParameterDetail:function(v,y,x,z,t,u){var w;w=i(this,"clearParameterDetail")+"&formSessionId="+p(v)+"&modelInstanceId="+p(y)+"&parameterDetailName="+p(x);n(this,w,null,z,t,u,v)},cancelAsyncOperation:function(v,t,x,w){var u=BBUI.urlConcat(this.baseUrl,"uimodel/UIModelingCancelAsyncOperation.ashx?databaseName=")+p(this.databaseName)+"&cancelId="+p(v);q(this,u,t,x,w)},generateUniqueToken:function(u){function t(w){return Math.floor(Math.random()*(w+1))}function v(z){var w="abcdefghijklmnopqrstuvwxyz0123456789",x=w.length-1,A,y;z=z||36;A="";for(y=0;y<z;y++){A+=w[t(x)]}return A}u=u||"";return u+"_"+v(36)+"_"+(this._tokenCounter++)}};l.fromSvc=function(t){return new BBUI.uimodeling.Service(t.baseUrl,t.databaseName,{runAs:t.runAs,onRequestBegin:t.onRequestBegin,onRequestEnd:t.onRequestEnd,httpHeaders:t.httpHeaders})}}(this));
(function(){var b=encodeURIComponent,h="p_";if(typeof BBUI.webshell==="undefined"){BBUI.webshell={}}function f(s,r,p,q){if(typeof q==="undefined"){q=!!p}if(q){s.push("&"+r+"=");s.push(b(p))}}function c(s,p,r,w,t,q,u,v){var x;x=[];if(s.proxyUrl){x.push(s.proxyUrl+(s.proxyUrl.indexOf("?")>=0?"&":"?")+"fileName="+b(p)+"&")}else{x.push(BBUI.urlConcat(s.baseUrl,"webui/"+p+"?"))}x.push("databaseName="+b(s.databaseName));f(x,"runAs",s.runAs);f(x,"wsFederationInvitationToken",s.wsFederationInvitationToken);f(x,"wsFederationNameIdentifier",s.wsFederationNameIdentifier);f(x,"action",r);f(x,"pageId",w);f(x,"tabId",t);f(x,"sectionId",q);f(x,"actionId",u);f(x,"contextRecordId",v);return x.join("")}function g(r,q,v,s,p,t,u){return c(r,"WebShellService.ashx",q,v,s,p,t,u)}function m(p){return c(p,"WebShellAdHocQueryService.ashx")}function k(r,t,u,q,p){var s;s=c(r,"WebShellDataListService.ashx",null,u,q,p)+"&dataListId="+b(t);return s}function j(q,r,p){return c(q,"WebShellSearchListService.ashx")+"&searchListId="+b(r)+"&criteria="+b(p)}function e(q,r){var u,p,s;function t(){if(r){r()}if(u){u.call(p||this,s)}}if(q){u=q.cancelCallback;p=q.scope;s=q.state}return{cancel:t}}function o(q,p){if(p){if(p.securityContextFeatureId){q+="&securityContextFeatureId="+b(p.securityContextFeatureId)}if(BBUI.is(p.securityContextFeatureType)){q+="&securityContextFeatureType="+b(p.securityContextFeatureType)}}return q}function i(p){var q;q={};BBUI.copyProps(q,BBUI.webshell.Service.globalHttpHeaders);BBUI.copyProps(q,p.httpHeaders);return q}function a(q,p,r){if(typeof q.onRequestEnd==="function"){q.onRequestEnd(p,r)}if(typeof BBUI.webshell.Service.onRequestEnd==="function"){BBUI.webshell.Service.onRequestEnd(p,r)}}function d(v,B,w,x,t,A,y){var q,r,s,p;function u(C,D){a(v,w,200);if(t){t.call(s,C,D)}}function z(E,F){var C;a(v,w,E.status);if(A){try{C=JSON.parse(E.responseText)}catch(D){C={message:BBUI.resources.ResourceManager.getString("Service_UnknownRequestError")}}A.call(s,E,C,F)}}y=y||{};s=y.scope||this;p=y.state;q={async:y.async,data:x,successCallback:u,failureCallback:z,responseFormat:"object",scope:s,state:p,httpHeaders:i(v)};BBUI.xhr(B,w,q)}function n(r,p,q,s,t){r.doGet(p,q,s,t)}function l(s,t,q,u,p,r){s.doPost(t,q,u,p,r)}BBUI.webshell.Service=function(p,r,s){var q;q=this;q.baseUrl=p;q.databaseName=r;if(s){q.runAs=s.runAs;q.wsFederationInvitationToken=s.wsFederationInvitationToken;q.wsFederationNameIdentifier=s.wsFederationNameIdentifier;q.onRequestBegin=s.onRequestBegin;q.onRequestEnd=s.onRequestEnd;q.httpHeaders=s.httpHeaders;q.proxyUrl=s.proxyUrl}};BBUI.webshell.Service.prototype={baseUrl:null,databaseName:null,login:function(t,p,r,s){var q;q=c(this,"WebShellLogin.aspx")+"&action=login";if(BBUI&&BBUI.globals&&BBUI.globals._auth&&BBUI.globals._auth.useADcredentials){q+="&useADcredentials=true"}l(this,q,t,p,r,s)},logout:function(p,s,r){var q;q=c(this,"WebShellLogin.aspx")+"&action=logout";l(this,q,null,p,s,r)},wsFederationLogin:function(){var p;p=c(this,"WebShellLogin.aspx")+"&action=wsFederationLogin&url="+b(location.href);location.href=p},wsFederationLogout:function(q){var p;q=q||"";p=c(this,"WebShellLogin.aspx")+"&action=wsFederationLogout&wsreply="+b(q);location.href=p},sendPasswordResetLink:function(t,p,s,r){var q;q=c(this,"WebShellLogin.aspx")+"&action=sendPasswordResetLink&emailAddress="+t;l(this,q,null,p,s,r)},resetPassword:function(t,p,r,s){var q;q=c(this,"WebShellLogin.aspx")+"&action=resetPassword";l(this,q,t,p,r,s)},sessionStart:function(p,s,r){var q;q=g(this,"sessionStart");if(BBUI&&BBUI.globals&&BBUI.globals._auth&&BBUI.globals._auth.useADcredentials){q+="&useADcredentials=true"}l(this,q,null,p,s,r)},getNavigation:function(p,s,r){var q;q=g(this,"getNavigation");if(r.refreshCache){q+="&refreshCache=true"}n(this,q,p,s,r)},getPage:function(u,s,t,p,q){var r;q=q||{};r=g(this,"getPage",u,q.tabId,null,null,s);if(q.firstTab){r+="&firstTab=true"}if(q.listBuilderInstanceId){r+="&listBuilderInstanceId="+b(q.listBuilderInstanceId)}n(this,r,t,p,q)},getPageIsCustomizable:function(s,p,t,r){var q;r=r||{};q=g(this,"getPageIsCustomizable",s);n(this,q,p,t,r)},getPageTab:function(v,q,t,u,p,r){var s;s=g(this,"getPageTab",v,q,null,null,t);n(this,s,u,p,r)},getReportPage:function(r,p,s,q){var t;q=q||{};t=g(this,"getReportPage")+"&reportId="+b(r);if(q.historyId){t+="&historyId="+b(q.historyId)}if(q.caption){t+="&caption="+b(q.caption)}if(q.displayPromptArea){t+="&displayPromptArea="+b(q.displayPromptArea)}t+=BBUI.arrayToQueryString(q.parameters,h,true);n(this,t,p,s,q)},getFunctionalAreaTaskAction:function(u,r,t,p,q){var s;s=g(this,"getFunctionalAreaTaskAction");if(u){s+="&functionalAreaId="+b(u)}if(r){s+="&taskId="+b(r)}n(this,s,t,p,q)},getTaskAction:function(t,p,r,s){var q;q=g(this,"getTaskAction");if(t){q+="&taskId="+b(t)}n(this,q,p,r,s)},getPageAction:function(v,s,r,t,p,q){var u;u=g(this,"getPageAction",v,null,null,s,r);n(this,u,t,p,q)},getPageSection:function(w,r,q,t,v,p,s){var u;u=g(this,"getPageSection",w,r,q,null,t);n(this,u,v,p,s)},getPageDataFormSectionAction:function(y,r,q,v,u,t,w,z,p,s){var x;x=g(this,"getPageDataFormSectionAction",y,r,q,v,u)+"&formSessionId="+b(t)+"&modelInstanceId="+b(w);l(this,x,null,z,p,s)},getPageReportSectionAction:function(y,r,q,u,t,w,p,s){var v,x;if(s){v=s.reportValues}x=g(this,"getPageReportSectionAction",y,r,q,u,t);l(this,x,v,w,p,s)},getPageUIWidgetSectionAction:function(y,r,q,v,u,w,p,s){var t=null,x;x=g(this,"getPageUIWidgetSectionAction",y,r,q,v,u);if(s){if(s.pageRecordId){x+="&pageRecordId="+b(s.pageRecordId)}if(s.rowValues){t=s.rowValues}}l(this,x,t,w,p,s)},getPageUrlSectionAction:function(x,r,q,u,t,v,p,s){var w;w=g(this,"getPageUrlSectionAction",x,r,q,u,t);if(s){if(s.pageRecordId){w+="&pageRecordId="+b(s.pageRecordId)}}l(this,w,null,v,p,s)},getPageDataListSectionAction:function(y,r,q,v,u,t,w,p,s){var x;x=g(this,"getPageDataListSectionAction",y,r,q,v,u);if(s){if(s.pageRecordId){x+="&pageRecordId="+b(s.pageRecordId)}if(s.formSessionId){x+="&formSessionId="+b(s.formSessionId)}if(s.modelInstanceId){x+="&modelInstanceId="+b(s.modelInstanceId)}}l(this,x,t,w,p,s)},getPageListBuilderSectionAction:function(y,r,q,v,u,t,w,p,s){var x;x=g(this,"getPageListBuilderSectionAction",y,r,q,v,u);if(s&&s.pageRecordId){x+="&pageRecordId="+b(s.pageRecordId)}l(this,x,t,w,p,s)},getListBuilderAvailableColumns:function(s,p,t,r){var q;q=g(this,"getListBuilderAvailableColumns")+"&queryViewId="+s;n(this,q,p,t,r)},listBuilderGetInstanceXml:function(r,t,u,p,q){var s;s=g(this,"listBuilderGetInstanceXml")+"&queryViewId="+b(r);if(q.parameterFormSessionId){s+="&parameterFormSessionId="+b(q.parameterFormSessionId)}if(q.userSettingsPath){s+="&userSettingsPath="+b(q.userSettingsPath)}l(this,s,t,u,p,q)},listBuilderGetInstance:function(s,p,t,r){var q;q=g(this,"listBuilderGetInstance")+"&listBuilderInstanceId="+s;n(this,q,p,t,r)},listBuilderClearAllSettings:function(u,r,t,p,q){var s;s=g(this,"listBuilderClearAllSettings")+"&userSettingsPath="+u+"&queryViewId="+r;n(this,s,t,p,q)},adHocQueryClearAllSettings:function(u,q,t,p,r){var s;s=g(this,"adHocQueryClearAllSettings")+"&userSettingsPath="+u+"&adHocQueryId="+q;n(this,s,t,p,r)},getAdHocQueryAvailableColumns:function(s,p,t,r){var q;q=g(this,"getAdHocQueryAvailableColumns")+"&adHocQueryId="+s;n(this,q,p,t,r)},getPageSummarySectionAction:function(w,t,s,r,u,x,p,q){var v;v=g(this,"getPageSummarySectionAction",w,null,null,t,s)+"&formSessionId="+b(r)+"&modelInstanceId="+b(u);n(this,v,x,p,q)},evaluateDataListSectionActions:function(x,r,q,u,t,w,p,s){var v;v=g(this,"evaluateDataListSectionActions",x,r,q,null,u);if(s){if(s.pageRecordId){v+="&pageRecordId="+b(s.pageRecordId)}}l(this,v,t,w,p,s)},evaluateListBuilderSectionActions:function(x,r,q,u,t,w,p,s){var v;v=g(this,"evaluateListBuilderSectionActions",x,r,q,null,u);if(s&&s.pageRecordId){v+="&pageRecordId="+b(s.pageRecordId)}l(this,v,t,w,p,s)},evaluateDataFormSectionActions:function(x,r,q,u,t,w,y,p,s){var v;v=g(this,"evaluateDataFormSectionActions",x,r,q,null,u)+"&formSessionId="+b(t)+"&modelInstanceId="+b(w);l(this,v,null,y,p,s)},dataListGetOutputDefinition:function(t,p,s,r){var q;r=r||{};r.cache=true;q=BBUI.urlConcat(this.baseUrl,"webui/mc/")+b(this.databaseName)+"/d/"+b(t)+"."+(r.timestamp||0)+"_bbmd.ashx";n(this,q,p,s,r)},queryViewGetOutputDefinition:function(s,p,t,r){var q;r=r||{};r.cache=true;q=BBUI.urlConcat(this.baseUrl,"webui/mc/")+b(this.databaseName)+"/q/"+b(s)+"."+(r.timestamp||0)+"_bbmd.ashx";n(this,q,p,t,r)},dataListLoad:function(u,r,t,p,q){var v,s;q=q||{};v=[k(this,u)];f(v,"recordId",r);if(q){f(v,"returnFormattedValues","true",!!q.returnFormattedValues);f(v,"pageRecordId",q.pageRecordId);f(v,"parameterFormSessionId",q.parameterFormSessionId);f(v,"functionalAreaId",q.functionalAreaId);f(v,"uiWidgetId",q.uiWidgetId);f(v,"personalizationMode",q.personalizationMode);f(v,"userSettingsPath",q.userSettingsPath);f(v,"returnFlotData","true",!!q.returnFlotData);f(v,"pageId",q.pageId);f(v,"tabId",q.tabId);f(v,"sectionId",q.sectionId);f(v,"moreRowsRangeKey",q.moreRowsRangeKey);f(v,"discardRows","true",!!q.discardRows);f(v,"returnPageNavigationTree","true",!!q.returnPageNavigationTree);f(v,"limit",q.limit);f(v,"cancelId",q.cancelId);v.push(BBUI.arrayToQueryString(q.parameters,h,true))}s=v.join("");n(this,s,t,p,q)},simpleDataListLoad:function(t,p,r,s){var q;q=g(this,"simpleDataListLoad")+"&simpleDataListId="+b(t);if(s){q+=BBUI.arrayToQueryString(s.parameters,h,true)}n(this,q,p,r,s)},buildPageSectionDataListResultsUrl:function(u,r,p,t,q){var v,s;if(!q){q={}}v=[k(this,t,u,r,p)];f(v,"recordId",q.contextRecordId);f(v,"pageRecordId",q.pageRecordId);f(v,"returnFormattedValues","true",q.returnFormattedValues);f(v,"moreRowsRangeKey",q.moreRowsRangeKey);f(v,"previousRowCount",q.previousRowCount);f(v,"parameterFormSessionId",q.parameterFormSessionId);f(v,"personalizationMode",q.personalizationMode);f(v,"userSettingsPath",q.userSettingsPath);f(v,"exportFormat",q.exportFormat);f(v,"cancelId",q.cancelId);v.push(BBUI.arrayToQueryString(q.parameters,h,true));s=v.join("");return s},buildPageSectionAdHocQueryListResultsUrl:function(w,q,p,u,t,r){var x,s=this,v;x=[c(s,"WebShellAdHocQueryListService.ashx")+"&adHocQueryId="+b(u)+"&queryViewId="+b(t)+"&returnResults=true"];r=r||{};f(x,"returnFormattedValues","true",r.returnFormattedValues);f(x,"parameterFormSessionId",r.parameterFormSessionId);f(x,"pageId",w);f(x,"tabId",q);f(x,"sectionId",p);f(x,"pageRecordId",r.pageRecordId);f(x,"recordId",r.contextRecordId);f(x,"userSettingsPath",r.userSettingsPath);f(x,"saveUserSettings","true",!!r.saveUserSettings);f(x,"cancelId",r.cancelId);v=x.join("");return v},buildPageSectionListBuilderResultsUrl:function(v,r,p,s,q){var w,u=this,t;w=[c(u,"WebShellListBuilderService.ashx")+"&queryViewId="+b(s)+"&returnResults=true"];q=q||{};f(w,"returnFormattedValues","true",q.returnFormattedValues);f(w,"parameterFormSessionId",q.parameterFormSessionId);f(w,"pageId",v);f(w,"tabId",r);f(w,"sectionId",p);f(w,"pageRecordId",q.pageRecordId);f(w,"recordId",q.contextRecordId);f(w,"userSettingsPath",q.userSettingsPath);f(w,"saveUserSettings","true",!!q.saveUserSettings);f(w,"clearParameterUserSettings",q.clearParameterUserSettings);f(w,"moreRowsRangeKey",q.moreRowsRangeKey);f(w,"previousRowCount",q.previousRowCount);f(w,"cancelId",q.cancelId);f(w,"storeSettingsByContextRecordId",q.storeSettingsByContextRecordId);t=w.join("");return t},listBuilderClearCachedResults:function(r,t,p,q){var s,u=this;s=c(u,"WebShellListBuilderService.ashx")+"&moreRowsRangeKey="+b(r)+"&discardRows=true";n(u,s,t,p,q)},pageSectionDataListLoad:function(w,r,q,v,u,p,s){var t;t=this.buildPageSectionDataListResultsUrl(w,r,q,v,s);n(this,t,u,p,s)},recordOperationGetPrompt:function(t,s,u,p,q){var r;r=g(this,"recordOperationGetPrompt")+"&recordOperationId="+b(t);if(s){r+="&recordId="+b(s)}n(this,r,u,p,q)},recordOperationPerform:function(u,t,v,p,r){var s,w,q;if(r&&(r.parameters||r.recordIds)){q={};if(r.parameters){q.values=r.parameters}if(r.recordIds){q.recordIds=r.recordIds}}w=[g(this,"recordOperationPerform")];f(w,"recordOperationId",u);f(w,"recordId",t);s=w.join("");l(this,s,q,v,p,r)},searchListGetOutputDefinition:function(t,p,s,r){var q;q=g(this,"searchListGetOutputDefinition")+"&searchListId="+b(t);n(this,q,p,s,r)},searchListQuickFind:function(t,u,s,p,q){var r;r=j(this,t,u);if(q){if(q.onlyReturnRows){r+="&onlyReturnRows=true"}if(q.maxRecords){r+="&maxRecords="+b(q.maxRecords)}}n(this,r,s,p,q)},codeTableEntrySave:function(r,t,u,v,p,q){var s;s=g(this,"codeTableEntrySave")+"&codeTableName="+b(r)+"&codeTableEntryId="+b(t);l(this,s,u,v,p,q)},kpiDashboardGetDefinition:function(p,s,r){var q;q=g(this,"kpiDashboardGetDefinition");if(r.returnValues){q+="&returnValues=true"}n(this,q,p,s,r)},queryViewGetFieldFindResults:function(t,p,r,s){var q;q=g(this,"queryViewGetFieldFindResults");l(this,q,t,p,r,s)},queryViewGetTree:function(t,u,p,q,s,r){var v;v=g(this,"queryViewGetTree")+"&id="+b(t);if(BBUI.is(s)&&s===true){v+="&loadExportDefinitionViews=true"}else{v+="&loadExportDefinitionViews=false"}if(BBUI.is(r)&&r===true){v+="&reportModelViewsOnly=true"}else{v+="&reportModelViewsOnly=false"}n(this,v,u,p,q)},queryViewGetMetaData:function(q,p,s,r){var t;t=g(this,"queryViewGetMetaData")+"&id="+b(q);n(this,t,p,s,r)},queryViewGetTreeNodeFields:function(u,r,p,q,t){var s;s=g(this,"queryViewGetTreeNodeFields")+"&node="+b(u);if(BBUI.is(t)&&t===true){s+="&reportModelViewsOnly=true"}else{s+="&reportModelViewsOnly=false"}n(this,s,r,p,q)},buildQueryViewGetTreeNodeChildrenUrl:function(r,q,s){var p;p=g(this,"queryViewGetTreeNodeChildren");if(BBUI.is(q)&&q===true){p+="&loadExportDefinitionViews=true"}else{p+="&loadExportDefinitionViews=false"}if(BBUI.is(s)&&s===true){p+="&reportModelViewsOnly=true"}else{p+="&reportModelViewsOnly=false"}return p},adHocQueryProcess:function(w,x,p,r){var z,q,u,t,y,v;function s(){}y=this;v=m(y);if(r){if(r.returnFormattedValues){v+="&returnFormattedValues=true"}if(r.cancelId){v+="&cancelId="+r.cancelId}}return l(y,v,w,x,p,r)},adHocQueryGetResults:function(t,p,r,s){var q;q=m(this);if(s){if(s.returnFormattedValues){q+="&returnFormattedValues=true&getResults=true"}if(s.cancelId){q+="&cancelId="+b(s.cancelId)}}l(this,q,t,p,r,s)},cancelAsyncOperation:function(r,p,t,s){var q;q=c(this,"WebShellCancelAsyncOperation.ashx")+"&cancelId="+b(r);n(this,q,p,t,s)},buildAdHocQueryExportUrl:function(p){var q;p=p||{};q=[];q.push(m(this));q.push("&forExport=true");f(q,"getResults","true",!!p.getResults);f(q,"queryViewId",p.queryViewId);return q.join("")},buildListBuilderExportUrl:function(p){var q;p=p||{};q=[];q.push(c(this,"WebShellListBuilderService.ashx"));q.push("&forExport=true");f(q,"queryViewId",p.queryViewId);f(q,"suppressPrimaryKeyField","true",!!p.suppressPrimaryKeyField);f(q,"searchText",p.searchText);f(q,"parameterFormSessionId",p.parameterFormSessionId);return q.join("")},buildAdHocQueryListExportUrl:function(p){var q;p=p||{};q=[];q.push(c(this,"WebShellAdHocQueryListService.ashx"));q.push("&forExport=true");f(q,"adHocQueryId",p.adHocQueryId);f(q,"queryViewId",p.queryViewId);f(q,"suppressPrimaryKeyField","true",!!p.suppressPrimaryKeyField);f(q,"searchText",p.searchText);f(q,"parameterFormSessionId",p.parameterFormSessionId);return q.join("")},adHocQuerySave:function(t,p,r,s){var q;q=g(this,"adHocQuerySave");l(this,q,t,p,r,s)},adHocQuerySaveDataList:function(t,p,r,s){var q;q=g(this,"adHocQuerySaveDataList");l(this,q,t,p,r,s)},adHocQuerySaveSearchList:function(t,p,r,s){var q;q=g(this,"adHocQuerySaveSearchList");l(this,q,t,p,r,s)},adHocQuerySaveReport:function(t,p,r,s){var q;q=g(this,"adHocQuerySaveReport");l(this,q,t,p,r,s)},adHocQuerySaveSmartQuery:function(t,p,r,s){var q;q=g(this,"adHocQuerySaveSmartQuery");l(this,q,t,p,r,s)},adHocQueryGetDefinition:function(s,t,p,q){var r=q.definitionType,u=q.throwOnInvalidFields,v;v=g(this,"adHocQueryGetDefinition")+"&id="+b(s);if(!BBUI.is(r)){r=0}v+="&definitionType="+b(r);if(BBUI.is(u)){v+="&throwOnInvalidFields="+b(u)}n(this,v,t,p,q)},adHocQueryDelete:function(q,p,s,r){var t;t=g(this,"adHocQueryDelete")+"&id="+b(q);l(this,t,null,p,s,r)},exportDefinitionSave:function(s,q,t,r){var p;p=g(this,"exportDefinitionSave");l(this,p,s,q,t,r)},exportDefinitionGetDefinition:function(q,p,s,r){var t;t=g(this,"exportDefinitionGetDefinition")+"&id="+b(q);n(this,t,p,s,r)},smartQueryProcess:function(w,x,p,r){var z,q,t,s,y,u;function v(){}y=this;u=c(y,"WebShellSmartQueryService.ashx");if(r){if(r.returnFormattedValues){u+="&returnFormattedValues=true"}if(r.cancelId){u+="&cancelId="+b(r.cancelId)}}return l(y,u,w,x,p,r)},smartQueryGetResults:function(t,p,r,s){var q;q=c(this,"WebShellSmartQueryService.ashx");if(s){if(s.returnFormattedValues){q+="&returnFormattedValues=true&getResults=true"}if(s.cancelId){q+="&cancelId="+b(s.cancelId)}}l(this,q,t,p,r,s)},buildSmartQueryExportUrl:function(p){var q;q=[];q.push(c(this,"WebShellSmartQueryService.ashx"));q.push("&forExport=true");if(p&&p.getResults){q.push("&getResults=true")}return q.join("")},userGetFunctionalAreaHistory:function(s,p,t,r){var q;q=g(this,"userGetFunctionalAreaHistory")+"&functionalAreaId="+b(s);if(r){if(r.folderPath){q+="&folderPath="+b(r.folderPath)}if(r.includeSearchTasks){q+="&includeSearchTasks=true"}if(r.includeShortcuts){q+="&includeShortcuts=true"}if(!r.skipMru){q+="&includeMru=true"}}n(this,q,p,t,r)},userUpdateDataFormSettings:function(r,u,t,p,q){var s;s=g(this,"userUpdateDataFormSettings")+"&formSessionId="+b(r)+"&userSettingsPath="+b(u);l(this,s,null,t,p,q)},userUpdateSelectedPervasiveSearchTask:function(r,p,t,s){var q;q=g(this,"userUpdateSelectedPervasiveSearchTask");if(r){q+="&pervasiveSearchTaskId="+b(r)}l(this,q,null,p,t,s)},userUpdateShortcuts:function(t,p,r,s){var q;s=s||{};q=g(this,"userUpdateShortcuts");if(s.remove){q+="&remove="+b(s.remove)}if(s.replace){q+="&replace="+b(s.replace)}l(this,q,t,p,r,s)},userUpdatePageActionGroupSettings:function(u,q,t,p,r){var s;s=g(this,"userUpdatePageActionGroupSettings")+"&pageId="+b(u);l(this,s,q,t,p,r)},userUpdateFunctionalAreaActionGroupSettings:function(u,q,t,p,r){var s;s=g(this,"userUpdateFunctionalAreaActionGroupSettings")+"&functionalAreaId="+b(u);l(this,s,q,t,p,r)},userUpdatePageDataListSettings:function(w,q,v,p,u,r,s){var t;t=g(this,"userUpdatePageDataListSettings",w,null,q)+"&dataListId="+b(v);l(this,t,p,u,r,s)},userUpdatePageListBuilderSettings:function(s,v,r,u,p,q){var t;q=q||{};t=g(this,"userUpdatePageListBuilderSettings")+"&queryViewId="+b(s)+"&userSettingsPath="+b(v);if(q.storeSettingsByContextRecordId){t+="&storeSettingsByContextRecordId=true";if(q.contextRecordId){t+="&contextRecordId="+b(q.contextRecordId)}}l(this,t,r,u,p,q)},userUpdatePageListBuilderSettingsFromInstance:function(v,q,u,t,p,r){var s;s=g(this,"userUpdatePageListBuilderSettingsFromInstance")+"&pageId="+b(v)+"&sectionId="+b(q)+"&listBuilderInstanceId="+b(u);if(r&&r.storeSettingsByContextRecordId){s+="&storeSettingsByContextRecordId=true";if(r.contextRecordId){s+="&contextRecordId="+b(r.contextRecordId)}}l(this,s,null,t,p,r)},userUpdateAdHocQueryListBuilderSettings:function(t,q,w,p,v,r,s){var u;u=g(this,"userUpdatePageListBuilderSettings")+"&queryViewId="+b(t)+"&adHocQueryId="+b(q)+"&userSettingsPath="+b(w);l(this,u,p,v,r,s)},userUpdatePageSectionSettings:function(u,t,s,p,q){var r;r=g(this,"userUpdatePageSectionSettings")+"&pageId="+b(u);l(this,r,t,s,p,q)},userUpdatePageTabSettings:function(u,q,t,p,r){var s;s=g(this,"userUpdatePageTabSettings")+"&pageId="+b(u);l(this,s,q,t,p,r)},userSetFeatureTipSeen:function(r,u,s,p,q){var t;t=g(this,"userSetFeatureTipSeen");l(this,t,{featureTipId:r,tipSeen:u},s,p,q)},userGetFeatureTipSeen:function(r,s,u,p,q){var t;t=g(this,"userGetFeatureTipSeen");l(this,t,{featureTipId:r,setTipAsSeen:s},u,p,q)},userUpdateSearchListGridSettings:function(s,u,r,p,q){var t;t=g(this,"userUpdateSearchListGridSettings")+"&searchlistid="+b(s);l(this,t,u,r,p,q)},userGetSearchListGridSettings:function(p,q,s,r){var t;t=g(this,"userGetSearchListGridSettings")+"&searchlistid="+b(p);n(this,t,q,s,r)},userUpdateBatchTemplateSettings:function(u,r,t,p,q){var s;s=g(this,"userUpdateBatchTemplateSettings")+"&batchid="+b(u);l(this,s,r,t,p,q)},userGetBatchTemplateSettings:function(s,p,t,r){var q;q=g(this,"userGetBatchTemplateSettings")+"&batchid="+b(s);n(this,q,p,t,r)},userUpdateActionPanelSettings:function(s,p,t,r){var q;q=g(this,"userUpdateActionPanelSettings");l(this,q,s,p,t,r)},featureSearch:function(t,u,s,p,q){var r;r=g(this,"featureSearch")+"&criteria="+b(t);if(u){r+="&onlyRssFeeds=true"}n(this,r,s,p,q)},buildRssFeedUrl:function(r,q){var p;p=BBUI.urlConcat(this.baseUrl,"rssfeed.ashx?WebShell=true&DBName="+b(this.databaseName)+"&DataListID="+b(r));if(q){p+="&ContextRecordID="+q}return p},dataFormLoad:function(u,t,p,q){var r,s;q=q||{};s=g(this,"dataFormLoad")+"&dataFormInstanceId="+b(u);if(q.recordId){s+="&recordId="+b(q.recordId)}if(q.contextRecordId){s+="&contextRecordId="+b(q.contextRecordId)}s=o(s,q);n(this,s,t,p,q)},dataFormSave:function(v,u,p,r){var s,t,q;r=r||{};q={};t=g(this,"dataFormSave")+"&dataFormInstanceId="+b(v);if(r.recordId){t+="&recordId="+b(r.recordId)}if(r.contextRecordId){t+="&contextRecordId="+b(r.contextRecordId)}t=o(t,r);if(r.values){q.values=r.values}l(this,t,q,u,p,r)},taskWizardGetDefinition:function(q,p,s,r){var t;t=g(this,"taskwizardgetdefinition")+"&taskWizardId="+b(q);n(this,t,p,s,r)},taskWizardGetTaskStatus:function(t,p,r,s){var q;q=g(this,"taskwizardgettaskstatus")+"&taskId="+b(t);n(this,q,p,r,s)},buildReportExportUrl:function(s,q,v,r,u,p){var t;t=g(this,"exportReport")+"&reportId="+b(s);if(q){t+="&historyId="+b(q)}if(!BBUI.is(v)){v=2}t+="&exportType="+b(v);if(r){t+="&deviceInfo="+b(r)}if(u){t+="&dataFormItemKey="+b(u)}if(p){t+="&fileName="+b(p)}return t},cacheDataFormItem:function(s,u,p,r){var t,q;if(s){q={values:s}}t=g(this,"cacheDataFormItem");l(this,t,q,u,p,r)},idMap:function(v,u,t,p,r){var s,q;s=g(this,"idMap")+"&idMapperId="+b(v);if(u){s+="&sourceId="+b(u)}n(this,s,t,p,r)},securityUserGrantedFeature:function(t,s,u,p,r){var v,q;v=g(this,"securityUserGrantedFeature")+"&id="+b(t)+"&featureType="+b(s);n(this,v,u,p,r)},loadCatalogItem:function(v,u,s,t,p,q){var r;r=g(this,"loadCatalogItem")+"&sourceType="+b(v)+"&sourceName="+b(u)+"&itemResourceName="+b(s);l(this,r,null,t,p,q)},getPageHelpKey:function(w,r,q,p,v,t,s){var u;u=g(this,"getPageHelpkey",w,r,q,null,p);n(this,u,v,t,s)},getFunctionalAreaHelpKey:function(s,p,t,r){var q;q=g(this,"getFunctionalAreaHelpkey");if(s){q+="&functionalAreaId="+b(s)}n(this,q,p,t,r)},buildSvcBaseUrl:function(p){return g(this,p)},doGet:function(p,q,s,r){d(this,"GET",p,null,q,s,r)},doPost:function(p,q,r,t,s){d(this,"POST",p,q,r,t,s)}};BBUI.webshell.Service.fromSvc=function(p){return new BBUI.webshell.Service(p.baseUrl,p.databaseName,{runAs:p.runAs,onRequestBegin:p.onRequestBegin,onRequestEnd:p.onRequestEnd,httpHeaders:p.httpHeaders})}}());
